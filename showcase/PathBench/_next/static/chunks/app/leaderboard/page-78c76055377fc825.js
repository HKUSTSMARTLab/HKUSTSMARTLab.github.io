(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[410],{1033:(e,s,t)=>{Promise.resolve().then(t.bind(t,7839))},4856:(e,s,t)=>{"use strict";t.d(s,{Kg:()=>l,Ln:()=>r,Wg:()=>a});let a={Lung:{"Benign vs. Malignant":null,"NSCLC Subtype Classification":null,"Histological Subtyping":null,"CK7 Status Prediction":null,"TTF1 Status Prediction":null},Breast:{"Molecular Subtyping":null,"Histological Grading":null,"Pathological Complete Response":null,"ER Status Prediction":null,"PR Status Prediction":null},Gastric:{"Helicobacter Pylori Detection":null,"Intestinal Metaplasia Detection":null,"Lauren Classification":null,"S-100 Expression Prediction":null,"Histological Grading":null},Colorectal:{"Inflammation Detection":["External H1","External H5","External H8"],"Tumor Invasion Depth Prediction (2 classes)":["External H1","External H5","External H8"],"Histological Grading":["External H1","External H5","External H8"],"Microsatellite Instability Prediction":["External H1","External H5","External H8"],"KRAS Mutation Prediction":null},Brain:{"Histological Subtyping":null,"WHO Grading":null,"IDH Mutation Prediction":null}};function r(e){let s=a[e.organ];if(!s)return!1;let t=s[e.name];return void 0!==t&&(null===t||t.includes(e.cohort))}function l(e){return e.filter(r)}},7839:(e,s,t)=>{"use strict";t.d(s,{Dashboard:()=>eg});var a=t(5155),r=t(2115),l=t(6911),n=t(1567);let o=l.bL,i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.B8,{ref:s,className:(0,n.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...r})});i.displayName=l.B8.displayName;let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.l9,{ref:s,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...r})});c.displayName=l.l9.displayName;let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.UC,{ref:s,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r})});d.displayName=l.UC.displayName;let m=r.forwardRef((e,s)=>{let{className:t,type:r,...l}=e;return(0,a.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...l})});m.displayName="Input";var x=t(9749),u=t(1765),h=t(7193);let g=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(u.bL,{ref:s,className:(0,n.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...r,children:(0,a.jsx)(u.C1,{className:(0,n.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(h.A,{className:"h-4 w-4"})})})});g.displayName=u.bL.displayName;var p=t(6195),b=t(1027);let f=(0,b.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),v=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(p.b,{ref:s,className:(0,n.cn)(f(),t),...r})});v.displayName=p.b.displayName;var N=t(3312),j=t(5565),y=t(8173),w=t.n(y),k=t(8699),C=t(1536),S=t(648),R=t(9967);let M=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:s,className:(0,n.cn)("w-full caption-bottom text-sm",t),...r})})});M.displayName="Table";let H=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("thead",{ref:s,className:(0,n.cn)("[&_tr]:border-b",t),...r})});H.displayName="TableHeader";let L=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("tbody",{ref:s,className:(0,n.cn)("[&_tr:last-child]:border-0",t),...r})});L.displayName="TableBody",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("tfoot",{ref:s,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...r})}).displayName="TableFooter";let T=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("tr",{ref:s,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...r})});T.displayName="TableRow";let E=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("th",{ref:s,className:(0,n.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...r})});E.displayName="TableHead";let P=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("td",{ref:s,className:(0,n.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...r})});P.displayName="TableCell",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("caption",{ref:s,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",t),...r})}).displayName="TableCaption";let F=(0,b.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function B(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)(F({variant:t}),s),...r})}function z(){let{getFilteredModels:e}=(0,k.w)(),s=e(),[t,l]=(0,r.useState)(""),[n,o]=(0,r.useState)("released_date"),[i,c]=(0,r.useState)("desc"),d=e=>({r50:"https://arxiv.org/abs/1512.03385",ctranspath:"https://doi.org/10.1016/j.media.2022.102559",virchow:"https://doi.org/10.1038/s41591-024-03141-0",gigapath:"https://doi.org/10.1038/s41586-024-07441-w",hibou:"https://arxiv.org/abs/2406.05074",gpfm:"https://doi.org/10.1038/s41551-025-01488-4",hoptimus0:"https://huggingface.co/bioptimus/H-optimus-0",hoptimus1:"https://huggingface.co/bioptimus/H-optimus-1",plip:"https://doi.org/10.1038/s41591-023-02504-3",conch:"https://doi.org/10.1038/s41591-024-02856-4",musk:"https://doi.org/10.1038/s41586-024-08378-w",mstar:"https://arxiv.org/abs/2407.15362",phikon:"https://www.medrxiv.org/content/10.1101/2023.07.21.23292757v3",phikon2:"https://arxiv.org/abs/2409.09173",chief:"https://doi.org/10.1038/s41586-024-07894-z",uni:"https://doi.org/10.1038/s41591-024-02857-3",virchow2:"https://arxiv.org/abs/2408.00738",patho_clip:"https://arxiv.org/abs/2505.11404",omiclip:"https://doi.org/10.1038/s41592-025-02707-1"})[e.toLowerCase()]||"https://scholar.google.com/scholar?q=".concat(encodeURIComponent(e)),u=e=>{let s=d(e.citation);window.open(s,"_blank","noopener,noreferrer")},h=e=>{if("-"===e)return 0;let s=e.match(/^([\d.]+)([MBK]?)$/);if(!s)return 0;let t=parseFloat(s[1]);switch(s[2]){case"B":return 1e3*t;case"M":default:return t;case"K":return t/1e3}},g=e=>{if("-"===e)return new Date(0);if(e.includes("-")){let s=e.split("-");if(3===s.length){let e=s[0],t=s[1],a=2===s[2].length?"20"+s[2]:s[2];return new Date("".concat(t," ").concat(e,", ").concat(a))}}else{let s=e.split("-");if(2===s.length){let e=s[0],t=2===s[1].length?"20"+s[1]:s[1];return new Date("".concat(e," 1, ").concat(t))}}return new Date(e)},p=(0,r.useMemo)(()=>s.filter(e=>e.name.toLowerCase().includes(t.toLowerCase())||e.architecture.toLowerCase().includes(t.toLowerCase())||e.pretraining_strategy.toLowerCase().includes(t.toLowerCase())||e.publication.toLowerCase().includes(t.toLowerCase())).sort((e,s)=>{let t,a;return("parameterValue"===n?(t=h(e.parameters),a=h(s.parameters)):"released_date"===n?(t=g(e.released_date),a=g(s.released_date)):(t=e[n],a=s[n]),t<a)?"asc"===i?-1:1:t>a?"asc"===i?1:-1:0}),[s,t,n,i]),b=e=>{n===e?c("asc"===i?"desc":"asc"):(o(e),c("asc"))},f=e=>n!==e?(0,a.jsx)(C.MjW,{className:"w-3 h-3 opacity-50"}):"asc"===i?(0,a.jsx)(C.XhJ,{className:"w-3 h-3 text-blue-600"}):(0,a.jsx)(C.GOR,{className:"w-3 h-3 text-blue-600"}),v=e=>{let s=e.toLowerCase(),t=e,a="bg-gray-100 text-gray-800 border-gray-200";switch(s){case"nature":a="bg-red-100 text-red-800 border-red-200";break;case"nat. med.":case"nm":t="Nat. Med.",a="bg-red-100 text-red-800 border-red-200";break;case"cvpr":a="bg-blue-100 text-blue-800 border-blue-200";break;case"media":a="bg-green-100 text-green-800 border-green-200";break;case"nat. biomed. eng.":t="Nat. BME",a="bg-red-100 text-red-800 border-red-200";break;case"nbme":t="NBME",a="bg-purple-100 text-purple-800 border-purple-200";break;case"preprint":a="bg-orange-100 text-orange-800 border-orange-200"}return{displayName:t,colorClass:a}},j=e=>e.includes("ViT")?"bg-blue-50 text-blue-700 border-blue-200":e.includes("ResNet")?"bg-green-50 text-green-700 border-green-200":e.includes("Swin")?"bg-purple-50 text-purple-700 border-purple-200":"bg-gray-50 text-gray-700 border-gray-200";return(0,a.jsxs)(x.Zp,{className:"shadow-sm",children:[(0,a.jsxs)(x.aR,{className:"pb-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[(0,a.jsx)(x.ZB,{className:"text-lg sm:text-xl font-semibold",children:"Pathology Foundation Models"}),(0,a.jsx)("div",{className:"flex gap-4 text-xs sm:text-sm text-muted-foreground",children:(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{className:"font-medium",children:p.length})," Models"]})})]}),(0,a.jsxs)("div",{className:"relative max-w-sm",children:[(0,a.jsx)(C.KSO,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,a.jsx)(m,{placeholder:"Search models...",value:t,onChange:e=>l(e.target.value),className:"pl-10 text-sm"})]})]}),(0,a.jsxs)(x.Wu,{className:"p-0",children:[(0,a.jsx)("div",{className:"block xl:hidden",children:(0,a.jsx)("div",{className:"space-y-4 p-4",children:p.map(e=>(0,a.jsx)(x.Zp,{className:"border border-gray-200 cursor-pointer hover:shadow-md transition-shadow mobile-card",onClick:()=>u(e),children:(0,a.jsx)(x.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 text-sm",children:e.name}),(0,a.jsx)(B,{variant:"outline",className:"text-xs",children:e.architecture})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Parameters:"}),(0,a.jsx)("div",{className:"font-medium",children:e.parameters})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Slides:"}),(0,a.jsx)("div",{className:"font-medium",children:e.slides})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Patches:"}),(0,a.jsx)("div",{className:"font-medium",children:e.patches})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Released:"}),(0,a.jsx)("div",{className:"font-medium",children:e.released_date})]})]}),(0,a.jsxs)("div",{className:"pt-2 border-t border-gray-100",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Publication:"}),(0,a.jsx)("div",{className:"text-sm font-medium text-blue-600 truncate",children:e.publication})]})]})})},e.name))})}),(0,a.jsx)("div",{className:"hidden lg:block overflow-x-auto mobile-table-scroll",children:(0,a.jsxs)(M,{className:"min-w-[1000px]",children:[(0,a.jsx)(H,{children:(0,a.jsxs)(T,{className:"bg-gray-50/50",children:[(0,a.jsx)(E,{className:"font-semibold px-3 py-4 text-base w-[15%]",children:(0,a.jsxs)(N.$,{variant:"ghost",size:"sm",onClick:()=>b("name"),className:"h-auto p-0 font-semibold hover:bg-transparent flex items-center gap-1 text-base",children:["Model Name",f("name")]})}),(0,a.jsx)(E,{className:"font-semibold px-3 py-4 text-base w-[10%]",children:(0,a.jsxs)(N.$,{variant:"ghost",size:"sm",onClick:()=>b("architecture"),className:"h-auto p-0 font-semibold hover:bg-transparent flex items-center gap-1 text-base",children:["Architecture",f("architecture")]})}),(0,a.jsx)(E,{className:"font-semibold px-3 py-4 text-base w-[10%]",children:(0,a.jsxs)(N.$,{variant:"ghost",size:"sm",onClick:()=>b("pretraining_strategy"),className:"h-auto p-0 font-semibold hover:bg-transparent flex items-center gap-1 text-base",children:["Strategy",f("pretraining_strategy")]})}),(0,a.jsx)(E,{className:"font-semibold px-3 py-4 text-center text-base w-[8%]",children:(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsxs)(N.$,{variant:"ghost",size:"sm",onClick:()=>b("parameterValue"),className:"h-auto p-0 font-semibold hover:bg-transparent flex items-center gap-1 text-base",children:["Parameters",f("parameterValue")]})})}),(0,a.jsx)(E,{className:"font-semibold px-3 py-4 text-center text-base w-[7%]",children:"Slides"}),(0,a.jsx)(E,{className:"font-semibold px-3 py-4 text-center text-base w-[7%]",children:"Patches"}),(0,a.jsx)(E,{className:"font-semibold px-3 py-4 text-base w-[20%]",children:"Data Source"}),(0,a.jsx)(E,{className:"font-semibold px-3 py-4 text-base w-[8%]",children:"Stain"}),(0,a.jsx)(E,{className:"font-semibold px-3 py-4 text-center text-base w-[8%]",children:(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsxs)(N.$,{variant:"ghost",size:"sm",onClick:()=>b("released_date"),className:"h-auto p-0 font-semibold hover:bg-transparent flex items-center gap-1 text-base",children:["Released",f("released_date")]})})}),(0,a.jsx)(E,{className:"font-semibold px-3 py-4 text-center text-base w-[7%]",children:(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsxs)(N.$,{variant:"ghost",size:"sm",onClick:()=>b("publication"),className:"h-auto p-0 font-semibold hover:bg-transparent flex items-center gap-1 text-base",children:["Publication",f("publication")]})})})]})}),(0,a.jsx)(L,{children:p.map((e,s)=>(0,a.jsxs)(T,{onClick:()=>u(e),className:"hover:bg-blue-50/50 hover:cursor-pointer transition-colors ".concat(s%2==0?"bg-white":"bg-gray-50/20"),title:"Click to view ".concat(e.name," publication"),children:[(0,a.jsx)(P,{className:"font-semibold text-gray-900 px-3 py-4 w-[15%]",children:(0,a.jsx)("div",{className:"text-base truncate",title:e.name,children:e.name})}),(0,a.jsx)(P,{className:"px-3 py-4 w-[10%]",children:(0,a.jsx)(B,{variant:"outline",className:"".concat(j(e.architecture)," font-medium text-sm truncate"),children:e.architecture})}),(0,a.jsx)(P,{className:"px-3 py-4 w-[10%]",children:(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:e.pretraining_strategy.split(", ").map((e,s)=>{let t="Supervised Learning"===e?e.replace(" ","\n"):e;return(0,a.jsx)(B,{variant:"outline",className:"bg-indigo-50 text-indigo-700 border-indigo-200 text-sm whitespace-pre-line text-center leading-tight",children:t},s)})})}),(0,a.jsx)(P,{className:"text-base font-medium px-3 py-4 text-center w-[8%]",children:(0,a.jsx)("div",{className:"truncate",children:e.parameters})}),(0,a.jsx)(P,{className:"text-base px-3 py-4 text-center w-[7%]",children:(0,a.jsx)("div",{className:"truncate",children:e.slides})}),(0,a.jsx)(P,{className:"text-base px-3 py-4 text-center w-[7%]",children:(0,a.jsx)("div",{className:"truncate",children:e.patches})}),(0,a.jsx)(P,{className:"px-3 py-4 w-[20%]",children:(0,a.jsx)("div",{className:"text-base leading-tight truncate",title:e.pretraining_data_source,children:e.pretraining_data_source})}),(0,a.jsx)(P,{className:"px-3 py-4 w-[8%]",children:(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:e.stain.split(", ").map((e,s)=>(0,a.jsx)(B,{variant:"outline",className:"bg-emerald-50 text-emerald-700 border-emerald-200 text-sm truncate",children:e},s))})}),(0,a.jsx)(P,{className:"text-base px-3 py-4 text-center w-[8%]",children:(0,a.jsx)("div",{className:"truncate",children:e.released_date})}),(0,a.jsx)(P,{className:"px-3 py-4 text-center w-[7%]",children:"-"!==e.publication?(()=>{let{displayName:s,colorClass:t}=v(e.publication);return(0,a.jsx)(B,{variant:"outline",className:"".concat(t," font-medium text-sm truncate"),children:s})})():(0,a.jsx)("span",{className:"text-gray-400 text-base",children:"-"})})]},e.name))})]})})]})]})}var A=t(8599),D=t(8868),O=t(4126),W=t(8815),_=t(1508);let I=(0,r.memo)(function(e){let{taskName:s,organ:t,cohort:l,modelStats:n,selectedMetric:o}=e,i=(0,r.useMemo)(()=>{if(!n||0===n.length)return{animation:!1,title:{text:"No data available for ".concat(l),left:"center",textStyle:{fontSize:14,color:"#666"}},xAxis:{type:"category",data:[]},yAxis:{type:"value"},series:[]};let e=n.map(e=>(null==e?void 0:e.modelName)||""),s=n.map(e=>(null==e?void 0:e.mean)||0),t=n.map(e=>(null==e?void 0:e.std)||0),a=s.concat(n.flatMap(e=>(null==e?void 0:e.values)||[])),r=Math.min(...a),i=Math.max(...a),c=i-r,d=Math.max(0,r-.1*c),m=i+.1*c,x=[];return n.forEach((e,s)=>{e&&e.values&&e.values.forEach(e=>{x.push([s,e])})}),{animation:!0,animationDuration:200,animationEasing:"cubicOut",animationDelay:function(e){return 8*e},animationDurationUpdate:100,animationEasingUpdate:"cubicOut",backgroundColor:"#fafafa",tooltip:{trigger:"axis",axisPointer:{type:"shadow"},backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#e5e7eb",borderWidth:1,textStyle:{color:"#374151"},formatter:function(e){if(Array.isArray(e)&&e.length>0){let s=n[e[0].dataIndex];if(s)return'\n                <div style="font-weight: bold; margin-bottom: 8px;">'.concat(s.modelName,'</div>\n                <div>Mean: <span style="font-weight: bold;">').concat(s.mean.toFixed(3),"</span></div>\n                <div>Std: ").concat(s.std.toFixed(3),"</div>\n                <div>Range: ").concat(s.min.toFixed(3)," - ").concat(s.max.toFixed(3),"</div>\n                <div>Folds: ").concat(s.values.length,"</div>\n              ")}return""}},grid:{left:"12%",right:"5%",bottom:"7%",top:"5%",containLabel:!0},xAxis:{type:"category",data:e,axisLabel:{rotate:45,fontSize:11,color:"#374151",interval:0},axisLine:{lineStyle:{color:"#d1d5db"}},axisTick:{lineStyle:{color:"#d1d5db"}}},yAxis:{type:"value",name:o,nameLocation:"middle",nameGap:60,nameTextStyle:{fontSize:14,color:"#374151",fontWeight:"bold"},min:d,max:m,axisLabel:{formatter:function(e){return e.toFixed(3)},fontSize:11,color:"#374151",showMinLabel:!0,showMaxLabel:!0,margin:10},splitNumber:(()=>{let e=m-d;return e<.05?3:e<.1?4:e<.2?5:6})(),...(()=>{let e=m-d;return e<.05?{interval:(m-d)/2}:e<.1?{interval:(m-d)/3}:{}})(),axisLine:{lineStyle:{color:"#d1d5db"}},axisTick:{lineStyle:{color:"#d1d5db"}},splitLine:{lineStyle:{color:"#e5e7eb",type:"dashed"}}},series:[{name:"Mean Performance",type:"bar",data:s.map((e,s)=>{let t=["#67001F","#981328","#B72C34","#C5413F","#CF5349","#D86654","#D96856","#EC9578","#F6B89C","#F7BB9F","#F7BCA0","#FAD3BE","#F8EAE3","#F6EDE8","#E5EEF2","#E4EDF2","#96C6DF","#8DC1DC","#053061"],a=s%t.length,r=t[a];return{value:e,itemStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:r},{offset:1,color:r}]},borderRadius:[2,2,0,0],shadowColor:"rgba(0, 0, 0, 0.1)",shadowBlur:4,shadowOffsetY:2}}}),barWidth:"65%",z:1,emphasis:{itemStyle:{shadowColor:"rgba(0, 0, 0, 0.3)",shadowBlur:8,shadowOffsetY:4}}},{name:"Error Bars",type:"custom",renderItem:function(e,s){let a=s.value(0),r=s.value(1),l=t[e.dataIndex],n=s.coord([a,r]),o=s.size([1,l]);return{type:"group",children:[{type:"line",shape:{x1:n[0],y1:n[1]-o[1],x2:n[0],y2:n[1]+o[1]},style:{stroke:"#1f2937",lineWidth:2}},{type:"line",shape:{x1:n[0]-5,y1:n[1]+o[1],x2:n[0]+5,y2:n[1]+o[1]},style:{stroke:"#1f2937",lineWidth:2}},{type:"line",shape:{x1:n[0]-5,y1:n[1]-o[1],x2:n[0]+5,y2:n[1]-o[1]},style:{stroke:"#1f2937",lineWidth:2}}]}},data:s.map((e,s)=>[s,e]),z:3},{name:"Individual Folds",type:"scatter",data:x,symbolSize:5,itemStyle:{color:"#9ca3af",opacity:.7,borderColor:"#6b7280",borderWidth:.5},z:2,emphasis:{itemStyle:{color:"#6b7280",opacity:.9}}}]}},[n,o,l]);return(0,a.jsxs)(x.Zp,{className:"w-full shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[(0,a.jsxs)(x.aR,{className:"pb-2 pt-3 sm:pt-4",children:[(0,a.jsx)(x.ZB,{className:"text-base sm:text-lg text-gray-900 leading-tight",children:s}),(0,a.jsxs)("p",{className:"text-xs sm:text-sm text-gray-600",children:[t," • ",n.length," models • ",o," • ",l]})]}),(0,a.jsx)(x.Wu,{className:"pb-2 pt-2 px-2 sm:px-6",children:(0,a.jsx)("div",{className:"h-[250px] sm:h-[350px]",children:(0,a.jsx)(D.A,{option:i,style:{height:"100%",width:"100%"},opts:{renderer:"canvas",devicePixelRatio:window.innerWidth<768?1:2},notMerge:!0,lazyUpdate:!0})})})]})});function Z(e){let{taskId:s,taskName:t,organ:l}=e,n=(0,r.useMemo)(()=>{var e;let t=O.C.filter(e=>e.taskId===s);if(0===t.length)return[];let a=Object.keys((null===(e=t[0])||void 0===e?void 0:e.metrics)||{})[0];if(!a)return[];let r=W.v.find(e=>e.id===s),l=(null==r?void 0:r.cohort)||"unknown",n=new Map;t.forEach(e=>{n.has(l)||n.set(l,[]),n.get(l).push(e)});let o=[];for(let[e,t]of n.entries()){let r=t.map(t=>{var r,l;let n=null===(l=_.Y.modelStats[t.modelID])||void 0===l?void 0:null===(r=l[s])||void 0===r?void 0:r[a];if(n)return{modelName:t.modelID,mean:n.mean,std:n.std,values:n.values,min:n.min,max:n.max,cohort:e};let o=t.metrics[a];if(!o||0===o.length)return null;let i=o.reduce((e,s)=>e+s,0)/o.length,c=Math.sqrt(o.reduce((e,s)=>{let t=s-i;return e+t*t},0)/o.length),d=Math.min(...o),m=Math.max(...o);return{modelName:t.modelID,mean:i,std:c,values:o,min:d,max:m,cohort:e}}).filter(Boolean);r.sort((e,s)=>((null==s?void 0:s.mean)||0)-((null==e?void 0:e.mean)||0)),r.length>0&&o.push({cohort:e,modelStats:r,selectedMetric:a})}return o},[s]);return 0===n.length?(0,a.jsxs)(x.Zp,{className:"w-full shadow-sm border border-gray-200",children:[(0,a.jsx)(x.aR,{children:(0,a.jsx)(x.ZB,{className:"text-lg text-gray-900",children:t})}),(0,a.jsx)(x.Wu,{className:"h-64 flex items-center justify-center",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No data available for this task"})})]}):(0,a.jsx)(a.Fragment,{children:n.map(e=>(0,a.jsx)(I,{taskName:t,organ:l,cohort:e.cohort,modelStats:e.modelStats,selectedMetric:e.selectedMetric},"".concat(s,"-").concat(e.cohort)))})}function $(e){let{children:s,height:t=400,rootMargin:l="100px",threshold:n=.1,placeholder:o}=e,[i,c]=(0,r.useState)(!1),[d,m]=(0,r.useState)(!1),x=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=x.current;if(!e)return;if(!window.IntersectionObserver){c(!0),m(!0);return}let s=new IntersectionObserver(e=>{let[t]=e;t.isIntersecting&&!d&&(setTimeout(()=>{c(!0),m(!0)},50),s.unobserve(t.target))},{rootMargin:l,threshold:n});return s.observe(e),()=>{s.unobserve(e)}},[l,n,d]);let u=(0,a.jsx)("div",{className:"w-full bg-gray-50 border border-gray-200 rounded-lg animate-pulse",style:{height:"".concat(t,"px")},children:(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded mb-4 w-3/4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2 w-1/2"}),(0,a.jsxs)("div",{className:"space-y-3 mt-8",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-full"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-5/6"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-4/6"})]})]})});return(0,a.jsx)("div",{ref:x,style:{minHeight:d?"auto":"".concat(t,"px")},children:i?s:o||u})}var G=t(633),J=t(4856),K=t(437),V=t(1983),U=t(1829),Y=t(7893);let Q={Breast:"#df2ebd",Lung:"#9e09db",Colon:"#f0773b",Colorectal:"#f0773b",CRC:"#f0773b",Brain:"#1799e3",Stomach:"#73c0de",Gastric:"#73c0de",Liver:"#43ddcf",Kidney:"#26c156",Prostate:"#3ca6cd",Bladder:"#69a1ec",Thyroid:"#5470c6",Esophagus:"#348522",Cervical:"#d7215d","Soft Tissue":"#9c9c9c",Pancreas:"#c736cf",Ovary:"#44d52d",Skin:"#f52ab6"};function q(e){return Q[e]||"#6B7280"}let X=["IHC-","Expression Prediction","Mutation","Microsatellite","MSI","KRAS","IDH","Molecular Subtyping","Pathological Complete Response"];function ee(e){return X.some(s=>e.includes(s))}function es(e,s){return"classification"===e.toLowerCase()?ee(s)?"Molecular Prediction":"Histological Diagnosis":e}let et=[{organ:"Lung",source:"H1",cohort:"Retrospective-Cohort",caseNumber:4161,slidesNumber:5133},{organ:"Lung",source:"H1",cohort:"Prospective-Cohort",caseNumber:648,slidesNumber:2383},{organ:"Lung",source:"H1",cohort:"Retrospective-Frozen-Cohort",caseNumber:969,slidesNumber:2998},{organ:"Lung",source:"H5",cohort:"Retrospective-Cohort",caseNumber:493,slidesNumber:493},{organ:"Lung",source:"H6",cohort:"Retrospective-Cohort",caseNumber:826,slidesNumber:1412},{organ:"Breast",source:"H1",cohort:"Retrospective-Cohort",caseNumber:559,slidesNumber:6823},{organ:"Breast",source:"H2",cohort:"Retrospective-Cohort",caseNumber:1877,slidesNumber:3140},{organ:"Breast",source:"H2",cohort:"Prospective-Cohort",caseNumber:174,slidesNumber:388},{organ:"Breast",source:"H4",cohort:"Retrospective-Cohort",caseNumber:1534,slidesNumber:3630},{organ:"Breast",source:"H9",cohort:"Retrospective-Cohort",caseNumber:418,slidesNumber:421},{organ:"Breast",source:"H12",cohort:"Retrospective-Cohort",caseNumber:788,slidesNumber:931},{organ:"Breast",source:"H13",cohort:"Retrospective-Cohort",caseNumber:514,slidesNumber:514},{organ:"Gastric",source:"H1",cohort:"Retrospective-Cohort",caseNumber:399,slidesNumber:401},{organ:"Gastric",source:"H1",cohort:"Prospective-Cohort",caseNumber:950,slidesNumber:961},{organ:"Gastric",source:"H1",cohort:"Retrospective-Biopsy-Cohort",caseNumber:5519,slidesNumber:5616},{organ:"Gastric",source:"H2",cohort:"Retrospective-Cohort",caseNumber:1416,slidesNumber:4220},{organ:"Gastric",source:"H3",cohort:"Retrospective-Cohort",caseNumber:260,slidesNumber:260},{organ:"Gastric",source:"H4",cohort:"Retrospective-Cohort",caseNumber:320,slidesNumber:320},{organ:"Gastric",source:"H7",cohort:"Retrospective-Biopsy-Cohort",caseNumber:1327,slidesNumber:2697},{organ:"Colorectal",source:"H1",cohort:"Retrospective-Cohort",caseNumber:5280,slidesNumber:18555},{organ:"Colorectal",source:"H1",cohort:"Retrospective-Biopsy-Cohort",caseNumber:980,slidesNumber:1057},{organ:"Colorectal",source:"H1",cohort:"Prospective-Biopsy-Cohort",caseNumber:2730,slidesNumber:2874},{organ:"Colorectal",source:"H5",cohort:"Retrospective-Cohort",caseNumber:890,slidesNumber:891},{organ:"Colorectal",source:"H8",cohort:"Retrospective-Cohort",caseNumber:621,slidesNumber:2779},{organ:"Colorectal",source:"H14",cohort:"Retrospective-Cohort",caseNumber:361,slidesNumber:717},{organ:"Colorectal",source:"H15",cohort:"Retrospective-Cohort",caseNumber:460,slidesNumber:460},{organ:"Colorectal",source:"H16",cohort:"Retrospective-Cohort",caseNumber:334,slidesNumber:334},{organ:"Liver",source:"H2",cohort:"Retrospective-Cohort",caseNumber:1016,slidesNumber:1016},{organ:"Liver",source:"H11",cohort:"Retrospective-Cohort",caseNumber:45,slidesNumber:76},{organ:"Liver",source:"H19",cohort:"Retrospective-Cohort",caseNumber:503,slidesNumber:503},{organ:"Liver",source:"H20",cohort:"Retrospective-Cohort",caseNumber:56,slidesNumber:56},{organ:"Liver",source:"H21",cohort:"Retrospective-Cohort",caseNumber:82,slidesNumber:82},{organ:"Liver",source:"H22",cohort:"Retrospective-Cohort",caseNumber:79,slidesNumber:79},{organ:"Cervical",source:"H10",cohort:"Retrospective-Cohort",caseNumber:801,slidesNumber:4251},{organ:"Brain",source:"H1",cohort:"Retrospective-Cohort",caseNumber:676,slidesNumber:1358},{organ:"Thyroid",source:"H2",cohort:"Retrospective-Cohort",caseNumber:721,slidesNumber:721},{organ:"Thyroid",source:"H10",cohort:"Retrospective-Cohort",caseNumber:238,slidesNumber:959},{organ:"Soft Tissue",source:"H17",cohort:"Retrospective-Cohort",caseNumber:200,slidesNumber:607},{organ:"Soft Tissue",source:"H18",cohort:"Retrospective-Cohort",caseNumber:205,slidesNumber:212},{organ:"Esophagus",source:"H25",cohort:"Retrospective-Cohort",caseNumber:128,slidesNumber:128},{organ:"Esophagus",source:"H26",cohort:"Retrospective-Cohort",caseNumber:51,slidesNumber:51},{organ:"Bladder",source:"H24",cohort:"Retrospective-Cohort",caseNumber:1090,slidesNumber:1090},{organ:"Prostate",source:"H10",cohort:"Retrospective-Cohort",caseNumber:257,slidesNumber:3186},{organ:"Prostate",source:"H23",cohort:"Retrospective-Cohort",caseNumber:161,slidesNumber:161}];function ea(){let[e,s]=(0,r.useState)(!1),{leaderboardView:t,setLeaderboardView:l}=(0,k.w)(),n=(0,r.useMemo)(()=>"selected"===t?(0,J.Kg)(W.v):W.v,[t]),o=(0,r.useMemo)(()=>{let e=new Set(n.map(e=>e.organ)),s=new Set(n.map(e=>es(e.taskType,e.name)));return{modelCount:G.J.length,taskCount:n.length,organCount:e.size,taskTypeCount:s.size,organs:Array.from(e),taskTypes:Array.from(s)}},[n]),i=(0,r.useMemo)(()=>{let e=Object.keys(J.Wg).length,s=new Set;return Object.values(J.Wg).forEach(e=>{Object.keys(e).forEach(e=>s.add(e))}),{organCount:e,uniqueTaskNames:s.size}},[]),c=(0,r.useMemo)(()=>{let e=et.reduce((e,s)=>e+s.caseNumber,0),s=et.reduce((e,s)=>e+s.slidesNumber,0),t=new Set(et.map(e=>e.source)).size;return{totalCases:e,totalSlides:s,totalHospitals:t,totalOrgans:new Set(et.map(e=>e.organ)).size,byOrgan:et.reduce((e,s)=>(e[s.organ]||(e[s.organ]={cases:0,slides:0,hospitals:new Set}),e[s.organ].cases+=s.caseNumber,e[s.organ].slides+=s.slidesNumber,e[s.organ].hospitals.add(s.source),e),{})}},[]),d=(0,r.useMemo)(()=>{if("full"===t){let e=_.Y.modelRankings.all;if(!e||0===e.rankings.length)return[];let s=new Set(G.J.map(e=>e.name));return e.rankings.filter(e=>s.has(e.modelId)).sort((e,s)=>e.avgRank-s.avgRank).slice(0,5).map((e,s)=>({name:e.modelId,avgRank:e.avgRank,taskCount:e.taskCount,rank:s+1}))}{let e=new Set(G.J.map(e=>e.name)),s=new Map;return G.J.forEach(e=>{s.set(e.name,{totalRank:0,taskCount:0})}),n.forEach(t=>{let a=_.Y.modelStats,r=[];Object.entries(a).forEach(s=>{let[a,l]=s;if(!e.has(a))return;let n=l[t.id];if(!n)return;let o=n.AUC||n["C-Index"];o&&void 0!==o.mean&&r.push({modelName:a,avgScore:o.mean})}),r.sort((e,s)=>s.avgScore-e.avgScore),r.forEach((e,t)=>{let a=s.get(e.modelName);a&&(a.totalRank+=t+1,a.taskCount++)})}),Array.from(s.entries()).filter(e=>{let[s,t]=e;return t.taskCount>0}).map(e=>{let[s,t]=e;return{name:s,avgRank:t.totalRank/t.taskCount,taskCount:t.taskCount,rank:0}}).sort((e,s)=>e.avgRank-s.avgRank).slice(0,5).map((e,s)=>({...e,rank:s+1}))}},[t,n]),m=d[0];return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("section",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsx)("div",{children:(0,a.jsx)("p",{className:"text-sm text-slate-600",children:"selected"===t?(0,a.jsxs)(a.Fragment,{children:["Showing ",(0,a.jsxs)("span",{className:"font-semibold text-blue-600",children:[o.taskCount," curated cohorts"]})," across ",i.organCount," organs"]}):(0,a.jsxs)(a.Fragment,{children:["Showing ",(0,a.jsxs)("span",{className:"font-semibold text-slate-900",children:["all ",o.taskCount," cohorts"]})," across ",o.organCount," organs"]})})}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-slate-700",children:"View:"}),(0,a.jsxs)("div",{className:"bg-slate-100 p-1 rounded-lg flex gap-1",children:[(0,a.jsx)("button",{onClick:()=>l("selected"),className:"px-3 py-1.5 text-sm font-medium rounded-md transition-all ".concat("selected"===t?"bg-white text-slate-900 shadow-sm":"text-slate-600 hover:text-slate-900 hover:bg-slate-50"),children:"Selected Tasks"}),(0,a.jsx)("button",{onClick:()=>l("full"),className:"px-3 py-1.5 text-sm font-medium rounded-md transition-all ".concat("full"===t?"bg-white text-slate-900 shadow-sm":"text-slate-600 hover:text-slate-900 hover:bg-slate-50"),children:"Full Leaderboard"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsx)(er,{icon:(0,a.jsx)(C.XcJ,{className:"h-5 w-5 text-blue-600"}),value:o.modelCount,label:"Models Evaluated"}),(0,a.jsx)(er,{icon:(0,a.jsx)(C.nBS,{className:"h-5 w-5 text-green-600"}),value:o.taskCount,label:"Validation Cohorts"}),(0,a.jsx)(er,{icon:(0,a.jsx)(C.c9P,{className:"h-5 w-5 text-purple-600"}),value:o.organCount,label:"Organs Covered"}),(0,a.jsx)(er,{icon:(0,a.jsx)(C.aQJ,{className:"h-5 w-5 text-orange-600"}),value:o.taskTypeCount,label:"Task Types"})]})]}),(0,a.jsxs)("section",{className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Top Performing Models"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[m&&(0,a.jsx)(x.Zp,{className:"lg:col-span-1 bg-gradient-to-br from-amber-50 to-yellow-50 border-amber-200 flex items-center justify-center",children:(0,a.jsxs)(x.Wu,{className:"p-6 text-center",children:[(0,a.jsx)(C.SBv,{className:"h-10 w-10 text-amber-500 mx-auto mb-3"}),(0,a.jsx)(B,{className:"bg-amber-100 text-amber-800 border-amber-300 mb-2",children:"#1 Overall"}),(0,a.jsx)("h3",{className:"text-xl font-bold text-slate-900 mb-1",children:m.name}),(0,a.jsxs)("p",{className:"text-sm text-slate-600",children:["Avg Rank: ",(0,a.jsx)("span",{className:"font-semibold",children:m.avgRank.toFixed(2)})]})]})}),(0,a.jsx)(x.Zp,{className:"lg:col-span-2",children:(0,a.jsxs)(x.Wu,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-3 pb-2 mb-2 border-b border-slate-100",children:[(0,a.jsx)("span",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Model"}),(0,a.jsx)("span",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Avg Rank"})]}),(0,a.jsx)("div",{className:"space-y-2",children:d.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg ".concat(1===e.rank?"bg-amber-50":2===e.rank?"bg-slate-100":3===e.rank?"bg-orange-50":"bg-slate-50"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(el,{rank:e.rank}),(0,a.jsx)("span",{className:"font-medium text-slate-900",children:e.name})]}),(0,a.jsx)("span",{className:"text-sm font-semibold text-slate-700",children:e.avgRank.toFixed(2)})]},e.name))})]})})]})]}),(0,a.jsx)("section",{children:(0,a.jsxs)(x.Zp,{className:"border border-slate-200",children:[(0,a.jsxs)(x.aR,{className:e?"pb-3":"pb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)(x.ZB,{className:"text-lg font-semibold",children:"Study Coverage"}),(0,a.jsxs)(N.$,{variant:"outline",size:"sm",onClick:()=>s(!e),className:"gap-2",children:[e?(0,a.jsx)(C.mx3,{className:"h-4 w-4"}):(0,a.jsx)(C.Ny1,{className:"h-4 w-4"}),e?"Collapse":"Expand Details"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3 text-center border border-blue-100",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1.5 mb-1",children:[(0,a.jsx)(K.A,{className:"h-4 w-4 text-blue-600"}),(0,a.jsx)("span",{className:"text-xl font-bold text-blue-700",children:c.totalCases.toLocaleString()})]}),(0,a.jsx)("span",{className:"text-xs text-blue-600 font-medium",children:"Cases"})]}),(0,a.jsxs)("div",{className:"bg-green-50 rounded-lg p-3 text-center border border-green-100",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1.5 mb-1",children:[(0,a.jsx)(V.A,{className:"h-4 w-4 text-green-600"}),(0,a.jsx)("span",{className:"text-xl font-bold text-green-700",children:c.totalSlides.toLocaleString()})]}),(0,a.jsx)("span",{className:"text-xs text-green-600 font-medium",children:"Slides"})]}),(0,a.jsxs)("div",{className:"bg-purple-50 rounded-lg p-3 text-center border border-purple-100",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1.5 mb-1",children:[(0,a.jsx)(U.A,{className:"h-4 w-4 text-purple-600"}),(0,a.jsx)("span",{className:"text-xl font-bold text-purple-700",children:c.totalHospitals})]}),(0,a.jsx)("span",{className:"text-xs text-purple-600 font-medium",children:"Hospitals"})]}),(0,a.jsxs)("div",{className:"bg-orange-50 rounded-lg p-3 text-center border border-orange-100",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1.5 mb-1",children:[(0,a.jsx)(Y.A,{className:"h-4 w-4 text-orange-600"}),(0,a.jsx)("span",{className:"text-xl font-bold text-orange-700",children:c.totalOrgans})]}),(0,a.jsx)("span",{className:"text-xs text-orange-600 font-medium",children:"Organs"})]}),(0,a.jsxs)("div",{className:"bg-amber-50 rounded-lg p-3 text-center border border-amber-100",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1.5 mb-1",children:[(0,a.jsx)(C.aQJ,{className:"h-4 w-4 text-amber-600"}),(0,a.jsx)("span",{className:"text-xl font-bold text-amber-700",children:o.taskTypeCount})]}),(0,a.jsx)("span",{className:"text-xs text-amber-600 font-medium",children:"Task Types"})]}),(0,a.jsxs)("div",{className:"bg-indigo-50 rounded-lg p-3 text-center border border-indigo-100",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1.5 mb-1",children:[(0,a.jsx)(C.nBS,{className:"h-4 w-4 text-indigo-600"}),(0,a.jsx)("span",{className:"text-xl font-bold text-indigo-700",children:o.taskCount})]}),(0,a.jsx)("span",{className:"text-xs text-indigo-600 font-medium",children:"Validation Cohorts"})]})]})]}),(0,a.jsx)(x.Wu,{className:e?"pt-0":"hidden",children:e&&(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:Object.entries(et.reduce((e,s)=>(e[s.organ]||(e[s.organ]=[]),e[s.organ].push(s),e),{})).sort((e,s)=>{let t=e[1].reduce((e,s)=>e+s.caseNumber,0);return s[1].reduce((e,s)=>e+s.caseNumber,0)-t}).map(e=>{let[s,t]=e,r=t.reduce((e,s)=>e+s.caseNumber,0),l=t.reduce((e,s)=>e+s.slidesNumber,0),n=new Set(t.map(e=>e.source)).size,o=q(s);return(0,a.jsxs)("div",{className:"bg-white border border-slate-200 rounded-lg overflow-hidden",style:{borderTopColor:o,borderTopWidth:"3px"},children:[(0,a.jsxs)("div",{className:"p-3 bg-slate-50 border-b border-slate-100",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2.5 h-2.5 rounded-full shrink-0",style:{backgroundColor:o}}),(0,a.jsx)("span",{className:"font-semibold text-slate-900 text-sm",children:s})]}),(0,a.jsxs)("div",{className:"text-xs text-slate-500 mt-1",children:[n," hospital",n>1?"s":""," • ",t.length," cohort",t.length>1?"s":""]})]}),(0,a.jsxs)("div",{className:"p-3 space-y-2",children:[t.slice(0,3).map((e,s)=>(0,a.jsxs)("div",{className:"flex justify-between items-start text-xs gap-2",children:[(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("div",{className:"font-medium text-slate-800",children:e.source}),(0,a.jsx)("div",{className:"text-slate-500 truncate",children:e.cohort.replace("-Cohort","").replace("Retrospective-","Retro-")})]}),(0,a.jsx)("div",{className:"text-right shrink-0",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,a.jsx)(K.A,{className:"w-3 h-3 text-blue-500"}),(0,a.jsx)("span",{className:"font-medium text-slate-700",children:e.caseNumber.toLocaleString()})]})})]},s)),t.length>3&&(0,a.jsxs)("div",{className:"text-xs text-slate-400 text-center",children:["+",t.length-3," more cohorts"]}),(0,a.jsx)("div",{className:"border-t border-slate-100 pt-2 mt-2",children:(0,a.jsxs)("div",{className:"flex justify-between items-center text-xs",children:[(0,a.jsx)("span",{className:"font-semibold text-slate-700",children:"Total"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(K.A,{className:"w-3 h-3 text-blue-500"}),(0,a.jsx)("span",{className:"font-bold text-slate-900",children:r.toLocaleString()})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(V.A,{className:"w-3 h-3 text-green-500"}),(0,a.jsx)("span",{className:"font-medium text-slate-700",children:l.toLocaleString()})]})]})]})})]})]},s)})})})]})})]})}function er(e){let{icon:s,value:t,label:r}=e;return(0,a.jsx)(x.Zp,{className:"bg-white",children:(0,a.jsxs)(x.Wu,{className:"p-4 flex items-center gap-4",children:[(0,a.jsx)("div",{className:"p-2 bg-slate-50 rounded-lg",children:s}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-slate-900",children:t}),(0,a.jsx)("div",{className:"text-xs text-slate-500",children:r})]})]})})}function el(e){let{rank:s}=e;return 1===s?(0,a.jsx)(C.SBv,{className:"h-5 w-5 text-amber-500"}):2===s?(0,a.jsx)(C.tz0,{className:"h-5 w-5 text-slate-400"}):3===s?(0,a.jsx)(C.Z0L,{className:"h-5 w-5 text-orange-400"}):(0,a.jsxs)("span",{className:"w-5 h-5 flex items-center justify-center text-sm font-semibold text-slate-500",children:["#",s]})}function en(){let{leaderboardView:e,setLeaderboardView:s}=(0,k.w)(),[t,l]=(0,r.useState)(""),[n,o]=(0,r.useState)("rank"),[i,c]=(0,r.useState)("asc"),d=(0,r.useMemo)(()=>{let e=(0,J.Kg)(W.v),s=new Set(e.map(e=>e.organ));return{taskCount:e.length,organCount:s.size}},[]),u=(0,r.useMemo)(()=>"selected"===e?(0,J.Kg)(W.v):W.v,[e]),h=(0,r.useMemo)(()=>{let e=new Set(G.J.map(e=>e.name)),s=new Map;e.forEach(e=>{s.set(e,{totalRank:0,taskCount:0,histologicalRankSum:0,histologicalCount:0,molecularRankSum:0,molecularCount:0,survivalRankSum:0,survivalCount:0,organs:new Set})}),u.forEach(t=>{var a,r;let l=_.Y.taskMetadata[t.id];if(!l)return;let n=(a=t.name,(r=l.taskType).includes("Prediction")&&(r.includes("OS")||r.includes("DFS")||r.includes("DSS")||a.includes("Survival"))?"Survival Prognosis":a.startsWith("IHC-")||a.includes("Mutation")||a.includes("Microsatellite")||a.includes("MSI")||a.includes("Expression Prediction")||a.includes("Molecular Subtyping")?"Molecular Prediction":"Histological Diagnosis"),o=[];e.forEach(e=>{var s;let a=null===(s=_.Y.modelStats[e])||void 0===s?void 0:s[t.id];if(!a)return;let r=0,n=0;l.availableMetrics.forEach(e=>{let s=a[e];s&&(r+=s.mean,n++)}),n>0&&o.push({modelName:e,avgScore:r/n})}),o.sort((e,s)=>s.avgScore-e.avgScore),o.forEach((e,t)=>{let a=t+1,r=s.get(e.modelName);r.totalRank+=a,r.taskCount++,r.organs.add(l.organ),"Histological Diagnosis"===n?(r.histologicalRankSum+=a,r.histologicalCount++):"Molecular Prediction"===n?(r.molecularRankSum+=a,r.molecularCount++):"Survival Prognosis"===n&&(r.survivalRankSum+=a,r.survivalCount++)})});let t=[];return s.forEach((e,s)=>{e.taskCount>0&&t.push({name:s,rank:0,avgRank:e.totalRank/e.taskCount,taskCount:e.taskCount,histologicalScore:e.histologicalCount>0?e.histologicalRankSum/e.histologicalCount:null,molecularScore:e.molecularCount>0?e.molecularRankSum/e.molecularCount:null,survivalScore:e.survivalCount>0?e.survivalRankSum/e.survivalCount:null,organsCount:e.organs.size})}),t.sort((e,s)=>e.avgRank-s.avgRank),t.forEach((e,s)=>{e.rank=s+1}),t},[u]),g=(0,r.useMemo)(()=>{let e=[...h];if(t){let s=t.toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(s))}return e.sort((e,s)=>{var t,a,r,l,o,c;let d,m;switch(n){case"rank":default:d=e.rank,m=s.rank;break;case"avgRank":d=e.avgRank,m=s.avgRank;break;case"histologicalScore":d=null!==(t=e.histologicalScore)&&void 0!==t?t:999,m=null!==(a=s.histologicalScore)&&void 0!==a?a:999;break;case"molecularScore":d=null!==(r=e.molecularScore)&&void 0!==r?r:999,m=null!==(l=s.molecularScore)&&void 0!==l?l:999;break;case"survivalScore":d=null!==(o=e.survivalScore)&&void 0!==o?o:999,m=null!==(c=s.survivalScore)&&void 0!==c?c:999}return"asc"===i?d-m:m-d}),e},[h,t,n,i]),p=(0,r.useMemo)(()=>{let e=h.slice(0,10).reverse();return 0===e.length?{title:{text:"No data",left:"center"},series:[]}:{tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:s=>{let t=e[s[0].dataIndex];return'<div style="font-weight:600">'.concat(t.name,"</div>\n                  <div>Avg Rank: <b>").concat(t.avgRank.toFixed(2),"</b></div>\n                  <div>").concat(t.taskCount," validation cohorts • ").concat(t.organsCount," organs</div>")}},grid:{left:12,right:40,top:8,bottom:24,containLabel:!0},xAxis:{type:"value",min:0,max:Math.ceil(Math.max(...e.map(e=>e.avgRank))+2),axisLabel:{fontSize:11,color:"#6B7280"},splitLine:{lineStyle:{color:"#F3F4F6"}},axisLine:{show:!1}},yAxis:{type:"category",data:e.map(e=>e.name),axisLabel:{fontSize:12,color:"#111827",fontWeight:500},axisTick:{show:!1},axisLine:{show:!1}},series:[{name:"Stem",type:"bar",data:e.map(e=>({value:e.avgRank,itemStyle:{color:e.rank<=3?"rgba(37, 99, 235, 0.3)":"rgba(148, 163, 184, 0.4)",borderRadius:999}})),barWidth:4,z:1},{name:"Avg Rank",type:"scatter",data:e.map(e=>({value:e.avgRank,itemStyle:{color:e.rank<=3?"#2563eb":"#9ca3af",borderColor:"#fff",borderWidth:1.5,shadowBlur:8*(e.rank<=3),shadowColor:"rgba(37, 99, 235, 0.3)"}})),symbolSize:12,z:2,label:{show:!0,position:"right",offset:[4,0],formatter:s=>{let t=e[s.dataIndex];return t.rank<=3?"{strong|".concat(t.avgRank.toFixed(2),"}"):t.avgRank.toFixed(2)},color:"#4B5563",fontSize:11,rich:{strong:{fontWeight:600,fontSize:12}}}}],animationDuration:600,animationEasing:"cubicOut"}},[h]),b=(0,r.useMemo)(()=>{let e=h.filter(e=>[e.histologicalScore,e.molecularScore,e.survivalScore].filter(e=>null!==e).length>=2).slice(0,10);if(0===e.length)return{title:{text:"No data",left:"center"},series:[]};let s=Math.max(...e.map(e=>Math.max(e.histologicalScore||0,e.molecularScore||0,e.survivalScore||0)));return{tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:e=>{let s=e[0].axisValue,t='<div style="font-weight:600;margin-bottom:4px">'.concat(s,"</div>");return e.forEach(e=>{null!==e.value&&void 0!==e.value&&(t+="<div>".concat(e.marker," ").concat(e.seriesName,": <b>").concat(e.value.toFixed(2),"</b></div>"))}),t}},legend:{data:["Histological Dx.","Molecular Pred.","Survival"],top:0,right:0,textStyle:{fontSize:10},itemWidth:12,itemHeight:10},grid:{left:12,right:12,top:32,bottom:24,containLabel:!0},xAxis:{type:"category",data:e.map(e=>e.name),axisLabel:{fontSize:10,color:"#111827",rotate:35,interval:0},axisTick:{show:!1},axisLine:{show:!1}},yAxis:{type:"value",name:"Avg Rank",nameLocation:"middle",nameGap:32,nameTextStyle:{fontSize:11,color:"#6B7280"},min:0,max:Math.ceil(s)+2,axisLabel:{fontSize:10,color:"#6B7280"},splitLine:{lineStyle:{color:"#F3F4F6"}},axisLine:{show:!1}},series:[{name:"Histological Dx.",type:"bar",data:e.map(e=>e.histologicalScore),itemStyle:{color:"#6366f1",borderRadius:[4,4,0,0]},barGap:"5%"},{name:"Molecular Pred.",type:"bar",data:e.map(e=>e.molecularScore),itemStyle:{color:"#f59e0b",borderRadius:[4,4,0,0]}},{name:"Survival",type:"bar",data:e.map(e=>e.survivalScore),itemStyle:{color:"#64748b",borderRadius:[4,4,0,0]}}],animationDuration:600}},[h]),f=e=>{n===e?c(e=>"asc"===e?"desc":"asc"):(o(e),c("asc"))},v=e=>n!==e?(0,a.jsx)(C.MjW,{className:"w-3 h-3 opacity-50"}):"asc"===i?(0,a.jsx)(C.XhJ,{className:"w-3 h-3 text-blue-600"}):(0,a.jsx)(C.GOR,{className:"w-3 h-3 text-blue-600"}),j=e=>1===e?(0,a.jsx)(C.SBv,{className:"h-4 w-4 text-amber-500"}):2===e?(0,a.jsx)(C.tz0,{className:"h-4 w-4 text-slate-400"}):3===e?(0,a.jsx)(C.Z0L,{className:"h-4 w-4 text-orange-400"}):(0,a.jsx)("span",{className:"text-slate-600 font-medium",children:e}),y=e=>null===e?(0,a.jsx)("span",{className:"text-slate-400",children:"—"}):e.toFixed(2);return(0,a.jsxs)(x.Zp,{className:"shadow-sm",children:[(0,a.jsxs)(x.aR,{className:"pb-4 space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 pb-3 border-b border-slate-100",children:[(0,a.jsx)("p",{className:"text-sm text-slate-600",children:"selected"===e?(0,a.jsxs)(a.Fragment,{children:["Viewing ",(0,a.jsxs)("span",{className:"font-semibold text-blue-600",children:[d.taskCount," curated cohorts"]})," across ",d.organCount," key organs"]}):(0,a.jsxs)(a.Fragment,{children:["Viewing ",(0,a.jsxs)("span",{className:"font-semibold text-slate-900",children:["all ",W.v.length," validation cohorts"]})," across ",new Set(W.v.map(e=>e.organ)).size," organs"]})}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"text-xs font-medium text-slate-500",children:"View:"}),(0,a.jsxs)("div",{className:"bg-slate-100 p-1 rounded-lg flex gap-1",children:[(0,a.jsxs)(N.$,{variant:"selected"===e?"default":"ghost",size:"sm",onClick:()=>s("selected"),className:"h-7 px-3 text-xs gap-1.5 ".concat("selected"===e?"bg-blue-600 hover:bg-blue-700":""),children:[(0,a.jsx)(C.A7C,{className:"h-3 w-3"}),"Selected Cohorts"]}),(0,a.jsxs)(N.$,{variant:"full"===e?"default":"ghost",size:"sm",onClick:()=>s("full"),className:"h-7 px-3 text-xs gap-1.5 ".concat("full"===e?"bg-slate-700 hover:bg-slate-800":""),children:[(0,a.jsx)(C.v5n,{className:"h-3 w-3"}),"Full Leaderboard"]})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)(x.ZB,{className:"text-lg sm:text-xl font-semibold flex items-center gap-2",children:[(0,a.jsx)(S.rgL,{className:"h-5 w-5 text-blue-600"}),"Model Rankings"]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[(0,a.jsx)("span",{className:"font-medium",children:g.length})," of ",h.length," models"]})]})]}),(0,a.jsxs)(x.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"bg-slate-50/50 rounded-lg border border-slate-100 p-3",children:[(0,a.jsxs)("h4",{className:"text-xs font-semibold text-slate-700 mb-2 flex items-center gap-1.5",children:[(0,a.jsx)(C.SBv,{className:"h-3 w-3 text-amber-500"}),"Top 10 Models by Average Rank"]}),(0,a.jsx)("div",{className:"text-[10px] text-slate-500 mb-2",children:"Lower rank = better performance"}),(0,a.jsx)(D.A,{option:p,style:{height:280},opts:{renderer:"svg"}})]}),(0,a.jsxs)("div",{className:"bg-slate-50/50 rounded-lg border border-slate-100 p-3",children:[(0,a.jsxs)("h4",{className:"text-xs font-semibold text-slate-700 mb-2 flex items-center gap-1.5",children:[(0,a.jsx)(S.rgL,{className:"h-3 w-3 text-purple-600"}),"Performance by Task Category"]}),(0,a.jsx)("div",{className:"text-[10px] text-slate-500 mb-2",children:"Histological Diagnosis • Molecular Prediction • Survival Prognosis"}),(0,a.jsx)(D.A,{option:b,style:{height:280},opts:{renderer:"svg"}})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,a.jsxs)("div",{className:"relative flex-1 max-w-sm",children:[(0,a.jsx)(C.KSO,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,a.jsx)(m,{placeholder:"Search models...",value:t,onChange:e=>l(e.target.value),className:"pl-10 text-sm"})]}),(0,a.jsxs)("p",{className:"text-xs text-slate-500 self-center",children:["All values are ",(0,a.jsx)("b",{children:"average ranks"})," (lower is better)"]})]}),(0,a.jsx)("div",{className:"max-h-[420px] overflow-y-auto border border-slate-100 rounded-lg",children:(0,a.jsxs)(M,{className:"min-w-[700px]",children:[(0,a.jsx)(H,{className:"sticky top-0 bg-slate-50/95 backdrop-blur-sm z-10",children:(0,a.jsxs)(T,{children:[(0,a.jsx)(E,{className:"w-16 text-center font-semibold",children:(0,a.jsxs)(N.$,{variant:"ghost",size:"sm",onClick:()=>f("rank"),className:"h-auto p-0 font-semibold gap-1",children:["Rank ",v("rank")]})}),(0,a.jsx)(E,{className:"font-semibold min-w-[150px]",children:"Model"}),(0,a.jsx)(E,{className:"text-center font-semibold",children:(0,a.jsxs)(N.$,{variant:"ghost",size:"sm",onClick:()=>f("avgRank"),className:"h-auto p-0 font-semibold gap-1",children:["Overall ",v("avgRank")]})}),(0,a.jsx)(E,{className:"text-center font-semibold",children:(0,a.jsxs)(N.$,{variant:"ghost",size:"sm",onClick:()=>f("histologicalScore"),className:"h-auto p-0 font-semibold gap-1 text-xs",children:["Histological Diagnosis ",v("histologicalScore")]})}),(0,a.jsx)(E,{className:"text-center font-semibold",children:(0,a.jsxs)(N.$,{variant:"ghost",size:"sm",onClick:()=>f("molecularScore"),className:"h-auto p-0 font-semibold gap-1 text-xs",children:["Molecular Prediction ",v("molecularScore")]})}),(0,a.jsx)(E,{className:"text-center font-semibold",children:(0,a.jsxs)(N.$,{variant:"ghost",size:"sm",onClick:()=>f("survivalScore"),className:"h-auto p-0 font-semibold gap-1 text-xs",children:["Survival Prognosis ",v("survivalScore")]})})]})}),(0,a.jsx)(L,{children:g.map((e,s)=>(0,a.jsxs)(T,{className:"hover:bg-blue-50/50 transition-colors ".concat(1===e.rank?"bg-amber-50/50":2===e.rank?"bg-slate-50/50":3===e.rank?"bg-orange-50/30":s%2==0?"bg-white":"bg-slate-50/30"),children:[(0,a.jsx)(P,{className:"text-center",children:(0,a.jsx)("div",{className:"flex justify-center",children:j(e.rank)})}),(0,a.jsxs)(P,{children:[(0,a.jsx)("div",{className:"font-semibold text-slate-900",children:e.name}),(0,a.jsxs)("div",{className:"text-xs text-slate-500",children:[e.taskCount," validation cohorts • ",e.organsCount," organs"]})]}),(0,a.jsx)(P,{className:"text-center",children:(0,a.jsx)(B,{variant:"secondary",className:"font-mono text-base px-3 py-1",children:e.avgRank.toFixed(2)})}),(0,a.jsx)(P,{className:"text-center font-mono text-base font-medium text-slate-700",children:y(e.histologicalScore)}),(0,a.jsx)(P,{className:"text-center font-mono text-base font-medium text-slate-700",children:y(e.molecularScore)}),(0,a.jsx)(P,{className:"text-center font-mono text-base font-medium text-slate-700",children:y(e.survivalScore)})]},e.name))})]})}),0===g.length&&(0,a.jsx)("div",{className:"p-8 text-center text-slate-500",children:"No models match your search criteria."})]})]})}var eo=t(4952),ei=t(7742),ec=t(1560),ed=t(8623);function em(){let{leaderboardView:e,setLeaderboardView:s}=(0,k.w)(),t=(0,r.useMemo)(()=>"selected"===e?(0,J.Kg)(W.v):W.v,[e]),l=(0,r.useMemo)(()=>{let e=new Set(t.map(e=>e.organ)),s=new Set(t.map(e=>es(e.taskType,e.name)));return{taskCount:t.length,organCount:e.size,taskTypeCount:s.size}},[t]),n=(0,r.useMemo)(()=>{let e={};t.forEach(s=>{e[s.organ]||(e[s.organ]=[]),e[s.organ].push(s)});let s={};return Object.keys(e).sort().forEach(t=>{let a={};e[t].forEach(e=>{a[e.name]?a[e.name].cohorts.includes(e.cohort)||a[e.name].cohorts.push(e.cohort):a[e.name]={name:e.name,taskType:e.taskType,cohorts:[e.cohort]}}),s[t]=Object.values(a).sort((e,s)=>e.name.localeCompare(s.name)).map(e=>({...e,cohorts:e.cohorts.sort()}))}),s},[t]),o=(0,r.useMemo)(()=>Object.values(n).reduce((e,s)=>e+s.length,0),[n]);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-slate-900",children:"Benchmark Tasks"}),(0,a.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"selected"===e?(0,a.jsxs)(a.Fragment,{children:["Showing ",(0,a.jsxs)("span",{className:"font-semibold text-blue-600",children:[o," curated tasks"]})," (",l.taskCount," validation cohorts) across ",l.organCount," organs"]}):(0,a.jsxs)(a.Fragment,{children:["Showing ",(0,a.jsxs)("span",{className:"font-semibold text-slate-900",children:["all ",o," tasks"]})," (",l.taskCount," validation cohorts) across ",l.organCount," organs"]})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-slate-700",children:"View:"}),(0,a.jsxs)("div",{className:"bg-slate-100 p-1 rounded-lg flex gap-1",children:[(0,a.jsx)("button",{onClick:()=>s("selected"),className:"px-3 py-1.5 text-sm font-medium rounded-md transition-all ".concat("selected"===e?"bg-white text-slate-900 shadow-sm":"text-slate-600 hover:text-slate-900 hover:bg-slate-50"),children:"Selected Cohorts"}),(0,a.jsx)("button",{onClick:()=>s("full"),className:"px-3 py-1.5 text-sm font-medium rounded-md transition-all ".concat("full"===e?"bg-white text-slate-900 shadow-sm":"text-slate-600 hover:text-slate-900 hover:bg-slate-50"),children:"Full Leaderboard"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2 sm:gap-4",children:[(0,a.jsx)(ex,{icon:(0,a.jsx)(C.nBS,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"}),value:l.taskCount,label:"Total Tasks"}),(0,a.jsx)(ex,{icon:(0,a.jsx)(C.c9P,{className:"h-4 w-4 sm:h-5 sm:w-5 text-purple-600"}),value:l.organCount,label:"Organs"}),(0,a.jsx)(ex,{icon:(0,a.jsx)(C.aQJ,{className:"h-4 w-4 sm:h-5 sm:w-5 text-orange-600"}),value:l.taskTypeCount,label:"Task Types"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(n).map(e=>{let[s,t]=e,r=q(s),l=t.reduce((e,s)=>e+s.cohorts.length,0);return(0,a.jsxs)(x.Zp,{className:"overflow-hidden border-slate-200",children:[(0,a.jsxs)("div",{className:"px-4 py-3 flex items-center justify-between border-b",style:{backgroundColor:"".concat(r,"10"),borderColor:"".concat(r,"30")},children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:r}}),(0,a.jsx)("span",{className:"font-bold text-slate-800",children:s})]}),(0,a.jsxs)(B,{variant:"secondary",className:"text-xs font-semibold",style:{backgroundColor:"".concat(r,"20"),color:r},children:[t.length," ",1===t.length?"task":"tasks",", ",l," ",1===l?"cohort":"cohorts"]})]}),(0,a.jsx)(x.Wu,{className:"p-0",children:(0,a.jsx)("div",{className:"divide-y divide-slate-100 max-h-[400px] overflow-y-auto",children:t.map(e=>(0,a.jsx)("div",{className:"px-4 py-3 hover:bg-slate-50 transition-colors",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-slate-800 leading-snug",children:e.name}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,a.jsx)(eu,{taskType:e.taskType,taskName:e.name}),e.cohorts.map(e=>(0,a.jsx)("span",{className:"text-xs text-slate-500 bg-slate-100 px-2 py-0.5 rounded",children:e},e))]})]})},e.name))})})]},s)})})]})}function ex(e){let{icon:s,value:t,label:r}=e;return(0,a.jsx)(x.Zp,{className:"bg-white",children:(0,a.jsxs)(x.Wu,{className:"p-2 sm:p-4 flex items-center gap-2 sm:gap-4",children:[(0,a.jsx)("div",{className:"p-1.5 sm:p-2 bg-slate-50 rounded-lg shrink-0",children:s}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("div",{className:"text-lg sm:text-2xl font-bold text-slate-900",children:t}),(0,a.jsx)("div",{className:"text-[10px] sm:text-xs text-slate-500 truncate",children:r})]})]})})}function eu(e){let{taskType:s,taskName:t}=e,r="h-3 w-3",l=s.toLowerCase();if("classification"===l)return ee(t)?(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-cyan-700 bg-cyan-50 px-2 py-0.5 rounded border border-cyan-200",children:[(0,a.jsx)(eo.A,{className:r}),"Molecular Prediction"]}):(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-blue-700 bg-blue-50 px-2 py-0.5 rounded border border-blue-200",children:[(0,a.jsx)(ei.A,{className:r}),"Histological Diagnosis"]});if(l.includes("survival")||l.includes("prediction")&&(l.includes("os")||l.includes("dfs")||l.includes("dss")))return(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-purple-700 bg-purple-50 px-2 py-0.5 rounded border border-purple-200",children:[(0,a.jsx)(Y.A,{className:r}),s]});switch(l){case"regression":return(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-green-700 bg-green-50 px-2 py-0.5 rounded border border-green-200",children:[(0,a.jsx)(ec.A,{className:r}),"Regression"]});case"detection":return(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-orange-700 bg-orange-50 px-2 py-0.5 rounded border border-orange-200",children:[(0,a.jsx)(ed.A,{className:r}),"Detection"]});case"report generation":return(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-indigo-700 bg-indigo-50 px-2 py-0.5 rounded border border-indigo-200",children:[(0,a.jsx)(ei.A,{className:r}),"Report Generation"]});default:return(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-slate-700 bg-slate-50 px-2 py-0.5 rounded border border-slate-200",children:[(0,a.jsx)(eo.A,{className:r}),s]})}}function eh(){let{leaderboardView:e,setLeaderboardView:s,getFilteredTasks:t}=(0,k.w)(),[l,n]=(0,r.useState)(""),[o,i]=(0,r.useState)([]),[c,d]=(0,r.useState)([]),[u,h]=(0,r.useState)([]),[p,b]=(0,r.useState)(!1),f=t(),j=(0,r.useMemo)(()=>[...new Set(f.map(e=>e.organ))].sort(),[f]),y=(0,r.useMemo)(()=>[...new Set(f.map(e=>e.taskType))].sort(),[f]),w=(0,r.useMemo)(()=>[...new Set(f.map(e=>e.cohort))].sort(),[f]),S=(0,r.useMemo)(()=>f.filter(e=>{let s=e.name.toLowerCase().includes(l.toLowerCase())||e.organ.toLowerCase().includes(l.toLowerCase())||e.taskType.toLowerCase().includes(l.toLowerCase()),t=0===o.length||o.includes(e.organ),a=0===c.length||c.includes(e.taskType),r=0===u.length||u.includes(e.cohort);return s&&t&&a&&r}),[f,l,o,c,u]),R=(0,r.useMemo)(()=>{let e=new Map;S.forEach(s=>{e.has(s.organ)||e.set(s.organ,[]),e.get(s.organ).push(s)});let s=Array.from(e.keys()).sort(),t=[];return s.forEach(s=>{let a=e.get(s).sort((e,s)=>e.name.localeCompare(s.name));t.push({organ:s,tasks:a})}),t},[S]),M=()=>{n(""),i([]),d([]),h([])},H=e=>{i(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},L=e=>{d(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},T=e=>{h(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},E=l||o.length>0||c.length>0||u.length>0;return(0,a.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-slate-700",children:"View:"}),(0,a.jsxs)("div",{className:"bg-slate-100 p-1 rounded-lg flex gap-1",children:[(0,a.jsx)("button",{onClick:()=>s("selected"),className:"px-3 py-1.5 text-sm font-medium rounded-md transition-all ".concat("selected"===e?"bg-white text-slate-900 shadow-sm":"text-slate-600 hover:text-slate-900 hover:bg-slate-50"),children:"Selected Tasks"}),(0,a.jsx)("button",{onClick:()=>s("full"),className:"px-3 py-1.5 text-sm font-medium rounded-md transition-all ".concat("full"===e?"bg-white text-slate-900 shadow-sm":"text-slate-600 hover:text-slate-900 hover:bg-slate-50"),children:"Full Leaderboard"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Detailed Performance"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1 text-sm sm:text-base",children:"Comprehensive performance analysis across all cohorts and metrics"})]}),(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsxs)("div",{className:"text-xs sm:text-sm text-gray-500",children:[(0,a.jsx)("span",{className:"font-medium",children:G.J.length})," models •",(0,a.jsx)("span",{className:"font-medium ml-1",children:S.length})," validation cohorts",E&&(0,a.jsxs)("span",{className:"ml-1 text-blue-600",children:["(filtered from ",f.length,")"]})]})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex gap-2 sm:gap-4",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(C.KSO,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,a.jsx)(m,{placeholder:"Search tasks by name, organ, or type...",value:l,onChange:e=>n(e.target.value),className:"pl-10"})]}),(0,a.jsxs)("div",{className:"flex gap-2 flex-shrink-0",children:[(0,a.jsxs)(N.$,{variant:"outline",onClick:()=>b(!p),className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-4",children:[(0,a.jsx)(C.YsJ,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Filters"}),E&&(0,a.jsx)("span",{className:"bg-blue-500 text-white text-xs rounded-full px-1.5 py-0.5 ml-0.5 sm:ml-1 min-w-[18px] text-center",children:[o.length,c.length,u.length].filter(e=>e>0).length})]}),E&&(0,a.jsxs)(N.$,{variant:"ghost",onClick:M,className:"flex items-center gap-1 sm:gap-2 text-gray-600 hover:text-gray-900 px-2 sm:px-4",children:[(0,a.jsx)(C.QCr,{className:"w-3 h-3"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Clear"})]})]})]}),p&&(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,a.jsxs)(x.Zp,{children:[(0,a.jsx)(x.aR,{className:"pb-2 sm:pb-3",children:(0,a.jsx)(x.ZB,{className:"text-xs sm:text-sm font-medium",children:"Filter by Organ"})}),(0,a.jsx)(x.Wu,{className:"max-h-[120px] sm:max-h-[180px] overflow-y-auto",children:(0,a.jsx)("div",{className:"space-y-2 sm:space-y-3",children:j.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(g,{id:"organ-".concat(e),checked:o.includes(e),onCheckedChange:()=>H(e),className:"h-3 w-3 sm:h-4 sm:w-4"}),(0,a.jsx)(v,{htmlFor:"organ-".concat(e),className:"text-xs sm:text-sm font-normal leading-tight",children:e})]},e))})})]}),(0,a.jsxs)(x.Zp,{children:[(0,a.jsx)(x.aR,{className:"pb-2 sm:pb-3",children:(0,a.jsx)(x.ZB,{className:"text-xs sm:text-sm font-medium",children:"Filter by Task Type"})}),(0,a.jsx)(x.Wu,{className:"max-h-[120px] sm:max-h-[180px] overflow-y-auto",children:(0,a.jsx)("div",{className:"space-y-2 sm:space-y-3",children:y.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(g,{id:"tasktype-".concat(e),checked:c.includes(e),onCheckedChange:()=>L(e),className:"h-3 w-3 sm:h-4 sm:w-4"}),(0,a.jsx)(v,{htmlFor:"tasktype-".concat(e),className:"text-xs sm:text-sm font-normal leading-tight",children:e})]},e))})})]}),(0,a.jsxs)(x.Zp,{children:[(0,a.jsx)(x.aR,{className:"pb-2 sm:pb-3",children:(0,a.jsx)(x.ZB,{className:"text-xs sm:text-sm font-medium",children:"Filter by Cohort"})}),(0,a.jsx)(x.Wu,{className:"max-h-[120px] sm:max-h-[180px] overflow-y-auto",children:(0,a.jsx)("div",{className:"space-y-2 sm:space-y-3",children:w.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(g,{id:"cohort-".concat(e),checked:u.includes(e),onCheckedChange:()=>T(e),className:"h-3 w-3 sm:h-4 sm:w-4"}),(0,a.jsx)(v,{htmlFor:"cohort-".concat(e),className:"text-xs sm:text-sm font-normal leading-tight",children:e})]},e))})})]})]})]}),0===R.length?(0,a.jsx)(x.Zp,{className:"w-full shadow-sm border border-gray-200",children:(0,a.jsxs)(x.Wu,{className:"h-64 flex flex-col items-center justify-center text-center",children:[(0,a.jsx)(C.KSO,{className:"w-12 h-12 text-gray-300 mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No validation cohorts found"}),(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:E?"Try adjusting your search terms or filters to find tasks.":"No tasks are available to display."}),E&&(0,a.jsxs)(N.$,{variant:"outline",onClick:M,className:"flex items-center gap-2",children:[(0,a.jsx)(C.QCr,{className:"w-4 h-4"}),"Clear all filters"]})]})}):R.map(e=>{let{organ:s,tasks:t}=e;return(0,a.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,a.jsxs)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 border-b pb-2",children:[s,(0,a.jsxs)("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",t.length," cohort",1!==t.length?"s":"",")"]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 sm:gap-6",children:t.map(e=>(0,a.jsx)($,{height:450,rootMargin:"200px",threshold:.1,placeholder:(0,a.jsx)("div",{className:"w-full h-[450px] bg-gray-50 border border-gray-200 rounded-lg animate-pulse",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded mb-2 w-3/4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-6 w-1/2"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-full"}),(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-5/6"}),(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-4/6"}),(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-3/6"})]})]})}),children:(0,a.jsx)(Z,{taskId:e.id,taskName:e.name,organ:s})},e.id))})]},s)})]})}function eg(){let e="/showcase/PathBench",s=s=>e?"".concat(e).concat(s):s,[t,l]=(0,r.useState)("overview");return(0,a.jsxs)("div",{className:"container mx-auto py-3 sm:py-6 max-w-[1600px] w-full overflow-x-hidden",children:[(0,a.jsx)("header",{className:"pb-4 sm:pb-6 mb-4 sm:mb-6 border-b border-gray-100",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 sm:gap-6",children:[(0,a.jsx)(w(),{href:"/",className:"flex items-center",children:(0,a.jsx)(j.default,{src:s("/images/pathbench.svg"),alt:"PathBench Logo",width:180,height:45,className:"h-9 sm:h-11 object-contain"})}),(0,a.jsxs)("div",{className:"hidden sm:flex items-center gap-6 ml-6 pl-6 border-l border-gray-200",children:[(0,a.jsx)("a",{href:"https://smartlab.cse.ust.hk/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center h-10",children:(0,a.jsx)(j.default,{src:s("/images/smartlab.svg"),alt:"SmartLab",width:40,height:40,className:"w-10 h-10 object-contain opacity-70 hover:opacity-100 transition-opacity"})}),(0,a.jsx)("a",{href:"https://hkust.edu.hk/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center h-10",children:(0,a.jsx)(j.default,{src:s("/images/ust_logo.svg"),alt:"HKUST",width:160,height:40,className:"h-10 w-auto object-contain opacity-70 hover:opacity-100 transition-opacity"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,a.jsxs)("div",{className:"flex sm:hidden items-center gap-3 pr-3 mr-1 border-r border-gray-200",children:[(0,a.jsx)("a",{href:"https://smartlab.cse.ust.hk/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center",children:(0,a.jsx)(j.default,{src:s("/images/smartlab.svg"),alt:"SmartLab",width:28,height:28,className:"w-7 h-7 object-contain opacity-70"})}),(0,a.jsx)("a",{href:"https://hkust.edu.hk/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center",children:(0,a.jsx)(j.default,{src:s("/images/ust_logo.svg"),alt:"HKUST",width:100,height:28,className:"h-7 w-auto object-contain opacity-70"})})]}),(0,a.jsx)(w(),{href:"/",children:(0,a.jsxs)(N.$,{variant:"ghost",size:"sm",className:"gap-2 text-gray-600 hover:text-gray-900",children:[(0,a.jsx)(C.rQ8,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Home"})]})}),(0,a.jsx)("a",{href:"https://github.com/birkhoffkiki/PrePATH/pulls",target:"_blank",rel:"noopener noreferrer",children:(0,a.jsxs)(N.$,{variant:"outline",size:"sm",className:"gap-2",children:[(0,a.jsx)(S.vpy,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Submit Model"})]})}),(0,a.jsx)("a",{href:"https://arxiv.org/abs/2505.20202",target:"_blank",rel:"noopener noreferrer",children:(0,a.jsxs)(N.$,{variant:"outline",size:"sm",className:"gap-2",children:[(0,a.jsx)(R.dgT,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Read Paper"})]})}),(0,a.jsx)("a",{href:"https://github.com/birkhoffkiki/PathBench",target:"_blank",rel:"noopener noreferrer",children:(0,a.jsxs)(N.$,{variant:"outline",size:"sm",className:"gap-2",children:[(0,a.jsx)(C.hL4,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"GitHub"})]})})]})]})}),(0,a.jsxs)(o,{value:t,onValueChange:l,children:[(0,a.jsx)("div",{className:"w-full overflow-x-auto pb-2",children:(0,a.jsxs)(i,{className:"bg-gray-50 p-1 sm:p-1.5 rounded-xl border border-gray-100 w-auto space-x-0.5 sm:space-x-1 min-w-max flex",children:[(0,a.jsx)(c,{value:"overview",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm data-[state=active]:text-gray-900 px-2 sm:px-6 py-1.5 sm:py-2 rounded-lg transition-all hover:bg-gray-100/70 text-gray-600 whitespace-nowrap",children:(0,a.jsx)("span",{className:"text-xs sm:text-sm font-medium",children:"Overview"})}),(0,a.jsx)(c,{value:"leaderboard",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm data-[state=active]:text-gray-900 px-2 sm:px-6 py-1.5 sm:py-2 rounded-lg transition-all hover:bg-gray-100/70 text-gray-600 whitespace-nowrap",children:(0,a.jsx)("span",{className:"text-xs sm:text-sm font-medium",children:"Leaderboard"})}),(0,a.jsx)(c,{value:"tasks",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm data-[state=active]:text-gray-900 px-2 sm:px-6 py-1.5 sm:py-2 rounded-lg transition-all hover:bg-gray-100/70 text-gray-600 whitespace-nowrap",children:(0,a.jsx)("span",{className:"text-xs sm:text-sm font-medium",children:"Tasks"})}),(0,a.jsx)(c,{value:"performance",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm data-[state=active]:text-gray-900 px-2 sm:px-6 py-1.5 sm:py-2 rounded-lg transition-all hover:bg-gray-100/70 text-gray-600 whitespace-nowrap",children:(0,a.jsx)("span",{className:"text-xs sm:text-sm font-medium",children:"Performance"})}),(0,a.jsx)(c,{value:"models",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm data-[state=active]:text-gray-900 px-2 sm:px-6 py-1.5 sm:py-2 rounded-lg transition-all hover:bg-gray-100/70 text-gray-600 whitespace-nowrap",children:(0,a.jsx)("span",{className:"text-xs sm:text-sm font-medium",children:"Models"})})]})}),(0,a.jsx)(d,{value:"overview",className:"mt-4",children:(0,a.jsx)(ea,{})}),(0,a.jsx)(d,{value:"leaderboard",className:"mt-4",children:(0,a.jsx)(en,{})}),(0,a.jsx)(d,{value:"tasks",className:"mt-4",children:(0,a.jsx)(em,{})}),(0,a.jsx)(d,{value:"performance",className:"space-y-4 sm:space-y-6 mt-4",children:(0,a.jsx)(eh,{})}),(0,a.jsx)(d,{value:"models",className:"mt-4",children:(0,a.jsx)(z,{})})]}),(0,a.jsx)(A.w,{compact:!0})]})}},8699:(e,s,t)=>{"use strict";t.d(s,{EvaluationProvider:()=>d,w:()=>m});var a=t(5155),r=t(2115),l=t(633),n=t(8815),o=t(4126),i=t(4856);let c=(0,r.createContext)(void 0);function d(e){let{children:s}=e,[t,d]=(0,r.useState)([]),[m,x]=(0,r.useState)([]),[u,h]=(0,r.useState)([]),[g,p]=(0,r.useState)("selected"),b=(0,r.useCallback)(e=>{d(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},[]),f=(0,r.useCallback)(e=>{x(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},[]),v=(0,r.useCallback)(e=>{h(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},[]),N=(0,r.useMemo)(()=>{let e=new Set(n.v.map(e=>e.taskType));return["Classification","DFS Prediction","DSS Prediction","OS Prediction"].filter(s=>e.has(s))},[]),j=(0,r.useMemo)(()=>Array.from(new Set(n.v.map(e=>e.organ))).map(e=>({id:e.toLowerCase(),name:e,description:"".concat(e," related tasks")})),[]),y=(0,r.useCallback)(e=>n.v.find(s=>s.id===e),[]),w=(0,r.useCallback)(e=>l.J.find(s=>s.name===e),[]),k=(0,r.useCallback)(e=>j.find(s=>s.id===e),[j]),C=e=>e.length?[...e].sort().join(","):"",S=(e,s,t,a)=>{if(e.has(s)&&e.delete(s),e.set(s,t),e.size>a){let s=e.keys().next().value;e.delete(s)}},R=(0,r.useRef)(new Map),M=(0,r.useRef)(new Map),H=(0,r.useMemo)(()=>{let e="selected"===g?n.v.filter(i.Ln):n.v;if(0===t.length&&0===m.length)return e;let s="".concat(g,"||").concat(C(t),"||").concat(C(m)),a=R.current.get(s);if(a)return a;let r=new Set(t.map(e=>e.toLowerCase())),l=new Set(m),o=e.filter(e=>{let s=0===r.size||r.has(e.organ.toLowerCase()),t=0===l.size||l.has(e.taskType);return s&&t});return S(R.current,s,o,50),o},[t,m,g]),L=(0,r.useMemo)(()=>u.length>0?l.J.filter(e=>u.includes(e.name)):l.J,[u]),T=(0,r.useMemo)(()=>{if(0===t.length&&0===m.length&&0===u.length&&"full"===g)return o.C;let e="".concat(g,"||").concat(C(t),"||").concat(C(m)),s=C(u),a="".concat(e,"||").concat(s),r=M.current.get(a);if(r)return r;let l=new Set(H.map(e=>e.id)),n=new Set(L.map(e=>e.name)),i=o.C.filter(e=>l.has(e.taskId)&&n.has(e.modelID));return S(M.current,a,i,50),i},[H,L,t,m,u,g]),E=(0,r.useCallback)(()=>H,[H]),P=(0,r.useCallback)(()=>L,[L]),F=(0,r.useCallback)(()=>T,[T]),B=(0,r.useCallback)(()=>Array.from(new Set(H.flatMap(e=>e.evaluationMetrics))),[H]),z=(0,r.useCallback)(()=>Array.from(new Set(n.v.flatMap(e=>e.evaluationMetrics))),[]),A=(0,r.useMemo)(()=>({allOrgans:j,allTasks:n.v,allModels:l.J,allPerformances:o.C,selectedOrganIds:t,selectedTaskTypes:m,selectedModelIds:u,leaderboardView:g,setLeaderboardView:p,toggleOrganSelection:b,toggleTaskTypeSelection:f,toggleModelSelection:v,allTaskTypes:N,getTaskById:y,getModelById:w,getOrganById:k,getFilteredTasks:E,getFilteredModels:P,getFilteredPerformances:F,getAvailableMetrics:B,getAllAvailableMetrics:z}),[j,t,m,u,g,b,f,v,N,y,w,k,E,P,F,B,z]);return(0,a.jsx)(c.Provider,{value:A,children:s})}function m(){let e=(0,r.useContext)(c);if(void 0===e)throw Error("useEvaluation must be used within an EvaluationProvider");return e}}},e=>{var s=s=>e(e.s=s);e.O(0,[362,479,711,339,856,383,453,441,587,358],()=>s(1033)),_N_E=e.O()}]);