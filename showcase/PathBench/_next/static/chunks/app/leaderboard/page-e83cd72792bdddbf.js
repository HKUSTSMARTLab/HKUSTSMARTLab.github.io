(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[410],{1033:(e,t,s)=>{Promise.resolve().then(s.bind(s,6435))},6435:(e,t,s)=>{"use strict";s.d(t,{Dashboard:()=>ey});var a=s(5155),r=s(2115),i=s(6911),n=s(1567);let o=i.bL,l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.B8,{ref:t,className:(0,n.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",s),...r})});l.displayName=i.B8.displayName;let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.l9,{ref:t,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",s),...r})});c.displayName=i.l9.displayName;let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.UC,{ref:t,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r})});d.displayName=i.UC.displayName;var m=s(8699),h=s(9749),p=s(1765),x=s(7193);let u=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(p.bL,{ref:t,className:(0,n.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...r,children:(0,a.jsx)(p.C1,{className:(0,n.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(x.A,{className:"h-4 w-4"})})})});u.displayName=p.bL.displayName;var g=s(6195),f=s(1027);let b=(0,f.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),v=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(g.b,{ref:t,className:(0,n.cn)(b(),s),...r})});v.displayName=g.b.displayName;let y=(0,r.memo)(function(){let{allModels:e,selectedModelIds:t,toggleModelSelection:s}=(0,m.w)();return(0,a.jsxs)(h.Zp,{children:[(0,a.jsx)(h.aR,{className:"pb-2 sm:pb-3",children:(0,a.jsx)(h.ZB,{className:"text-xs sm:text-sm font-medium",children:"Filter by Model"})}),(0,a.jsx)(h.Wu,{className:"max-h-[120px] sm:max-h-[180px] overflow-y-auto",children:(0,a.jsx)("div",{className:"space-y-2 sm:space-y-3",children:e.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(u,{id:"model-".concat(e.name),checked:t.includes(e.name),onCheckedChange:()=>s(e.name),className:"h-3 w-3 sm:h-4 sm:w-4"}),(0,a.jsx)(v,{htmlFor:"model-".concat(e.name),className:"text-xs sm:text-sm font-normal leading-tight",children:e.name})]},e.name))})})]})}),N=(0,r.memo)(function(){let{allTaskTypes:e,selectedTaskTypes:t,toggleTaskTypeSelection:s}=(0,m.w)();return(0,a.jsxs)(h.Zp,{children:[(0,a.jsx)(h.aR,{className:"pb-2 sm:pb-3",children:(0,a.jsx)(h.ZB,{className:"text-xs sm:text-sm font-medium",children:"Filter by Task Type"})}),(0,a.jsx)(h.Wu,{children:(0,a.jsx)("div",{className:"space-y-2 sm:space-y-3",children:e.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(u,{id:"task-type-".concat(e),checked:t.includes(e),onCheckedChange:()=>s(e),className:"h-3 w-3 sm:h-4 sm:w-4"}),(0,a.jsx)(v,{htmlFor:"task-type-".concat(e),className:"text-xs sm:text-sm font-normal leading-tight",children:e})]},e))})})]})}),j=(0,r.memo)(function(){let{allOrgans:e,selectedOrganIds:t,toggleOrganSelection:s}=(0,m.w)();return(0,a.jsxs)(h.Zp,{children:[(0,a.jsx)(h.aR,{className:"pb-2 sm:pb-3",children:(0,a.jsx)(h.ZB,{className:"text-xs sm:text-sm font-medium",children:"Filter by Organ"})}),(0,a.jsx)(h.Wu,{className:"max-h-[120px] sm:max-h-[180px] overflow-y-auto",children:(0,a.jsx)("div",{className:"space-y-2 sm:space-y-3",children:e.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(u,{id:"organ-".concat(e.id),checked:t.includes(e.id),onCheckedChange:()=>s(e.id),className:"h-3 w-3 sm:h-4 sm:w-4"}),(0,a.jsx)(v,{htmlFor:"organ-".concat(e.id),className:"text-xs sm:text-sm font-normal leading-tight",children:e.name})]},e.id))})})]})}),w=r.forwardRef((e,t)=>{let{className:s,type:r,...i}=e;return(0,a.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...i})});w.displayName="Input";var k=s(3312),C=s(5565),S=s(8173),T=s.n(S),M=s(1536),R=s(8868);let L=(0,r.memo)(function(e){let{chartType:t="organ"}=e,{getFilteredTasks:s}=(0,m.w)(),[i,n]=(0,r.useState)(!1),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[p,x]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=()=>{let e=window.innerWidth;n(e<768),l(e>=768&&e<1024),d(e>=768&&e<1024),x(e>=1200&&e<1600)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let u=(0,r.useMemo)(()=>{let e=s();if(0===e.length)return{title:{text:"No tasks available",left:"center"},tooltip:{},series:[]};if("organ"===t){let t={};return e.forEach(e=>{let s=e.organ;t[s]=(t[s]||0)+1}),{animation:!0,animationDuration:600,animationEasing:"cubicOut",animationDelay:function(e){return 50*e},animationDurationUpdate:300,animationEasingUpdate:"cubicOut",title:{text:"Task Distribution by Organ",top:i?"2%":"1%",left:"center",textStyle:{fontSize:i?14:18,fontWeight:"bold"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",left:i?5:10,top:i?"10%":"12%",bottom:void 0,type:"scroll",z:0,padding:[9,0,0,0],textStyle:{fontSize:i?13:16,color:"#333"},itemWidth:i?12:16,itemHeight:i?12:16,itemGap:i?8:15,pageButtonPosition:"start",pageButtonItemGap:15,pageButtonGap:15,pageIcons:{vertical:["path://M4,8 L8,4 L12,8","path://M4,4 L8,8 L12,4"]},pageIconColor:"#5470c6",pageIconInactiveColor:"#d0d0d0",pageIconSize:i?8:10,pageTextStyle:{color:"#333",fontSize:i?11:12,fontWeight:500}},series:[{name:"Organ Distribution",type:"pie",radius:i?["40%","60%"]:p?["50%","68%"]:c?["40%","58%"]:["50%","70%"],center:i?["70%","55%"]:p?["70%","55%"]:c?["75%","55%"]:["65%","55%"],avoidLabelOverlap:!0,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:i?14:16,fontWeight:"bold"}},labelLine:{show:!1},data:Object.entries(t).map(e=>{let[t,s]=e;return{name:t,value:s}})}]}}{let t={};return e.forEach(e=>{let s=e.taskType;t[s]=(t[s]||0)+1}),{animation:!0,animationDuration:600,animationEasing:"cubicOut",animationDelay:function(e){return 50*e},animationDurationUpdate:300,animationEasingUpdate:"cubicOut",title:{text:"Task Distribution by Type",top:i?"2%":"1%",left:"center",textStyle:{fontSize:i?14:18,fontWeight:"bold"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",left:5*!!i,top:"37.5%",bottom:void 0,type:"scroll",z:0,textStyle:{fontSize:i?13:16,color:"#333"},itemWidth:i?12:16,itemHeight:i?12:16,itemGap:i?8:15},series:[{name:"Task Type Distribution",type:"pie",radius:i?["40%","60%"]:p?["50%","68%"]:c?["40%","58%"]:["50%","70%"],center:i?["70%","55%"]:p?["70%","55%"]:c?["75%","55%"]:["70%","55%"],avoidLabelOverlap:!0,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:i?14:16,fontWeight:"bold"}},labelLine:{show:!1},data:["Classification","DFS Prediction","DSS Prediction","OS Prediction"].filter(e=>t[e]>0).map(e=>({name:e,value:t[e]}))}]}}},[s,t,i,o,c,p]);return(0,a.jsx)(h.Zp,{className:"w-full h-[250px] sm:h-[350px]",children:(0,a.jsx)(h.Wu,{className:"h-[250px] sm:h-[350px] p-2 sm:p-6",children:(0,a.jsx)(R.A,{option:u,style:{height:"100%",width:"100%"},opts:{renderer:"svg",devicePixelRatio:i?1:2},notMerge:!0,lazyUpdate:!0})})})});var P=s(1508);let I=(0,r.memo)(function(e){let{selectedMetrics:t=[]}=e,{getFilteredPerformances:s,getFilteredModels:i,getTaskById:n,selectedOrganIds:o,selectedTaskTypes:l}=(0,m.w)(),[c,d]=(0,r.useState)(!1),[p,x]=(0,r.useState)(!1),[u,g]=(0,r.useState)(1);(0,r.useEffect)(()=>{let e=()=>{d(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{g(1)},[o,l,t]);let f=(0,r.useMemo)(()=>{let e,a;let r=s(),d=i();if(0===r.length)return{animation:!1,title:{text:"No data available",left:"center"},tooltip:{},xAxis:[{type:"category",data:[]}],yAxis:[{type:"category",data:[]}],series:[]};let m=1===o.length?o[0]:null,h=1===l.length?l[0]:null,x=1===t.length?t[0]:null,g=function(e,t,s){let a=[];return e&&a.push("organ:".concat(e)),t&&a.push("taskType:".concat(t)),s&&a.push("metric:".concat(s)),a.length>0?a.join("|"):"all"}(m?m.charAt(0).toUpperCase()+m.slice(1):null,h,x),f=P.Y.modelRankings[g],b=new Set;[...new Set(r.map(e=>e.taskId))].forEach(e=>{let t=P.Y.taskMetadata[e];t&&t.availableMetrics.forEach(e=>b.add(e))});let v=Array.from(b),y=0===t.length||t.length===v.length&&t.every(e=>v.includes(e));if(f&&f.rankings.length>0)console.log("✅ Using cached rankings for filter: ".concat(g)),e=f.taskIds.map(e=>{let t=P.Y.taskMetadata[e],s=n(e);return{id:e,name:s?"".concat(s.name," (").concat(s.cohort,")"):t.taskName,availableMetrics:t.availableMetrics,task:s,organ:t.organ,taskType:t.taskType}}),a=f.rankings.filter(e=>d.some(t=>t.name===e.modelId)).map(e=>({name:e.modelId,rankings:e.rankings,averageRank:e.avgRank,taskCount:e.taskCount}));else{console.log("⚠️ Cache miss for filter: ".concat(g,", falling back to computation"));let s=[...new Set(r.map(e=>e.taskId))].map(e=>{let t=P.Y.taskMetadata[e];if(!t)return null;let s=n(e);return{id:e,name:s?"".concat(s.name," (").concat(s.cohort,")"):t.taskName,availableMetrics:t.availableMetrics,task:s,organ:t.organ,taskType:t.taskType}}).filter(e=>null!==e);e=y?s:s.filter(e=>t.some(t=>e.availableMetrics.includes(t)));let i=new Map;e.forEach(e=>{let s=d.map(s=>{var a;let r=null===(a=P.Y.modelStats[s.name])||void 0===a?void 0:a[e.id];if(y){if(!r)return{modelName:s.name,score:-1/0};let t=e.availableMetrics,a=0,i=0;t.forEach(t=>{let s=r[t];if(!s)return;let n=s.mean,o=d.map(s=>{var a,r,i;return null===(i=P.Y.modelStats[s.name])||void 0===i?void 0:null===(r=i[e.id])||void 0===r?void 0:null===(a=r[t])||void 0===a?void 0:a.mean}).filter(e=>null!=e&&!isNaN(e)).sort((e,t)=>t-e).indexOf(n)+1;o>0&&(a+=o,i+=1)});let n=i>0?a/i:1/0,o=i>0?d.length+1-n:-1/0;return{modelName:s.name,score:o}}{if(!r)return{modelName:s.name,score:-1/0};let e=0,a=0;t.forEach(t=>{let s=r[t];s&&(e+=s.mean,a+=1)});let i=a>0?e/a:-1/0;return{modelName:s.name,score:i}}}).sort((e,t)=>t.score-e.score);i.set(e.id,s)}),(a=d.map(t=>{let s=[],a=0,r=0;return e.forEach(e=>{let n=i.get(e.id),o=n.findIndex(e=>e.modelName===t.name)+1;o>0&&n[o-1].score!==-1/0?(s.push(o),a+=o,r+=1):s.push(-1)}),{name:t.name,rankings:s,averageRank:r>0?a/r:1/0,taskCount:r}})).sort((e,t)=>e.averageRank-t.averageRank)}let N=c&&!p?5:a.length,j=a.slice(0,N),w=e=>{let t=["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc","#6e7074"];return t[e%t.length]},k=e.length,C=(u-1)*5,S=Math.min(C+5,k),T=e.slice(C,S),M=[],R=1;for(let e=0;e<j.length;e++){let t=j[e];for(let s=0;s<T.length;s++){let a=C+s,r=t.rankings[a];r>0&&(M.push([s,e,r]),r>R&&(R=r))}}let L=d.length,I=Math.max(L,Math.ceil(Math.max(...j.map(e=>e.averageRank)))),H=j.map((e,t)=>{let s=I-e.averageRank+1;return{value:s>0?s:0,itemStyle:{color:w(t),borderRadius:[4,4,0,0],borderColor:"rgba(0,0,0,0.1)",borderWidth:1,shadowBlur:3,shadowColor:"rgba(0,0,0,0.2)",opacity:.9},originalRank:e.averageRank}}),E=c?200:350,A=c?25:40,D=T.length*A;return{animation:!0,animationDuration:200,animationEasing:"linear",animationDelay:0,animationDurationUpdate:100,animationEasingUpdate:"linear",title:{text:"Model Rankings (".concat(y?"Overall":t.join(", "),")"),left:"center",top:10,textStyle:{fontSize:20,fontWeight:"bold"}},tooltip:{position:"top",formatter:t=>{if("heatmap"===t.seriesType){let s=t.data,a=j[s[0]].name,r=e[s[1]].name,i=s[2];return"".concat(a,"<br/>").concat(r,"<br/>Rank: ").concat(i)}{let e=j[t.dataIndex];return"".concat(e.name,"<br/>Average Rank: ").concat(e.averageRank.toFixed(2))}},textStyle:{fontSize:15}},grid:c?[{left:"12%",right:"12%",top:100,height:E},{left:"12%",right:"12%",top:100+E+50,height:D}]:[{left:"8%",right:"8%",top:140,height:E},{left:"8%",right:"8%",top:120+E+50,height:D}],xAxis:c?[{type:"category",data:j.map(e=>e.name),position:"top",gridIndex:0,axisLabel:{rotate:45,interval:0,fontSize:10,align:"left",padding:[6,0,0,0]}},{type:"category",data:j.map(e=>e.name),position:"top",gridIndex:1,axisLabel:{show:!1}}]:[{type:"category",data:j.map(e=>e.name),position:"top",gridIndex:0,axisLabel:{rotate:45,interval:0,fontSize:16,align:"left",padding:[10,0,0,0]}},{type:"category",data:j.map(e=>e.name),position:"top",gridIndex:1,axisLabel:{show:!1}}],yAxis:c?[{type:"value",name:"Average Rank",nameLocation:"middle",nameGap:30,nameTextStyle:{fontSize:12,fontWeight:"bold"},inverse:!1,gridIndex:0,max:I,axisLabel:{fontSize:10,formatter:function(e){return(I-e+1).toFixed(1)}},splitLine:{lineStyle:{type:"dashed",color:"#ddd"}}},{type:"category",name:"Tasks",nameLocation:"middle",nameGap:40,nameTextStyle:{fontSize:12,fontWeight:"bold"},data:T.map(e=>e.name),gridIndex:1,axisLabel:{show:!1},axisTick:{show:!1}}]:[{type:"value",name:"Average Rank",nameLocation:"middle",nameGap:45,nameTextStyle:{fontSize:16,fontWeight:"bold"},inverse:!1,gridIndex:0,max:I,axisLabel:{fontSize:16,formatter:function(e){return(I-e+1).toFixed(1)}},splitLine:{lineStyle:{type:"dashed",color:"#ddd"}}},{type:"category",name:"Tasks",nameLocation:"middle",nameGap:50,nameTextStyle:{fontSize:18,fontWeight:"bold"},data:T.map(e=>e.name),gridIndex:1,axisLabel:{show:!1},axisTick:{show:!1}}],visualMap:c?{min:1,max:L,calculable:!1,orient:"horizontal",left:"center",top:100+E+5,textStyle:{fontSize:9},itemGap:8,itemWidth:12,itemHeight:10,textGap:3,pieces:[{value:1,color:"#FFD700",label:"1st"},{value:2,color:"#C0C0C0",label:"2nd"},{value:3,color:"#CD7F32",label:"3rd"},{min:4,max:Math.min(10,L),color:"#E3F2FD",label:L<=10?"4+":"4-10"},...L>10?[{min:11,max:Math.min(15,L),color:"#90CAF9",label:L<=15?"11+":"11-15"},...L>15?[{min:16,max:L,color:"#1976D2",label:"16+"}]:[]]:[]]}:{min:1,max:L,calculable:!1,orient:"vertical",left:"right",top:340,textStyle:{fontSize:14},itemGap:6,itemWidth:20,itemHeight:14,pieces:[{value:1,color:"#FFD700",label:"1st"},{value:2,color:"#C0C0C0",label:"2nd"},{value:3,color:"#CD7F32",label:"3rd"},{min:4,max:Math.min(10,L),color:"#E3F2FD",label:L<=10?"4+":"4-10"},...L>10?[{min:11,max:Math.min(15,L),color:"#90CAF9",label:L<=15?"11+":"11-15"},...L>15?[{min:16,max:L,color:"#1976D2",label:"16+"}]:[]]:[]]},series:c?[{name:"Average Rank",type:"bar",data:H,label:{show:!0,position:"bottom",distance:-15,formatter:e=>{let t=j[e.dataIndex];return"".concat(t.averageRank.toFixed(1))},rotate:0,fontSize:10},xAxisIndex:0,yAxisIndex:0},{name:"Rankings",type:"heatmap",data:M.map(e=>{let[t,s,a]=e;return[s,t,a]}),animation:!1,itemStyle:{borderWidth:.5,borderColor:"rgba(255,255,255,0.3)"},label:{show:!0,formatter:e=>String(e.data[2]),fontSize:10,fontWeight:"bold",color:"#000",textBorderColor:"rgba(255,255,255,0.5)",textBorderWidth:1},emphasis:{disabled:!0},xAxisIndex:1,yAxisIndex:1}]:[{name:"Average Rank",type:"bar",data:H,label:{show:!0,position:"bottom",distance:-25,formatter:e=>{let t=j[e.dataIndex];return"".concat(t.averageRank.toFixed(2))},rotate:0,fontSize:16},xAxisIndex:0,yAxisIndex:0},{name:"Rankings",type:"heatmap",data:M.map(e=>{let[t,s,a]=e;return[s,t,a]}),animation:!1,itemStyle:{borderWidth:.5,borderColor:"rgba(255,255,255,0.3)"},label:{show:!0,formatter:e=>String(e.data[2]),fontSize:14,fontWeight:"bold",color:"#000",textBorderColor:"rgba(255,255,255,0.5)",textBorderWidth:2},emphasis:{disabled:!0},xAxisIndex:1,yAxisIndex:1}]}},[s,i,n,t,c,p,u]),b=(0,r.useMemo)(()=>(c?200:350)+5*(c?25:40)+(c?125:175),[c,5]),v=i().length;return(0,a.jsxs)(h.Zp,{className:"w-full overflow-hidden",children:[(0,a.jsxs)(h.aR,{className:"pb-3 sm:pb-6",children:[(0,a.jsx)(h.ZB,{className:"text-lg sm:text-xl",children:"Model Ranking Analysis"}),(0,a.jsx)(h.BT,{className:"text-xs sm:text-sm",children:(()=>{let e=new Set;s().forEach(t=>{Object.keys(t.metrics).forEach(s=>{void 0!==t.metrics[s]&&null!==t.metrics[s]&&e.add(s)})});let a=Array.from(e),r=0===t.length||t.length===a.length&&t.every(e=>a.includes(e))?"Overall":t.join(", ");return c?"".concat(r," rankings"):"Top: Average rankings across tasks | Bottom: Detailed rankings per task (".concat(r,")")})()}),c&&v>5&&(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsxs)(k.$,{variant:p?"default":"outline",size:"sm",onClick:()=>x(!p),className:"text-xs",children:["Show All ",v," Models"]})})]}),(0,a.jsxs)(h.Wu,{className:"p-2 sm:p-6",style:{height:"auto"},children:[(0,a.jsx)(R.A,{option:f,style:{height:"".concat(b,"px"),width:"100%"},opts:{renderer:"canvas",devicePixelRatio:c?1:2},notMerge:!1,lazyUpdate:!1}),(()=>{let e=[...new Set(s().map(e=>e.taskId))].length,t=Math.ceil(e/5);return t>1?(0,a.jsxs)("div",{className:"mt-4 flex items-center justify-center gap-2",children:[(0,a.jsx)(k.$,{variant:"outline",size:c?"sm":"default",onClick:()=>g(e=>Math.max(1,e-1)),disabled:1===u,className:"text-[10px] sm:text-sm",children:"Previous"}),(0,a.jsxs)("span",{className:"text-[10px] sm:text-sm text-gray-600 px-2",children:["Page ",u," of ",t," (",e," tasks)"]}),(0,a.jsx)(k.$,{variant:"outline",size:c?"sm":"default",onClick:()=>g(e=>Math.min(t,e+1)),disabled:u===t,className:"text-[10px] sm:text-sm",children:"Next"})]}):null})()]})]})});function H(e){let{selectedMetrics:t=[]}=e,[s,i]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{if("requestIdleCallback"in window){let e=requestIdleCallback(()=>{i(!0)},{timeout:2e3});return()=>cancelIdleCallback(e)}{let e=setTimeout(()=>{i(!0)},100);return()=>clearTimeout(e)}},[]),s)?(0,a.jsx)(I,{selectedMetrics:t}):(0,a.jsx)(h.Zp,{className:"w-full",children:(0,a.jsx)(h.Wu,{className:"p-6",children:(0,a.jsx)("div",{className:"flex items-center justify-center h-[600px]",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-current border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"}),(0,a.jsx)("p",{className:"mt-4 text-sm text-gray-600",children:"Loading rankings..."})]})})})})}let E=(0,r.memo)(function(e){let{selectedMetrics:t=[]}=e,{getFilteredTasks:s,getFilteredPerformances:i}=(0,m.w)(),[n,o]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!1),[d,p]=(0,r.useState)(!1),[x,u]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=()=>{let e=window.innerWidth;o(e<768),c(e>=768&&e<1024),p(e>=768&&e<1024),u(e>=1200&&e<1600)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let g=(0,r.useMemo)(()=>{let e=s(),a=i();if(0===e.length||0===a.length)return{title:{text:"No tasks available",left:"center"},tooltip:{},series:[]};let r={},o=new Set(e.map(e=>e.id)),l=new Set;a.forEach(e=>{o.has(e.taskId)&&Object.keys(e.metrics).forEach(t=>{e.metrics[t]&&e.metrics[t].length>0&&l.add(t)})});let c=Array.from(l),m=0===t.length||t.length===c.length&&t.every(e=>c.includes(e))?c:t;a.forEach(e=>{o.has(e.taskId)&&Object.keys(e.metrics).forEach(t=>{m.includes(t)&&e.metrics[t]&&e.metrics[t].length>0&&(r[t]||(r[t]=new Set),r[t].add(e.taskId))})});let h={};return Object.entries(r).forEach(e=>{let[t,s]=e;h[t]=s.size}),{animation:!0,animationDuration:600,animationEasing:"cubicOut",animationDelay:function(e){return 50*e},animationDurationUpdate:300,animationEasingUpdate:"cubicOut",title:{text:"Task Distribution by Metric",top:n?"2%":"1%",left:"center",z:0,textStyle:{fontSize:n?14:18,fontWeight:"bold"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} Tasks ({d}%)",z:4},legend:{orient:"vertical",left:n?5:10,top:"47.5%",bottom:void 0,type:"scroll",z:0,textStyle:{fontSize:n?13:16,color:"#333"},itemWidth:n?12:16,itemHeight:n?12:16,itemGap:n?8:15},series:[{name:"Task Distribution",type:"pie",radius:n?["40%","60%"]:x?["50%","68%"]:d?["40%","58%"]:["50%","70%"],center:n?["70%","55%"]:x?["65%","52.5%"]:d?["75%","55%"]:["65%","55%"],avoidLabelOverlap:!0,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:n?14:16,fontWeight:"bold"}},labelLine:{show:!1},data:Object.entries(h).map(e=>{let[t,s]=e;return{name:t,value:s}})}]}},[s,i,t,n,l,d,x]);return(0,a.jsx)(h.Zp,{className:"w-full h-[250px] sm:h-[350px]",children:(0,a.jsx)(h.Wu,{className:"h-[250px] sm:h-[350px] p-2 sm:p-6",children:(0,a.jsx)(R.A,{option:g,style:{height:"100%",width:"100%"},opts:{renderer:"svg",devicePixelRatio:n?1:2},notMerge:!0,lazyUpdate:!0})})})});var A=s(437),D=s(1983),W=s(1829),z=s(7893);let U={Breast:"#df2ebd",Lung:"#9e09db",Colon:"#f0773b",Colorectal:"#f0773b",CRC:"#f0773b",Brain:"#1799e3",Stomach:"#73c0de",Gastric:"#73c0de",Liver:"#43ddcf",Kidney:"#26c156",Prostate:"#3ca6cd",Bladder:"#69a1ec",Thyroid:"#5470c6",Esophagus:"#348522",Cervical:"#d7215d","Soft Tissue":"#9c9c9c",Pancreas:"#c736cf",Ovary:"#44d52d",Skin:"#f52ab6"};function _(e){return U[e]||"#6B7280"}let F=[{organ:"Lung",source:"H1",cohort:"Retrospective-Cohort",caseNumber:4161,slidesNumber:5133},{organ:"Lung",source:"H1",cohort:"Prospective-Cohort",caseNumber:648,slidesNumber:2383},{organ:"Lung",source:"H1",cohort:"Retrospective-Frozen-Cohort",caseNumber:969,slidesNumber:2998},{organ:"Lung",source:"H5",cohort:"Retrospective-Cohort",caseNumber:493,slidesNumber:493},{organ:"Lung",source:"H6",cohort:"Retrospective-Cohort",caseNumber:826,slidesNumber:1412},{organ:"Breast",source:"H1",cohort:"Retrospective-Cohort",caseNumber:559,slidesNumber:6823},{organ:"Breast",source:"H2",cohort:"Retrospective-Cohort",caseNumber:1877,slidesNumber:3140},{organ:"Breast",source:"H2",cohort:"Prospective-Cohort",caseNumber:174,slidesNumber:388},{organ:"Breast",source:"H4",cohort:"Retrospective-Cohort",caseNumber:1534,slidesNumber:3630},{organ:"Breast",source:"H9",cohort:"Retrospective-Cohort",caseNumber:418,slidesNumber:421},{organ:"Breast",source:"H12",cohort:"Retrospective-Cohort",caseNumber:788,slidesNumber:931},{organ:"Breast",source:"H13",cohort:"Retrospective-Cohort",caseNumber:514,slidesNumber:514},{organ:"Gastric",source:"H1",cohort:"Retrospective-Cohort",caseNumber:399,slidesNumber:401},{organ:"Gastric",source:"H1",cohort:"Prospective-Cohort",caseNumber:950,slidesNumber:961},{organ:"Gastric",source:"H1",cohort:"Retrospective-Biopsy-Cohort",caseNumber:5519,slidesNumber:5616},{organ:"Gastric",source:"H2",cohort:"Retrospective-Cohort",caseNumber:1416,slidesNumber:4220},{organ:"Gastric",source:"H3",cohort:"Retrospective-Cohort",caseNumber:260,slidesNumber:260},{organ:"Gastric",source:"H4",cohort:"Retrospective-Cohort",caseNumber:320,slidesNumber:320},{organ:"Gastric",source:"H7",cohort:"Retrospective-Biopsy-Cohort",caseNumber:1327,slidesNumber:2697},{organ:"Colorectal",source:"H1",cohort:"Retrospective-Cohort",caseNumber:5280,slidesNumber:18555},{organ:"Colorectal",source:"H1",cohort:"Retrospective-Biopsy-Cohort",caseNumber:980,slidesNumber:1057},{organ:"Colorectal",source:"H1",cohort:"Prospective-Biopsy-Cohort",caseNumber:2730,slidesNumber:2874},{organ:"Colorectal",source:"H5",cohort:"Retrospective-Cohort",caseNumber:890,slidesNumber:891},{organ:"Colorectal",source:"H8",cohort:"Retrospective-Cohort",caseNumber:621,slidesNumber:2779},{organ:"Colorectal",source:"H14",cohort:"Retrospective-Cohort",caseNumber:361,slidesNumber:717},{organ:"Colorectal",source:"H15",cohort:"Retrospective-Cohort",caseNumber:460,slidesNumber:460},{organ:"Colorectal",source:"H16",cohort:"Retrospective-Cohort",caseNumber:334,slidesNumber:334},{organ:"Liver",source:"H2",cohort:"Retrospective-Cohort",caseNumber:1016,slidesNumber:1016},{organ:"Liver",source:"H11",cohort:"Retrospective-Cohort",caseNumber:45,slidesNumber:76},{organ:"Liver",source:"H19",cohort:"Retrospective-Cohort",caseNumber:503,slidesNumber:503},{organ:"Liver",source:"H20",cohort:"Retrospective-Cohort",caseNumber:56,slidesNumber:56},{organ:"Liver",source:"H21",cohort:"Retrospective-Cohort",caseNumber:82,slidesNumber:82},{organ:"Liver",source:"H22",cohort:"Retrospective-Cohort",caseNumber:79,slidesNumber:79},{organ:"Cervical",source:"H10",cohort:"Retrospective-Cohort",caseNumber:801,slidesNumber:4251},{organ:"Brain",source:"H1",cohort:"Retrospective-Cohort",caseNumber:676,slidesNumber:1358},{organ:"Thyroid",source:"H2",cohort:"Retrospective-Cohort",caseNumber:721,slidesNumber:721},{organ:"Thyroid",source:"H10",cohort:"Retrospective-Cohort",caseNumber:238,slidesNumber:959},{organ:"Soft Tissue",source:"H17",cohort:"Retrospective-Cohort",caseNumber:200,slidesNumber:607},{organ:"Soft Tissue",source:"H18",cohort:"Retrospective-Cohort",caseNumber:205,slidesNumber:212},{organ:"Esophagus",source:"H25",cohort:"Retrospective-Cohort",caseNumber:128,slidesNumber:128},{organ:"Esophagus",source:"H26",cohort:"Retrospective-Cohort",caseNumber:51,slidesNumber:51},{organ:"Bladder",source:"H24",cohort:"Retrospective-Cohort",caseNumber:1090,slidesNumber:1090},{organ:"Prostate",source:"H10",cohort:"Retrospective-Cohort",caseNumber:257,slidesNumber:3186},{organ:"Prostate",source:"H23",cohort:"Retrospective-Cohort",caseNumber:161,slidesNumber:161}];function B(){let[e,t]=(0,r.useState)(!1),s=(0,r.useMemo)(()=>F.reduce((e,t)=>e+t.caseNumber,0),[]),i=(0,r.useMemo)(()=>F.reduce((e,t)=>e+t.slidesNumber,0),[]),n=(0,r.useMemo)(()=>new Set(F.map(e=>e.source)).size,[]),o=(0,r.useMemo)(()=>new Set(F.map(e=>e.organ)).size,[]);return e?(0,a.jsxs)(h.Zp,{className:"w-full shadow-sm border border-gray-200",children:[(0,a.jsx)(h.aR,{className:"pb-3 p-3 sm:p-6",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)(h.ZB,{className:"text-lg font-semibold text-gray-900",children:"Dataset Information"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mt-1 break-words",children:["In-house data used for the benchmark across ",o," organs and ",n," hospitals"]})]}),(0,a.jsxs)(k.$,{variant:"outline",size:"sm",onClick:()=>t(!1),className:"flex items-center gap-2 shrink-0 self-start sm:self-auto",children:[(0,a.jsx)(M.mx3,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Hide"}),(0,a.jsx)("span",{className:"sm:hidden",children:"Hide"})]})]})}),(0,a.jsxs)(h.Wu,{className:"pt-0 p-3 sm:p-6",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-3 sm:p-4 mb-4 sm:mb-6 border border-blue-200",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h4",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2 sm:mb-3",children:"Dataset Overview"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-4",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg p-2 sm:p-3 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-1",children:[(0,a.jsx)(A.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-500"}),(0,a.jsx)("div",{className:"text-lg sm:text-2xl font-bold text-blue-600",children:s.toLocaleString()})]}),(0,a.jsx)("div",{className:"text-xs sm:text-sm text-gray-600 text-center",children:"Total Cases"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg p-2 sm:p-3 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-1",children:[(0,a.jsx)(D.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-500"}),(0,a.jsx)("div",{className:"text-lg sm:text-2xl font-bold text-green-600",children:i.toLocaleString()})]}),(0,a.jsx)("div",{className:"text-xs sm:text-sm text-gray-600 text-center",children:"Total Slides"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg p-2 sm:p-3 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-1",children:[(0,a.jsx)(W.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-500"}),(0,a.jsx)("div",{className:"text-lg sm:text-2xl font-bold text-purple-600",children:n})]}),(0,a.jsx)("div",{className:"text-xs sm:text-sm text-gray-600 text-center",children:"Hospitals"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg p-2 sm:p-3 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-1",children:[(0,a.jsx)(z.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-orange-500"}),(0,a.jsx)("div",{className:"text-lg sm:text-2xl font-bold text-orange-600",children:o})]}),(0,a.jsx)("div",{className:"text-xs sm:text-sm text-gray-600 text-center",children:"Organs"})]})]})]})}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-3 sm:gap-4",children:Object.entries(F.reduce((e,t)=>(e[t.organ]||(e[t.organ]=[]),e[t.organ].push(t),e),{})).map(e=>{let[t,s]=e,r=s.reduce((e,t)=>e+t.caseNumber,0),i=s.reduce((e,t)=>e+t.slidesNumber,0),n=new Set(s.map(e=>e.source)).size;return(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",style:{borderTopColor:_(t),borderTopWidth:"3px"},children:[(0,a.jsxs)("div",{className:"p-2 sm:p-3 bg-gray-50 border-b border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full shrink-0",style:{backgroundColor:_(t)}}),(0,a.jsx)("h4",{className:"font-semibold text-gray-900 text-sm truncate",children:t})]}),(0,a.jsxs)("div",{className:"mt-1 text-xs text-gray-600 break-words",children:[n," hospital",n>1?"s":""," • ",s.length," cohort",s.length>1?"s":""]})]}),(0,a.jsxs)("div",{className:"p-2 sm:p-3 space-y-2",children:[s.map((e,t)=>(0,a.jsxs)("div",{className:"flex justify-between items-start text-xs gap-2",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"font-medium text-gray-900 truncate",children:e.source}),(0,a.jsx)("div",{className:"text-gray-500 truncate text-xs",children:e.cohort.replace("-Cohort","")})]}),(0,a.jsxs)("div",{className:"text-right shrink-0 space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,a.jsx)(A.A,{className:"w-3 h-3 text-blue-500"}),(0,a.jsx)("span",{className:"font-semibold text-gray-900 text-xs",children:e.caseNumber.toLocaleString()})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,a.jsx)(D.A,{className:"w-3 h-3 text-green-500"}),(0,a.jsx)("span",{className:"text-gray-600 text-xs",children:e.slidesNumber.toLocaleString()})]})]})]},t)),(0,a.jsx)("div",{className:"border-t border-gray-200 pt-2 mt-2",children:(0,a.jsxs)("div",{className:"flex justify-between items-center text-xs",children:[(0,a.jsx)("span",{className:"text-gray-900 font-semibold",children:"Total"}),(0,a.jsxs)("div",{className:"text-right space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,a.jsx)(A.A,{className:"w-3 h-3 text-blue-500"}),(0,a.jsx)("span",{className:"font-bold text-gray-900 text-xs",children:r.toLocaleString()})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,a.jsx)(D.A,{className:"w-3 h-3 text-green-500"}),(0,a.jsx)("span",{className:"font-semibold text-gray-700 text-xs",children:i.toLocaleString()})]})]})]})})]})]},t)})})]})]}):(0,a.jsx)(h.Zp,{className:"w-full shadow-sm border border-gray-200",children:(0,a.jsx)(h.Wu,{className:"p-3 sm:p-4",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 min-w-0",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Dataset Information"}),(0,a.jsxs)("div",{className:"text-sm text-gray-500 break-words flex flex-wrap items-center gap-1",children:[(0,a.jsxs)("div",{className:"inline-flex items-center gap-1",children:[(0,a.jsx)(A.A,{className:"w-3.5 h-3.5 text-blue-500"}),(0,a.jsx)("span",{className:"font-semibold text-gray-700",children:s.toLocaleString()}),(0,a.jsx)("span",{className:"text-gray-500",children:"cases"})]}),(0,a.jsx)("span",{className:"text-gray-300",children:"•"}),(0,a.jsxs)("div",{className:"inline-flex items-center gap-1",children:[(0,a.jsx)(D.A,{className:"w-3.5 h-3.5 text-green-500"}),(0,a.jsx)("span",{className:"text-gray-600",children:i.toLocaleString()}),(0,a.jsx)("span",{className:"text-gray-500",children:"slides"})]}),(0,a.jsx)("span",{className:"text-gray-300",children:"•"}),(0,a.jsxs)("div",{className:"inline-flex items-center gap-1",children:[(0,a.jsx)(W.A,{className:"w-3.5 h-3.5 text-purple-500"}),(0,a.jsx)("span",{className:"text-gray-600",children:n}),(0,a.jsx)("span",{className:"text-gray-500",children:"hospitals"})]}),(0,a.jsx)("span",{className:"text-gray-300 hidden sm:inline",children:"•"}),(0,a.jsxs)("div",{className:"inline-flex items-center gap-1 hidden sm:flex",children:[(0,a.jsx)(z.A,{className:"w-3.5 h-3.5 text-orange-500"}),(0,a.jsx)("span",{className:"text-gray-600",children:o}),(0,a.jsx)("span",{className:"text-gray-500",children:"organs"})]})]})]}),(0,a.jsxs)(k.$,{variant:"outline",size:"sm",onClick:()=>t(!0),className:"flex items-center gap-2 shrink-0 self-start sm:self-auto",children:[(0,a.jsx)(M.Ny1,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Show Details"}),(0,a.jsx)("span",{className:"sm:hidden",children:"Details"})]})]})})})}let O=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",s),...r})})});O.displayName="Table";let G=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",s),...r})});G.displayName="TableHeader";let Z=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",s),...r})});Z.displayName="TableBody",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...r})}).displayName="TableFooter";let V=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...r})});V.displayName="TableRow";let $=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("th",{ref:t,className:(0,n.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...r})});$.displayName="TableHead";let K=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("td",{ref:t,className:(0,n.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...r})});K.displayName="TableCell",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",s),...r})}).displayName="TableCaption";let Y=(0,f.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function q(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)(Y({variant:s}),t),...r})}function J(){let{getFilteredModels:e}=(0,m.w)(),t=e(),[s,i]=(0,r.useState)(""),[n,o]=(0,r.useState)("released_date"),[l,c]=(0,r.useState)("desc"),d=e=>({r50:"https://arxiv.org/abs/1512.03385",ctranspath:"https://doi.org/10.1016/j.media.2022.102559",virchow:"https://doi.org/10.1038/s41591-024-03141-0",gigapath:"https://doi.org/10.1038/s41586-024-07441-w",hibou:"https://arxiv.org/abs/2406.05074",gpfm:"https://doi.org/10.1038/s41551-025-01488-4",hoptimus0:"https://huggingface.co/bioptimus/H-optimus-0",hoptimus1:"https://huggingface.co/bioptimus/H-optimus-1",plip:"https://doi.org/10.1038/s41591-023-02504-3",conch:"https://doi.org/10.1038/s41591-024-02856-4",musk:"https://doi.org/10.1038/s41586-024-08378-w",mstar:"https://arxiv.org/abs/2407.15362",phikon:"https://www.medrxiv.org/content/10.1101/2023.07.21.23292757v3",phikon2:"https://arxiv.org/abs/2409.09173",chief:"https://doi.org/10.1038/s41586-024-07894-z",uni:"https://doi.org/10.1038/s41591-024-02857-3",virchow2:"https://arxiv.org/abs/2408.00738",patho_clip:"https://arxiv.org/abs/2505.11404",omiclip:"https://doi.org/10.1038/s41592-025-02707-1"})[e.toLowerCase()]||"https://scholar.google.com/scholar?q=".concat(encodeURIComponent(e)),p=e=>{let t=d(e.citation);window.open(t,"_blank","noopener,noreferrer")},x=e=>{if("-"===e)return 0;let t=e.match(/^([\d.]+)([MBK]?)$/);if(!t)return 0;let s=parseFloat(t[1]);switch(t[2]){case"B":return 1e3*s;case"M":default:return s;case"K":return s/1e3}},u=e=>{if("-"===e)return new Date(0);if(e.includes("-")){let t=e.split("-");if(3===t.length){let e=t[0],s=t[1],a=2===t[2].length?"20"+t[2]:t[2];return new Date("".concat(s," ").concat(e,", ").concat(a))}}else{let t=e.split("-");if(2===t.length){let e=t[0],s=2===t[1].length?"20"+t[1]:t[1];return new Date("".concat(e," 1, ").concat(s))}}return new Date(e)},g=(0,r.useMemo)(()=>t.filter(e=>e.name.toLowerCase().includes(s.toLowerCase())||e.architecture.toLowerCase().includes(s.toLowerCase())||e.pretraining_strategy.toLowerCase().includes(s.toLowerCase())||e.publication.toLowerCase().includes(s.toLowerCase())).sort((e,t)=>{let s,a;return("parameterValue"===n?(s=x(e.parameters),a=x(t.parameters)):"released_date"===n?(s=u(e.released_date),a=u(t.released_date)):(s=e[n],a=t[n]),s<a)?"asc"===l?-1:1:s>a?"asc"===l?1:-1:0}),[t,s,n,l]),f=e=>{n===e?c("asc"===l?"desc":"asc"):(o(e),c("asc"))},b=e=>n!==e?(0,a.jsx)(M.MjW,{className:"w-3 h-3 opacity-50"}):"asc"===l?(0,a.jsx)(M.XhJ,{className:"w-3 h-3 text-blue-600"}):(0,a.jsx)(M.GOR,{className:"w-3 h-3 text-blue-600"}),v=e=>{let t=e.toLowerCase(),s=e,a="bg-gray-100 text-gray-800 border-gray-200";switch(t){case"nature":a="bg-red-100 text-red-800 border-red-200";break;case"nat. med.":case"nm":s="Nat. Med.",a="bg-red-100 text-red-800 border-red-200";break;case"cvpr":a="bg-blue-100 text-blue-800 border-blue-200";break;case"media":a="bg-green-100 text-green-800 border-green-200";break;case"nat. biomed. eng.":s="Nat. BME",a="bg-red-100 text-red-800 border-red-200";break;case"nbme":s="NBME",a="bg-purple-100 text-purple-800 border-purple-200";break;case"preprint":a="bg-orange-100 text-orange-800 border-orange-200"}return{displayName:s,colorClass:a}},y=e=>e.includes("ViT")?"bg-blue-50 text-blue-700 border-blue-200":e.includes("ResNet")?"bg-green-50 text-green-700 border-green-200":e.includes("Swin")?"bg-purple-50 text-purple-700 border-purple-200":"bg-gray-50 text-gray-700 border-gray-200";return(0,a.jsxs)(h.Zp,{className:"shadow-sm",children:[(0,a.jsxs)(h.aR,{className:"pb-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[(0,a.jsx)(h.ZB,{className:"text-lg sm:text-xl font-semibold",children:"Pathology Foundation Models"}),(0,a.jsx)("div",{className:"flex gap-4 text-xs sm:text-sm text-muted-foreground",children:(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{className:"font-medium",children:g.length})," Models"]})})]}),(0,a.jsxs)("div",{className:"relative max-w-sm",children:[(0,a.jsx)(M.KSO,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,a.jsx)(w,{placeholder:"Search models...",value:s,onChange:e=>i(e.target.value),className:"pl-10 text-sm"})]})]}),(0,a.jsxs)(h.Wu,{className:"p-0",children:[(0,a.jsx)("div",{className:"block xl:hidden",children:(0,a.jsx)("div",{className:"space-y-4 p-4",children:g.map(e=>(0,a.jsx)(h.Zp,{className:"border border-gray-200 cursor-pointer hover:shadow-md transition-shadow mobile-card",onClick:()=>p(e),children:(0,a.jsx)(h.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 text-sm",children:e.name}),(0,a.jsx)(q,{variant:"outline",className:"text-xs",children:e.architecture})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Parameters:"}),(0,a.jsx)("div",{className:"font-medium",children:e.parameters})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Slides:"}),(0,a.jsx)("div",{className:"font-medium",children:e.slides})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Patches:"}),(0,a.jsx)("div",{className:"font-medium",children:e.patches})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Released:"}),(0,a.jsx)("div",{className:"font-medium",children:e.released_date})]})]}),(0,a.jsxs)("div",{className:"pt-2 border-t border-gray-100",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Publication:"}),(0,a.jsx)("div",{className:"text-sm font-medium text-blue-600 truncate",children:e.publication})]})]})})},e.name))})}),(0,a.jsx)("div",{className:"hidden lg:block overflow-x-auto mobile-table-scroll",children:(0,a.jsxs)(O,{className:"min-w-[1000px]",children:[(0,a.jsx)(G,{children:(0,a.jsxs)(V,{className:"bg-gray-50/50",children:[(0,a.jsx)($,{className:"font-semibold px-3 py-4 text-base w-[15%]",children:(0,a.jsxs)(k.$,{variant:"ghost",size:"sm",onClick:()=>f("name"),className:"h-auto p-0 font-semibold hover:bg-transparent flex items-center gap-1 text-base",children:["Model Name",b("name")]})}),(0,a.jsx)($,{className:"font-semibold px-3 py-4 text-base w-[10%]",children:(0,a.jsxs)(k.$,{variant:"ghost",size:"sm",onClick:()=>f("architecture"),className:"h-auto p-0 font-semibold hover:bg-transparent flex items-center gap-1 text-base",children:["Architecture",b("architecture")]})}),(0,a.jsx)($,{className:"font-semibold px-3 py-4 text-base w-[10%]",children:(0,a.jsxs)(k.$,{variant:"ghost",size:"sm",onClick:()=>f("pretraining_strategy"),className:"h-auto p-0 font-semibold hover:bg-transparent flex items-center gap-1 text-base",children:["Strategy",b("pretraining_strategy")]})}),(0,a.jsx)($,{className:"font-semibold px-3 py-4 text-center text-base w-[8%]",children:(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsxs)(k.$,{variant:"ghost",size:"sm",onClick:()=>f("parameterValue"),className:"h-auto p-0 font-semibold hover:bg-transparent flex items-center gap-1 text-base",children:["Parameters",b("parameterValue")]})})}),(0,a.jsx)($,{className:"font-semibold px-3 py-4 text-center text-base w-[7%]",children:"Slides"}),(0,a.jsx)($,{className:"font-semibold px-3 py-4 text-center text-base w-[7%]",children:"Patches"}),(0,a.jsx)($,{className:"font-semibold px-3 py-4 text-base w-[20%]",children:"Data Source"}),(0,a.jsx)($,{className:"font-semibold px-3 py-4 text-base w-[8%]",children:"Stain"}),(0,a.jsx)($,{className:"font-semibold px-3 py-4 text-center text-base w-[8%]",children:(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsxs)(k.$,{variant:"ghost",size:"sm",onClick:()=>f("released_date"),className:"h-auto p-0 font-semibold hover:bg-transparent flex items-center gap-1 text-base",children:["Released",b("released_date")]})})}),(0,a.jsx)($,{className:"font-semibold px-3 py-4 text-center text-base w-[7%]",children:(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsxs)(k.$,{variant:"ghost",size:"sm",onClick:()=>f("publication"),className:"h-auto p-0 font-semibold hover:bg-transparent flex items-center gap-1 text-base",children:["Publication",b("publication")]})})})]})}),(0,a.jsx)(Z,{children:g.map((e,t)=>(0,a.jsxs)(V,{onClick:()=>p(e),className:"hover:bg-blue-50/50 hover:cursor-pointer transition-colors ".concat(t%2==0?"bg-white":"bg-gray-50/20"),title:"Click to view ".concat(e.name," publication"),children:[(0,a.jsx)(K,{className:"font-semibold text-gray-900 px-3 py-4 w-[15%]",children:(0,a.jsx)("div",{className:"text-base truncate",title:e.name,children:e.name})}),(0,a.jsx)(K,{className:"px-3 py-4 w-[10%]",children:(0,a.jsx)(q,{variant:"outline",className:"".concat(y(e.architecture)," font-medium text-sm truncate"),children:e.architecture})}),(0,a.jsx)(K,{className:"px-3 py-4 w-[10%]",children:(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:e.pretraining_strategy.split(", ").map((e,t)=>{let s="Supervised Learning"===e?e.replace(" ","\n"):e;return(0,a.jsx)(q,{variant:"outline",className:"bg-indigo-50 text-indigo-700 border-indigo-200 text-sm whitespace-pre-line text-center leading-tight",children:s},t)})})}),(0,a.jsx)(K,{className:"text-base font-medium px-3 py-4 text-center w-[8%]",children:(0,a.jsx)("div",{className:"truncate",children:e.parameters})}),(0,a.jsx)(K,{className:"text-base px-3 py-4 text-center w-[7%]",children:(0,a.jsx)("div",{className:"truncate",children:e.slides})}),(0,a.jsx)(K,{className:"text-base px-3 py-4 text-center w-[7%]",children:(0,a.jsx)("div",{className:"truncate",children:e.patches})}),(0,a.jsx)(K,{className:"px-3 py-4 w-[20%]",children:(0,a.jsx)("div",{className:"text-base leading-tight truncate",title:e.pretraining_data_source,children:e.pretraining_data_source})}),(0,a.jsx)(K,{className:"px-3 py-4 w-[8%]",children:(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:e.stain.split(", ").map((e,t)=>(0,a.jsx)(q,{variant:"outline",className:"bg-emerald-50 text-emerald-700 border-emerald-200 text-sm truncate",children:e},t))})}),(0,a.jsx)(K,{className:"text-base px-3 py-4 text-center w-[8%]",children:(0,a.jsx)("div",{className:"truncate",children:e.released_date})}),(0,a.jsx)(K,{className:"px-3 py-4 text-center w-[7%]",children:"-"!==e.publication?(()=>{let{displayName:t,colorClass:s}=v(e.publication);return(0,a.jsx)(q,{variant:"outline",className:"".concat(s," font-medium text-sm truncate"),children:t})})():(0,a.jsx)("span",{className:"text-gray-400 text-base",children:"-"})})]},e.name))})]})})]})]})}function Q(e){let{value:t,onChange:s}=e,{getAvailableMetrics:i,getFilteredTasks:n}=(0,m.w)(),o=i(),l=n(),c=(()=>{if(0===l.length)return o;let e=new Set;return l.forEach(t=>{switch(t.taskType){case"Classification":e.add("AUC");break;case"DFS Prediction":case"DSS Prediction":case"OS Prediction":e.add("C-Index");break;case"Report Generation":e.add("BLEU");break;default:t.evaluationMetrics.forEach(t=>e.add(t))}}),Array.from(e)})(),d=e=>{s(t.includes(e)?t.filter(t=>t!==e):[...t,e])};return r.useEffect(()=>{let e=t.filter(e=>c.includes(e));e.length!==t.length&&s(e)},[c,t,s]),(0,a.jsxs)(h.Zp,{children:[(0,a.jsx)(h.aR,{className:"pb-2 sm:pb-3",children:(0,a.jsx)(h.ZB,{className:"text-xs sm:text-sm font-medium",children:"Select Metric"})}),(0,a.jsx)(h.Wu,{children:(0,a.jsx)("div",{className:"space-y-2 sm:space-y-3",children:o.map(e=>{let s=c.includes(e);return(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(u,{id:"metric-".concat(e),checked:t.includes(e),onCheckedChange:()=>d(e),disabled:!s,className:"h-3 w-3 sm:h-4 sm:w-4"}),(0,a.jsx)(v,{htmlFor:"metric-".concat(e),className:"text-xs sm:text-sm leading-tight ".concat(s?"cursor-pointer":"cursor-not-allowed text-gray-400"),children:e.replace("_"," ")})]},e)})})})]})}var X=s(2488),ee=s(2645),et=s(7742),es=s(7752),ea=s(632),er=s(7802),ei=s(1234),en=s(2604);function eo(e){let{taskId:t}=e,{getTaskById:s}=(0,m.w)(),r=t?s(t):void 0;if(!r)return null;let i=(()=>{let e,t;let s={"IHC-PR Expression Prediction":{description:"This task predicts progesterone receptor (PR) expression status from H&E-stained slides. PR is a critical biomarker for breast cancer subtyping and treatment selection, particularly for hormone therapy decisions.",referenceUrl:"https://en.wikipedia.org/wiki/Progesterone_receptor/",referenceTitle:"Progesterone Receptor - Wikipedia"},"IHC-PR":{description:"This task predicts progesterone receptor (PR) expression status from H&E-stained slides. PR is a critical biomarker for breast cancer subtyping and treatment selection, particularly for hormone therapy decisions.",referenceUrl:"https://en.wikipedia.org/wiki/Progesterone_receptor/",referenceTitle:"Progesterone Receptor - Wikipedia"},"IHC-ER Expression Prediction":{description:"This task predicts estrogen receptor (ER) expression status from H&E-stained slides. ER status is fundamental for breast cancer classification and determines eligibility for endocrine therapy.",referenceUrl:"https://en.wikipedia.org/wiki/Estrogen_receptor",referenceTitle:"Estrogen Receptor - Wikipedia"},"IHC-HER2 Expression Prediction":{description:"This task predicts HER2 protein overexpression from H&E-stained slides. HER2 status is crucial for targeted therapy decisions, particularly for trastuzumab treatment in breast cancer.",referenceUrl:"https://www.cancer.gov/types/breast/breast-hormone-therapy-fact-sheet",referenceTitle:"HER2 Testing - NCI"},"IHC-AR Expression Prediction":{description:"This task predicts androgen receptor (AR) expression status from H&E-stained slides. AR expression provides insights into hormone signaling pathways and potential therapeutic targets.",referenceUrl:"https://en.wikipedia.org/wiki/Androgen_receptor",referenceTitle:"Androgen Receptor - Wikipedia"},"IHC-CK5 Expression Prediction":{description:"This task predicts cytokeratin 5 (CK5) expression, a basal cell marker that helps distinguish triple-negative breast cancer subtypes and provides prognostic information.",referenceUrl:"https://en.wikipedia.org/wiki/Keratin_5/",referenceTitle:"Cytokeratin 5 - Wikipedia"},"IHC-C-MET Expression Prediction":{description:"This task predicts c-MET receptor expression in lung cancer from H&E slides. c-MET is involved in tumor growth, invasion, and metastasis, and serves as a potential therapeutic target.",referenceUrl:"https://en.wikipedia.org/wiki/C-Met",referenceTitle:"c-MET Receptor - Wikipedia"},"IHC-CK7 Expression Prediction":{description:"This task predicts cytokeratin 7 (CK7) expression, a key marker for lung adenocarcinoma differentiation and primary site determination in metastatic cancer.",referenceUrl:"https://en.wikipedia.org/wiki/Keratin_7/",referenceTitle:"Cytokeratin 7 - Wikipedia"},"IHC-TTF-1 Expression Prediction":{description:"This task predicts thyroid transcription factor-1 (TTF-1) expression, a highly specific marker for lung adenocarcinoma and thyroid carcinoma, essential for accurate diagnosis.",referenceUrl:"https://en.wikipedia.org/wiki/Thyroid_transcription_factor_1",referenceTitle:"TTF-1 - Wikipedia"},"IHC-Napsin A Expression Prediction":{description:"This task predicts Napsin A expression, a specific marker for lung adenocarcinoma that aids in distinguishing primary lung cancer from metastatic disease.",referenceUrl:"https://en.wikipedia.org/wiki/NAPSA/",referenceTitle:"Napsin A - Wikipedia"},"IHC-NapsinA Expression Prediction":{description:"This task predicts Napsin A expression, a specific marker for lung adenocarcinoma that aids in distinguishing primary lung cancer from metastatic disease.",referenceUrl:"https://en.wikipedia.org/wiki/NAPSA/",referenceTitle:"Napsin A - Wikipedia"},"IHC-S-100 Expression Prediction":{description:"This task predicts S-100 protein expression in gastric cancer, which is associated with neuroendocrine differentiation and has prognostic implications.",referenceUrl:"https://en.wikipedia.org/wiki/S100_protein",referenceTitle:"S-100 Protein - Wikipedia"},"TNM-N Staging":{description:"This task predicts lymph node metastasis status (N0 vs N+) from primary tumor slides. Lymph node involvement is a critical prognostic factor that guides treatment decisions and staging.",referenceUrl:"https://www.cancer.gov/about-cancer/diagnosis-staging/staging",referenceTitle:"TNM Staging - NCI"},"TNM N Staging":{description:"This task predicts lymph node metastasis status (N0 vs N+) from primary tumor slides. Lymph node involvement is a critical prognostic factor that guides treatment decisions and staging.",referenceUrl:"https://www.cancer.gov/about-cancer/diagnosis-staging/staging",referenceTitle:"TNM Staging - NCI"},"TNM-T Staging":{description:"This task determines tumor invasion depth (T1-T4) based on histological features. T stage reflects local tumor extent and is fundamental for cancer staging and prognosis.",referenceUrl:"https://www.cancer.gov/about-cancer/diagnosis-staging/staging",referenceTitle:"TNM Staging - NCI"},"TNM-T Staging (2 classes)":{description:"This task performs binary classification of tumor invasion depth into early-stage (T1+T2) versus advanced (T3+T4) categories, simplifying staging for treatment decisions.",referenceUrl:"https://www.cancer.gov/about-cancer/diagnosis-staging/staging",referenceTitle:"TNM Staging - NCI"},"TNM-T Staging (4 classes)":{description:"This task performs fine-grained classification of tumor invasion depth into four distinct T stages (T1, T2, T3, T4), providing detailed staging information.",referenceUrl:"https://www.cancer.gov/about-cancer/diagnosis-staging/staging",referenceTitle:"TNM Staging - NCI"},"TNM T Staging":{description:"This task determines tumor invasion depth (T1-T4) based on histological features. T stage reflects local tumor extent and is fundamental for cancer staging and prognosis.",referenceUrl:"https://www.cancer.gov/about-cancer/diagnosis-staging/staging",referenceTitle:"TNM Staging - NCI"},"TNM Staging":{description:"This task performs comprehensive TNM staging classification combining tumor size, lymph node involvement, and metastasis status to determine overall cancer stage.",referenceUrl:"https://www.cancer.gov/about-cancer/diagnosis-staging/staging",referenceTitle:"TNM Staging - NCI"},"pTNM Staging":{description:"This task performs pathological TNM staging based on surgical specimen examination, providing the most accurate staging information for treatment planning.",referenceUrl:"https://www.cancer.gov/about-cancer/diagnosis-staging/staging",referenceTitle:"TNM Staging - NCI"},"WHO Grading":{description:"This task assigns WHO grade (Grade 2-4) to brain tumors based on histological features including cellularity, mitotic activity, necrosis, and vascular proliferation.",referenceUrl:"https://en.wikipedia.org/wiki/WHO_classification_of_tumours_of_the_central_nervous_system",referenceTitle:"WHO Brain Tumor Classification - Wikipedia"},"Lauren Subtyping":{description:"This task classifies gastric adenocarcinoma into Lauren subtypes: intestinal (glandular), diffuse (signet ring), or mixed type. This classification has significant prognostic and therapeutic implications.",referenceUrl:"https://www.iccr-cancer.org/docs/ICCR-Stomach-HistoTtype.pdf",referenceTitle:"Lauren Classification - ICCR"},"Lauren Classification":{description:"This task classifies gastric adenocarcinoma into Lauren subtypes: intestinal (glandular), diffuse (signet ring), or mixed type. This classification has significant prognostic and therapeutic implications.",referenceUrl:"https://www.iccr-cancer.org/docs/ICCR-Stomach-HistoTtype.pdf",referenceTitle:"Lauren Classification - ICCR"},"Pathological Subtyping":"This task determines specific histological subtypes based on morphological features, cellular architecture, and differentiation patterns.","Molecular Subtyping":{description:"This task classifies tumors into molecular subtypes (e.g., Luminal A/B, HER2+, Triple-negative) based on expression patterns predicted from H&E morphology.",referenceUrl:"https://www.sciencedirect.com/topics/medicine-and-dentistry/breast-cancer-molecular-subtype/",referenceTitle:"Breast Cancer Molecular Subtypes - ScienceDirect"},"CMS Subtyping":{description:"This task performs consensus molecular subtyping of colorectal cancer into four subtypes (CMS1-4) based on gene expression patterns, each with distinct biological characteristics and treatment responses.",referenceUrl:"https://www.nature.com/articles/nm.3967",referenceTitle:"Consensus Molecular Subtypes - Nature Medicine"},"Consensus Molecular Subtyping":{description:"This task classifies colorectal cancer into four consensus molecular subtypes (CMS1-4): CMS1 (immune), CMS2 (canonical), CMS3 (metabolic), and CMS4 (mesenchymal), each with distinct therapeutic implications.",referenceUrl:"https://www.nature.com/articles/nm.3967",referenceTitle:"Consensus Molecular Subtypes - Nature Medicine"},"OS Prediction":{description:"This task predicts overall survival (OS) - the time from diagnosis to death from any cause. This is the gold standard endpoint for assessing treatment efficacy and patient prognosis.",referenceUrl:"https://en.wikipedia.org/wiki/Overall_survival",referenceTitle:"Overall Survival - Wikipedia"},"DFS Prediction":{description:"This task predicts disease-free survival (DFS) - the time from treatment to disease recurrence or death. DFS is crucial for monitoring treatment success and planning follow-up care.",referenceUrl:"https://en.wikipedia.org/wiki/Disease-free_survival",referenceTitle:"Disease-free Survival - Wikipedia"},"DSS Prediction":{description:"This task predicts disease-specific survival (DSS) - the time from diagnosis to death specifically caused by the cancer. DSS provides insights into cancer-specific mortality risk.",referenceUrl:"https://www.cancer.gov/publications/dictionaries/cancer-terms/def/disease-specific-survival-rate",referenceTitle:"Disease-specific Survival - NCI"},"Primary Site Prediciton":{description:"This task determines the primary organ of origin for metastatic tumors based on histological patterns. Critical for identifying unknown primary cancers and guiding treatment.",referenceUrl:"https://www.cancer.gov/types/unknown-primary",referenceTitle:"Cancer of Unknown Primary - NCI"},"Primary Site Prediction":{description:"This task determines the primary organ of origin for metastatic tumors based on histological patterns. Critical for identifying unknown primary cancers and guiding treatment.",referenceUrl:"https://www.cancer.gov/types/unknown-primary",referenceTitle:"Cancer of Unknown Primary - NCI"},"Primary and Metastatic Classification":{description:"This task distinguishes between primary tumors and metastatic deposits based on morphological features and growth patterns.",referenceUrl:"https://en.wikipedia.org/wiki/Metastasis",referenceTitle:"Metastasis - Wikipedia"},"Metastatic vs Primary Classification":{description:"This task distinguishes between primary tumors and metastatic deposits based on morphological features and growth patterns.",referenceUrl:"https://en.wikipedia.org/wiki/Metastasis",referenceTitle:"Metastasis - Wikipedia"},"IDH Mutation Prediction":{description:"This task predicts IDH mutation status in brain tumors from H&E slides. IDH mutations are key molecular markers that define glioma subtypes and influence prognosis and treatment.",referenceUrl:"https://en.wikipedia.org/wiki/IDH1",referenceTitle:"IDH Mutations - Wikipedia"},"Overall Survival (OS) Prediction":{description:"This task predicts overall survival (OS) - the time from diagnosis to death from any cause. This is the gold standard endpoint for assessing treatment efficacy and patient prognosis.",referenceUrl:"https://en.wikipedia.org/wiki/Overall_survival",referenceTitle:"Overall Survival - Wikipedia"},"Disease-free Survival (DFS) Prediction":{description:"This task predicts disease-free survival (DFS) - the time from treatment to disease recurrence or death. DFS is crucial for monitoring treatment success and planning follow-up care.",referenceUrl:"https://en.wikipedia.org/wiki/Disease-free_survival",referenceTitle:"Disease-free Survival - Wikipedia"},"Disease-specific Survival (DSS) Prediction":{description:"This task predicts disease-specific survival (DSS) - the time from diagnosis to death specifically caused by the cancer. DSS provides insights into cancer-specific mortality risk.",referenceUrl:"https://www.cancer.gov/publications/dictionaries/cancer-terms/def/disease-specific-survival",referenceTitle:"Disease-specific Survival - NCI"},"Histopathological Grading Assesment":{description:"This task determines gastric cancer differentiation grade (well, moderate, poor) based on glandular architecture and cellular features. Tumor grade correlates with biological behavior and patient prognosis.",referenceUrl:"https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3204467/",referenceTitle:"Gastric Cancer Grading - PMC"},"Perineural Invasion Detection":{description:"This task identifies perineural invasion (PNI) - cancer cell invasion around nerves. PNI is an important prognostic factor associated with increased recurrence risk and poor survival outcomes.",referenceUrl:"https://en.wikipedia.org/wiki/Perineural_invasion",referenceTitle:"Perineural Invasion - Wikipedia"},"Vascular Invasion Detection":{description:"This task detects vascular invasion - cancer cell invasion into blood or lymphatic vessels. This finding indicates increased metastatic potential and guides adjuvant therapy decisions.",referenceUrl:"https://www.iccr-cancer.org/docs/ICCR-Liver2-VI.pdf/",referenceTitle:"Vascular Invasion in Liver Cancer - ICCR"},"Intestinal Metaplasia Detection":{description:"This task identifies intestinal metaplasia in gastric biopsies - a precancerous condition that increases gastric cancer risk and requires surveillance according to clinical guidelines.",referenceUrl:"https://en.wikipedia.org/wiki/Intestinal_metaplasia",referenceTitle:"Intestinal Metaplasia - Wikipedia"},"HPACG Detection":{description:"This task detects Helicobacter pylori-associated chronic gastritis, a major risk factor for gastric cancer development. H. pylori infection is the most common cause of chronic gastritis worldwide.",referenceUrl:"https://en.wikipedia.org/wiki/Helicobacter_pylori",referenceTitle:"Helicobacter pylori - Wikipedia"},"ACGxHP Detection":{description:"This task identifies autoimmune chronic gastritis with Helicobacter pylori co-infection, characterized by specific inflammatory patterns and associated with increased cancer risk.",referenceUrl:"https://en.wikipedia.org/wiki/Helicobacter_pylori/",referenceTitle:"Autoimmune Gastritis - Wikipedia"},"Polyp Detection":{description:"This task detects gastric polyps in biopsy specimens, which may represent precancerous lesions requiring monitoring or intervention based on histological type and size.",referenceUrl:"https://en.wikipedia.org/wiki/Gastric_polyp",referenceTitle:"Gastric Polyps - Wikipedia"},"Ulcer Detection":{description:"This task identifies gastric ulcers and associated inflammatory changes that may mask or predispose to malignancy, requiring careful histological evaluation.",referenceUrl:"https://en.wikipedia.org/wiki/Peptic_ulcer_disease",referenceTitle:"Peptic Ulcer Disease - Wikipedia"},"Normal vs. Abnormal Classification":{description:"This task distinguishes normal gastric tissue from pathological changes including inflammation, metaplasia, dysplasia, and malignancy in biopsy specimens.",referenceUrl:"https://www.mayoclinic.org/diseases-conditions/stomach-cancer/symptoms-causes/syc-20352438/",referenceTitle:"Stomach Cancer - Mayo Clinic"},detection:"This task performs automated detection of specific pathological features or abnormalities in tissue samples using computational pathology methods.",segmentation:"This task performs pixel-level segmentation of pathological regions, cells, or structures in whole slide images for quantitative analysis.",classification:"This task classifies tissue samples into diagnostic categories based on morphological features and cellular patterns.",regression:"This task predicts continuous values such as biomarker expression levels, survival time, or risk scores from histological images."},a=s[r.name],i=s[r.taskType],n="This task evaluates model performance on specific pathological criteria.";a?"string"==typeof a?n=a:(n=a.description,e=a.referenceUrl,t=a.referenceTitle):i&&("string"==typeof i?n=i:(n=i.description,e=i.referenceUrl,t=i.referenceTitle));let o="It focuses on ".concat(r.organ.toLowerCase()," tissue samples from ").concat(r.cohort," cohort."),l="Performance is evaluated using ".concat(r.evaluationMetrics.join(", "),".");return{description:"".concat(n," ").concat(o," ").concat(l),referenceUrl:e,referenceTitle:t}})();return(0,a.jsx)("div",{className:"w-full bg-white rounded-lg border border-gray-200 shadow-sm",children:(0,a.jsxs)("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-5",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4",children:[(0,a.jsx)("p",{className:"text-sm sm:text-base text-gray-700 leading-relaxed flex-1",children:i.description}),i.referenceUrl&&i.referenceTitle&&(0,a.jsx)("div",{className:"flex-shrink-0 sm:w-72",children:(0,a.jsxs)(k.$,{variant:"outline",size:"sm",className:"text-xs h-8 w-full hover:bg-blue-50 hover:border-blue-300 transition-colors px-3 truncate",onClick:()=>window.open(i.referenceUrl,"_blank"),title:i.referenceTitle,children:[(0,a.jsx)(en.A,{className:"w-3 h-3 mr-1.5 flex-shrink-0"}),(0,a.jsx)("span",{className:"truncate",children:i.referenceTitle})]})})]}),(0,a.jsxs)("div",{className:"border-t border-gray-100 pt-4",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-gray-900 mb-3 sm:mb-4",children:"Dataset Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Cohort"}),(0,a.jsx)("p",{className:"text-sm sm:text-base font-medium text-gray-900",children:r.cohort})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Organ"}),(0,a.jsx)("p",{className:"text-sm sm:text-base font-medium text-gray-900",children:r.organ})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Task Type"}),(0,a.jsx)("p",{className:"text-sm sm:text-base font-medium text-gray-900 capitalize",children:r.taskType.replace("_"," ")})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Metrics"}),(0,a.jsx)("p",{className:"text-sm sm:text-base font-medium text-gray-900",children:r.evaluationMetrics.join(", ")})]})]})]})]})})}function el(e){let{onSelectTask:t,selectedTaskId:s,useAllTasks:i=!1}=e,{getFilteredTasks:n,allTasks:o}=(0,m.w)(),[l,c]=(0,r.useState)("name"),[d,p]=(0,r.useState)("asc"),x=[...i?o:n()].sort((e,t)=>{var s,a,r,i,n,o,c,m;let h,p;switch(l){case"name":h=null===(s=e.name)||void 0===s?void 0:s.toLowerCase(),p=null===(a=t.name)||void 0===a?void 0:a.toLowerCase();break;case"organ":h=null===(r=e.organ)||void 0===r?void 0:r.toLowerCase(),p=null===(i=t.organ)||void 0===i?void 0:i.toLowerCase();break;case"taskType":h=null===(n=e.taskType)||void 0===n?void 0:n.toLowerCase(),p=null===(o=t.taskType)||void 0===o?void 0:o.toLowerCase();break;case"cohort":h=null===(c=e.cohort)||void 0===c?void 0:c.toLowerCase(),p=null===(m=t.cohort)||void 0===m?void 0:m.toLowerCase();break;default:return 0}if(h===p)return 0;if(null==h)return 1;if(null==p)return -1;let x=h<p?-1:1;return"asc"===d?x:-x}),u=e=>{l===e?p("asc"===d?"desc":"asc"):(c(e),p("asc"))},g=e=>{let{field:t}=e;return l!==t?null:"asc"===d?(0,a.jsx)(X.A,{className:"inline w-4 h-4"}):(0,a.jsx)(ee.A,{className:"inline w-4 h-4"})};return(0,a.jsx)(h.Zp,{className:"w-full shadow-lg border-0 bg-white",children:(0,a.jsxs)(h.Wu,{className:"p-0",children:[(0,a.jsx)("div",{className:"block md:hidden",children:(0,a.jsx)("div",{className:"space-y-3 p-4",children:x.map(e=>{let r=e.id===s,i=_(e.organ);return(0,a.jsxs)("div",{className:"space-y-0",children:[(0,a.jsx)(h.Zp,{className:"\n                      ".concat(r?"ring-2 ring-blue-500 bg-gradient-to-r from-blue-50/50 to-indigo-50/30 shadow-lg border-blue-200":"bg-white shadow-sm hover:shadow-md border-gray-200 hover:border-blue-300","\n                      transition-all duration-300 border-l-4 ").concat(r?"border-l-blue-500":"border-l-gray-300","\n                    "),children:(0,a.jsx)(h.Wu,{className:"p-5",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start gap-3",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h3",{className:"font-bold text-gray-900 text-base leading-tight mb-2 line-clamp-2",children:e.name}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)(q,{variant:"outline",className:"capitalize text-xs font-medium bg-gray-50 border-gray-300",children:[(0,a.jsx)(et.A,{className:"w-3 h-3 mr-1"}),e.taskType.replace("_"," ")]})})]}),(0,a.jsxs)(k.$,{variant:r?"default":"outline",size:"sm",className:"text-xs px-3 py-1.5 h-auto font-medium shrink-0 shadow-sm",onClick:s=>{s.stopPropagation(),r?t(void 0):t(e.id)},children:[r?(0,a.jsx)(es.A,{className:"w-3 h-3 mr-1"}):(0,a.jsx)(ea.A,{className:"w-3 h-3 mr-1"}),r?"Hide":"View"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-gray-500 font-medium",children:[(0,a.jsx)(er.A,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:"Organ"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:i}}),(0,a.jsx)("span",{className:"font-semibold text-gray-900 text-sm",children:e.organ})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-gray-500 font-medium",children:[(0,a.jsx)(ei.A,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:"Cohort"})]}),(0,a.jsx)("div",{className:"font-semibold text-gray-900 text-sm",children:e.cohort})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 font-medium",children:"Evaluation Metrics"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1.5",children:e.evaluationMetrics.map(e=>(0,a.jsx)(q,{variant:"secondary",className:"text-xs font-medium bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100",children:e.replace("_"," ")},e))})]})]})})}),(0,a.jsx)("div",{className:"overflow-hidden transition-all duration-300 ease-in-out ".concat(r?"max-h-[1000px] opacity-100":"max-h-0 opacity-0"),children:r&&(0,a.jsx)("div",{className:"pt-2",children:(0,a.jsx)(eo,{taskId:e.id})})})]},e.id)})})}),(0,a.jsx)("div",{className:"hidden md:block overflow-x-auto mobile-table-scroll",children:(0,a.jsxs)(O,{className:"w-full table-fixed",children:[(0,a.jsx)(G,{children:(0,a.jsxs)(V,{className:"bg-gradient-to-r from-gray-50 to-gray-100/50 border-b-2 border-gray-200",children:[(0,a.jsx)($,{onClick:()=>u("name"),className:"cursor-pointer hover:bg-gray-100/70 transition-colors duration-200 w-[28%] font-bold text-gray-700 text-sm py-3 px-2",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(et.A,{className:"w-4 h-4"}),"Task Name ",(0,a.jsx)(g,{field:"name"})]})}),(0,a.jsx)($,{onClick:()=>u("organ"),className:"cursor-pointer hover:bg-gray-100/70 transition-colors duration-200 w-[12%] font-bold text-gray-700 text-sm py-3 px-2",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(er.A,{className:"w-4 h-4"}),"Organ ",(0,a.jsx)(g,{field:"organ"})]})}),(0,a.jsx)($,{onClick:()=>u("taskType"),className:"cursor-pointer hover:bg-gray-100/70 transition-colors duration-200 w-[18%] font-bold text-gray-700 text-sm py-3 px-2",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(ei.A,{className:"w-4 h-4"}),"Type ",(0,a.jsx)(g,{field:"taskType"})]})}),(0,a.jsxs)($,{onClick:()=>u("cohort"),className:"cursor-pointer hover:bg-gray-100/70 transition-colors duration-200 w-[12%] font-bold text-gray-700 text-sm py-3 px-2",children:["Cohort ",(0,a.jsx)(g,{field:"cohort"})]}),(0,a.jsx)($,{className:"font-bold text-gray-700 text-sm py-3 px-2 w-[20%]",children:"Metrics"}),(0,a.jsx)($,{className:"text-center font-bold text-gray-700 text-sm py-3 px-2 w-[10%]",children:"Actions"})]})}),(0,a.jsx)(Z,{children:x.map((e,i)=>{let n=e.id===s,o=_(e.organ);return(0,a.jsxs)(r.Fragment,{children:[(0,a.jsxs)(V,{className:"\n                      ".concat(n?"bg-blue-50/50 border-l-4 border-l-blue-500":"","\n                      ").concat(n||i%2!=0?"bg-white":"bg-gray-50/30","\n                      hover:bg-blue-50/30 transition-all duration-200 border-b border-gray-200/60\n                    "),children:[(0,a.jsx)(K,{className:"font-semibold text-gray-900 py-3 px-2",children:(0,a.jsx)("div",{className:"line-clamp-2 leading-tight text-sm",children:e.name})}),(0,a.jsx)(K,{className:"py-3 px-2",children:(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:o}}),(0,a.jsx)("span",{className:"font-medium text-gray-700 text-sm truncate",children:e.organ})]})}),(0,a.jsx)(K,{className:"py-3 px-2",children:(0,a.jsx)(q,{variant:"outline",className:"capitalize font-medium bg-gray-50 border-gray-300 text-gray-700 hover:bg-gray-100 text-xs",children:e.taskType.replace("_"," ")})}),(0,a.jsx)(K,{className:"font-medium text-gray-700 py-3 px-2 text-sm truncate",children:e.cohort}),(0,a.jsx)(K,{className:"py-3 px-2",children:(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:e.evaluationMetrics.map(e=>(0,a.jsx)(q,{variant:"secondary",className:"text-xs font-medium bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100",children:e.replace("_"," ")},e))})}),(0,a.jsx)(K,{className:"text-center py-3 px-2",children:(0,a.jsxs)(k.$,{variant:n?"default":"outline",size:"sm",className:"font-medium shadow-sm hover:shadow-md transition-all duration-200 text-xs px-2 py-1",onClick:()=>{n?t(void 0):t(e.id)},children:[n?(0,a.jsx)(es.A,{className:"w-3 h-3 mr-1"}):(0,a.jsx)(ea.A,{className:"w-3 h-3 mr-1"}),n?"Hide":"View"]})})]}),n&&(0,a.jsx)(V,{className:"bg-gradient-to-r from-blue-50/30 to-indigo-50/20",children:(0,a.jsx)(K,{colSpan:6,className:"p-0",children:(0,a.jsx)("div",{className:"overflow-hidden transition-all duration-300 ease-in-out",children:(0,a.jsx)("div",{className:"p-6 bg-gradient-to-r from-blue-50/40 to-indigo-50/30 border-l-4 border-l-blue-500",children:(0,a.jsx)(eo,{taskId:e.id})})})})},"".concat(e.id,"-description"))]},e.id)})})]})})]})})}var ec=s(8599),ed=s(8346);function em(){let{getFilteredModels:e,getFilteredPerformances:t,getFilteredTasks:s}=(0,m.w)(),i=e(),n=t(),o=s(),[l,c]=(0,r.useState)(null),[d,p]=(0,r.useState)(null),x=(e,t)=>e?"Classification"===t?e.metrics.AUC:"OS Prediction"===t||"DFS Prediction"===t||"DSS Prediction"===t?e.metrics["C-Index"]:"Report Generation"===t?e.metrics.BLEU:null:null,u=e=>e&&0!==e.length?e.reduce((e,t)=>e+t,0)/e.length:null,g=e=>i.map(t=>{let s=u(x(n.find(s=>s.modelID===t.name&&s.taskId===e.id),e.taskType));return{model:t,average:s}}).filter(e=>null!==e.average).sort((e,t)=>t.average-e.average).slice(0,5).map(e=>e.model),f=e=>{l===e?(p("asc"===d?"desc":"desc"===d?null:"asc"),"desc"===d&&c(null)):(c(e),p("asc"))},b=(e,t)=>null===e?"none":1===t?"gold":2===t?"silver":3===t?"bronze":"standard",v=e=>{let{field:t}=e;return l!==t?(0,a.jsx)(ed.A,{className:"ml-1 h-3 w-3 text-muted-foreground"}):"asc"===d?(0,a.jsx)(X.A,{className:"ml-1 h-3 w-3"}):(0,a.jsx)(ee.A,{className:"ml-1 h-3 w-3"})},y=[...o].sort((e,t)=>{if(!l||!d)return 0;let s="",a="";return("taskName"===l?(s=e.name,a=t.name):"cohort"===l&&(s=e.cohort,a=t.cohort),"string"==typeof s&&"string"==typeof a)?"asc"===d?s.localeCompare(a):a.localeCompare(s):"asc"===d?Number(s)-Number(a):Number(a)-Number(s)});return(0,a.jsxs)(h.Zp,{className:"shadow-lg border-0 bg-gradient-to-br from-slate-50 to-white",children:[(0,a.jsxs)(h.aR,{className:"pb-3 sm:pb-4 border-b border-slate-200/60",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(h.ZB,{className:"text-xl sm:text-2xl font-bold text-slate-800 tracking-tight",children:"Performance Leaderboard"}),(0,a.jsx)("p",{className:"text-sm text-slate-600 font-medium",children:"Comparative Analysis of Model Performance Across Tasks"})]}),(0,a.jsxs)("div",{className:"flex flex-row gap-3 sm:gap-3 text-xs sm:text-sm w-full sm:w-auto",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-blue-50 rounded-lg border border-blue-200 flex-1 sm:flex-none justify-center sm:justify-start",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,a.jsx)("span",{className:"font-semibold text-blue-700",children:i.length}),(0,a.jsx)("span",{className:"text-blue-600",children:"Models"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-emerald-50 rounded-lg border border-emerald-200 flex-1 sm:flex-none justify-center sm:justify-start",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),(0,a.jsx)("span",{className:"font-semibold text-emerald-700",children:y.length}),(0,a.jsx)("span",{className:"text-emerald-600",children:"Tasks"})]})]})]}),(0,a.jsxs)("div",{className:"text-xs sm:text-sm text-slate-500 mt-3 hidden sm:flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-1 h-1 bg-slate-400 rounded-full"}),(0,a.jsx)("span",{children:"Click column headers to sort"}),(0,a.jsx)("div",{className:"w-1 h-1 bg-slate-400 rounded-full"}),(0,a.jsx)("span",{children:"Displaying top 5 performing models per task"})]})]}),(0,a.jsxs)(h.Wu,{className:"p-0 pt-2 sm:pt-0",children:[(0,a.jsx)("div",{className:"block sm:hidden",children:(0,a.jsx)("div",{className:"space-y-4 px-4 pt-2 pb-4",children:y.map(e=>(0,a.jsx)(h.Zp,{className:"border-0 shadow-md bg-gradient-to-br from-white to-slate-50",children:(0,a.jsxs)(h.Wu,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-bold text-slate-800 text-sm leading-tight mb-2",children:e.name}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,a.jsx)("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-700 rounded-md font-medium capitalize",children:e.taskType.replace("_"," ")}),(0,a.jsx)("div",{className:"w-1 h-1 bg-slate-400 rounded-full"}),(0,a.jsx)("span",{className:"font-semibold text-blue-600",children:e.organ})]})]}),(0,a.jsx)(q,{variant:"outline",className:"text-xs px-2 py-1 bg-emerald-50 text-emerald-700 border-emerald-200 font-semibold ml-3",children:e.cohort})]}),(0,a.jsx)("div",{className:"space-y-2",children:g(e).slice(0,3).map((t,s)=>{let r=u(x(n.find(s=>s.modelID===t.name&&s.taskId===e.id),e.taskType)),i=(e=>{switch(e){case 1:return{icon:"\uD83E\uDD47",text:"#1"};case 2:return{icon:"\uD83E\uDD48",text:"#2"};case 3:return{icon:"\uD83E\uDD49",text:"#3"};default:return{icon:"",text:"#".concat(e)}}})(s+1);return(0,a.jsxs)("div",{className:"flex justify-between items-center py-2 px-3 bg-white rounded-lg border border-slate-200/60 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5 min-w-[45px]",children:[i.icon&&(0,a.jsx)("span",{className:"text-base",children:i.icon}),(0,a.jsx)("span",{className:"text-xs font-bold text-slate-600",children:i.text})]}),(0,a.jsx)("span",{className:"text-slate-800 text-sm font-bold",children:t.name})]}),(0,a.jsx)("span",{className:"text-sm font-mono font-bold text-slate-700 bg-slate-100 px-2 py-1 rounded",children:"number"==typeof r?r.toFixed(3):"N/A"})]},t.name)})})]})},e.id))})}),(0,a.jsx)("div",{className:"hidden sm:block overflow-x-auto",children:(0,a.jsxs)(O,{className:"min-w-[1000px]",children:[(0,a.jsx)(G,{children:(0,a.jsxs)(V,{className:"bg-gradient-to-r from-slate-100 to-slate-50 border-b-2 border-slate-200",children:[(0,a.jsx)($,{onClick:()=>f("taskName"),className:"cursor-pointer hover:bg-slate-200/50 font-bold text-slate-700 w-[220px] px-3 py-4 transition-colors",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-1 h-4 bg-slate-600 rounded-full"}),(0,a.jsx)("span",{className:"text-base font-bold",children:"Task Name"}),(0,a.jsx)(v,{field:"taskName"})]})}),(0,a.jsx)($,{onClick:()=>f("cohort"),className:"cursor-pointer hover:bg-slate-200/50 font-bold text-slate-700 w-[90px] px-3 py-4 transition-colors",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-base font-bold",children:"Cohort"}),(0,a.jsx)(v,{field:"cohort"})]})}),[1,2,3,4,5].map(e=>{let t=(e=>{switch(e){case 1:return{icon:"\uD83E\uDD47",text:"#1"};case 2:return{icon:"\uD83E\uDD48",text:"#2"};case 3:return{icon:"\uD83E\uDD49",text:"#3"};case 4:return{icon:"",text:"#4"};case 5:return{icon:"",text:"#5"};default:return{icon:"",text:"#".concat(e)}}})(e);return(0,a.jsx)($,{className:"font-bold text-slate-700 text-center w-[130px] px-2 py-4 bg-gradient-to-b from-slate-50 to-slate-100",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[t.icon&&(0,a.jsx)("div",{className:"text-2xl",children:t.icon}),(0,a.jsx)("div",{className:"text-sm font-bold text-slate-600",children:t.text})]})},e)})]})}),(0,a.jsx)(Z,{children:y.map((e,t)=>{let s=g(e);return(0,a.jsxs)(V,{className:"\n                      ".concat(t%2==0?"bg-white":"bg-slate-50/30","\n                      hover:bg-blue-50/50 transition-all duration-200 border-b border-slate-200/60\n                    "),children:[(0,a.jsx)(K,{className:"font-medium px-3 py-3",children:(0,a.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,a.jsx)("span",{className:"font-bold text-slate-800 text-base leading-tight",children:e.name}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-700 rounded-md font-medium capitalize",children:e.taskType.replace("_"," ")}),(0,a.jsx)("div",{className:"w-1 h-1 bg-slate-400 rounded-full"}),(0,a.jsx)("span",{className:"font-semibold text-blue-600",children:e.organ})]})]})}),(0,a.jsx)(K,{className:"font-medium px-3 py-3",children:(0,a.jsx)(q,{variant:"outline",className:"text-sm px-2 py-1 bg-emerald-50 text-emerald-700 border-emerald-200 font-semibold",children:e.cohort})}),[1,2,3,4,5].map(t=>{let r=s[t-1];if(!r)return(0,a.jsx)(K,{className:"text-center px-2 py-3",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2 py-2",children:[(0,a.jsx)("div",{className:"text-sm text-slate-400 font-medium",children:"—"}),(0,a.jsx)("div",{className:"text-sm text-slate-300 bg-slate-50 px-2 py-1 rounded border",children:"No Data"})]})},t);let i=u(x(n.find(t=>t.modelID===r.name&&t.taskId===e.id),e.taskType)),o=b(i,t);return(0,a.jsx)(K,{className:"text-center px-2 py-3",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,a.jsx)("div",{className:"text-sm font-bold text-slate-700 truncate max-w-[120px]",children:r.name}),(0,a.jsx)("div",{className:"\n                              text-base font-mono font-bold px-3 py-2 rounded-lg min-w-[80px] border-2 transition-all duration-200\n                              ".concat("gold"===o?"text-amber-800 bg-gradient-to-br from-amber-50 to-yellow-100 border-amber-300 shadow-sm":"","\n                              ").concat("silver"===o?"text-slate-700 bg-gradient-to-br from-slate-50 to-gray-100 border-slate-300 shadow-sm":"","\n                              ").concat("bronze"===o?"text-orange-800 bg-gradient-to-br from-orange-50 to-amber-100 border-orange-300 shadow-sm":"","\n                              ").concat("standard"===o?"text-blue-700 bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200":"","\n                              ").concat("none"===o?"text-slate-500 bg-slate-50 border-slate-200":"","\n                            "),children:"number"==typeof i?i.toFixed(3):"N/A"})]})},t)})]},e.id)})})]})})]})]})}var eh=s(4126),ep=s(8815);let ex=(0,r.memo)(function(e){let{taskName:t,organ:s,cohort:i,modelStats:n,selectedMetric:o}=e,l=(0,r.useMemo)(()=>{if(!n||0===n.length)return{animation:!1,title:{text:"No data available for ".concat(i),left:"center",textStyle:{fontSize:14,color:"#666"}},xAxis:{type:"category",data:[]},yAxis:{type:"value"},series:[]};let e=n.map(e=>(null==e?void 0:e.modelName)||""),t=n.map(e=>(null==e?void 0:e.mean)||0),s=n.map(e=>(null==e?void 0:e.std)||0),a=t.concat(n.flatMap(e=>(null==e?void 0:e.values)||[])),r=Math.min(...a),l=Math.max(...a),c=l-r,d=Math.max(0,r-.1*c),m=l+.1*c,h=[];return n.forEach((e,t)=>{e&&e.values&&e.values.forEach(e=>{h.push([t,e])})}),{animation:!0,animationDuration:200,animationEasing:"cubicOut",animationDelay:function(e){return 8*e},animationDurationUpdate:100,animationEasingUpdate:"cubicOut",backgroundColor:"#fafafa",tooltip:{trigger:"axis",axisPointer:{type:"shadow"},backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#e5e7eb",borderWidth:1,textStyle:{color:"#374151"},formatter:function(e){if(Array.isArray(e)&&e.length>0){let t=n[e[0].dataIndex];if(t)return'\n                <div style="font-weight: bold; margin-bottom: 8px;">'.concat(t.modelName,'</div>\n                <div>Mean: <span style="font-weight: bold;">').concat(t.mean.toFixed(3),"</span></div>\n                <div>Std: ").concat(t.std.toFixed(3),"</div>\n                <div>Range: ").concat(t.min.toFixed(3)," - ").concat(t.max.toFixed(3),"</div>\n                <div>Folds: ").concat(t.values.length,"</div>\n              ")}return""}},grid:{left:"12%",right:"5%",bottom:"7%",top:"5%",containLabel:!0},xAxis:{type:"category",data:e,axisLabel:{rotate:45,fontSize:11,color:"#374151",interval:0},axisLine:{lineStyle:{color:"#d1d5db"}},axisTick:{lineStyle:{color:"#d1d5db"}}},yAxis:{type:"value",name:o,nameLocation:"middle",nameGap:60,nameTextStyle:{fontSize:14,color:"#374151",fontWeight:"bold"},min:d,max:m,axisLabel:{formatter:function(e){return e.toFixed(3)},fontSize:11,color:"#374151",showMinLabel:!0,showMaxLabel:!0,margin:10},splitNumber:(()=>{let e=m-d;return e<.05?3:e<.1?4:e<.2?5:6})(),...(()=>{let e=m-d;return e<.05?{interval:(m-d)/2}:e<.1?{interval:(m-d)/3}:{}})(),axisLine:{lineStyle:{color:"#d1d5db"}},axisTick:{lineStyle:{color:"#d1d5db"}},splitLine:{lineStyle:{color:"#e5e7eb",type:"dashed"}}},series:[{name:"Mean Performance",type:"bar",data:t.map((e,t)=>{let s=["#67001F","#981328","#B72C34","#C5413F","#CF5349","#D86654","#D96856","#EC9578","#F6B89C","#F7BB9F","#F7BCA0","#FAD3BE","#F8EAE3","#F6EDE8","#E5EEF2","#E4EDF2","#96C6DF","#8DC1DC","#053061"],a=t%s.length,r=s[a];return{value:e,itemStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:r},{offset:1,color:r}]},borderRadius:[2,2,0,0],shadowColor:"rgba(0, 0, 0, 0.1)",shadowBlur:4,shadowOffsetY:2}}}),barWidth:"65%",z:1,emphasis:{itemStyle:{shadowColor:"rgba(0, 0, 0, 0.3)",shadowBlur:8,shadowOffsetY:4}}},{name:"Error Bars",type:"custom",renderItem:function(e,t){let a=t.value(0),r=t.value(1),i=s[e.dataIndex],n=t.coord([a,r]),o=t.size([1,i]);return{type:"group",children:[{type:"line",shape:{x1:n[0],y1:n[1]-o[1],x2:n[0],y2:n[1]+o[1]},style:{stroke:"#1f2937",lineWidth:2}},{type:"line",shape:{x1:n[0]-5,y1:n[1]+o[1],x2:n[0]+5,y2:n[1]+o[1]},style:{stroke:"#1f2937",lineWidth:2}},{type:"line",shape:{x1:n[0]-5,y1:n[1]-o[1],x2:n[0]+5,y2:n[1]-o[1]},style:{stroke:"#1f2937",lineWidth:2}}]}},data:t.map((e,t)=>[t,e]),z:3},{name:"Individual Folds",type:"scatter",data:h,symbolSize:5,itemStyle:{color:"#9ca3af",opacity:.7,borderColor:"#6b7280",borderWidth:.5},z:2,emphasis:{itemStyle:{color:"#6b7280",opacity:.9}}}]}},[n,o,i]);return(0,a.jsxs)(h.Zp,{className:"w-full shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[(0,a.jsxs)(h.aR,{className:"pb-2 pt-3 sm:pt-4",children:[(0,a.jsx)(h.ZB,{className:"text-base sm:text-lg text-gray-900 leading-tight",children:t}),(0,a.jsxs)("p",{className:"text-xs sm:text-sm text-gray-600",children:[s," • ",n.length," models • ",o," • ",i]})]}),(0,a.jsx)(h.Wu,{className:"pb-2 pt-2 px-2 sm:px-6",children:(0,a.jsx)("div",{className:"h-[250px] sm:h-[350px]",children:(0,a.jsx)(R.A,{option:l,style:{height:"100%",width:"100%"},opts:{renderer:"canvas",devicePixelRatio:window.innerWidth<768?1:2},notMerge:!0,lazyUpdate:!0})})})]})});function eu(e){let{taskId:t,taskName:s,organ:i}=e,n=(0,r.useMemo)(()=>{var e;let s=eh.C.filter(e=>e.taskId===t);if(0===s.length)return[];let a=Object.keys((null===(e=s[0])||void 0===e?void 0:e.metrics)||{})[0];if(!a)return[];let r=ep.v.find(e=>e.id===t),i=(null==r?void 0:r.cohort)||"unknown",n=new Map;s.forEach(e=>{n.has(i)||n.set(i,[]),n.get(i).push(e)});let o=[];for(let[e,s]of n.entries()){let r=s.map(s=>{var r,i;let n=null===(i=P.Y.modelStats[s.modelID])||void 0===i?void 0:null===(r=i[t])||void 0===r?void 0:r[a];if(n)return{modelName:s.modelID,mean:n.mean,std:n.std,values:n.values,min:n.min,max:n.max,cohort:e};let o=s.metrics[a];if(!o||0===o.length)return null;let l=o.reduce((e,t)=>e+t,0)/o.length,c=Math.sqrt(o.reduce((e,t)=>{let s=t-l;return e+s*s},0)/o.length),d=Math.min(...o),m=Math.max(...o);return{modelName:s.modelID,mean:l,std:c,values:o,min:d,max:m,cohort:e}}).filter(Boolean);r.sort((e,t)=>((null==t?void 0:t.mean)||0)-((null==e?void 0:e.mean)||0)),r.length>0&&o.push({cohort:e,modelStats:r,selectedMetric:a})}return o},[t]);return 0===n.length?(0,a.jsxs)(h.Zp,{className:"w-full shadow-sm border border-gray-200",children:[(0,a.jsx)(h.aR,{children:(0,a.jsx)(h.ZB,{className:"text-lg text-gray-900",children:s})}),(0,a.jsx)(h.Wu,{className:"h-64 flex items-center justify-center",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No data available for this task"})})]}):(0,a.jsx)(a.Fragment,{children:n.map(e=>(0,a.jsx)(ex,{taskName:s,organ:i,cohort:e.cohort,modelStats:e.modelStats,selectedMetric:e.selectedMetric},"".concat(t,"-").concat(e.cohort)))})}function eg(e){let{children:t,height:s=400,rootMargin:i="100px",threshold:n=.1,placeholder:o}=e,[l,c]=(0,r.useState)(!1),[d,m]=(0,r.useState)(!1),h=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=h.current;if(!e)return;if(!window.IntersectionObserver){c(!0),m(!0);return}let t=new IntersectionObserver(e=>{let[s]=e;s.isIntersecting&&!d&&(setTimeout(()=>{c(!0),m(!0)},50),t.unobserve(s.target))},{rootMargin:i,threshold:n});return t.observe(e),()=>{t.unobserve(e)}},[i,n,d]);let p=(0,a.jsx)("div",{className:"w-full bg-gray-50 border border-gray-200 rounded-lg animate-pulse",style:{height:"".concat(s,"px")},children:(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded mb-4 w-3/4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2 w-1/2"}),(0,a.jsxs)("div",{className:"space-y-3 mt-8",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-full"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-5/6"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-4/6"})]})]})});return(0,a.jsx)("div",{ref:h,style:{minHeight:d?"auto":"".concat(s,"px")},children:l?t:o||p})}var ef=s(9967),eb=s(633);function ev(){let[e,t]=(0,r.useState)(""),[s,i]=(0,r.useState)([]),[n,o]=(0,r.useState)([]),[l,c]=(0,r.useState)([]),[d,m]=(0,r.useState)(!1),p=(0,r.useMemo)(()=>[...new Set(ep.v.map(e=>e.organ))].sort(),[]),x=(0,r.useMemo)(()=>[...new Set(ep.v.map(e=>e.taskType))].sort(),[]),g=(0,r.useMemo)(()=>[...new Set(ep.v.map(e=>e.cohort))].sort(),[]),f=(0,r.useMemo)(()=>ep.v.filter(t=>{let a=t.name.toLowerCase().includes(e.toLowerCase())||t.organ.toLowerCase().includes(e.toLowerCase())||t.taskType.toLowerCase().includes(e.toLowerCase()),r=0===s.length||s.includes(t.organ),i=0===n.length||n.includes(t.taskType),o=0===l.length||l.includes(t.cohort);return a&&r&&i&&o}),[e,s,n,l]),b=(0,r.useMemo)(()=>{let e=new Map;f.forEach(t=>{e.has(t.organ)||e.set(t.organ,[]),e.get(t.organ).push(t)});let t=Array.from(e.keys()).sort(),s=[];return t.forEach(t=>{let a=e.get(t).sort((e,t)=>e.name.localeCompare(t.name));s.push({organ:t,tasks:a})}),s},[f]),y=()=>{t(""),i([]),o([]),c([])},N=e=>{i(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},j=e=>{o(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},C=e=>{c(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},S=e||s.length>0||n.length>0||l.length>0;return(0,a.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Detailed Performance"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1 text-sm sm:text-base",children:"Comprehensive performance analysis across all tasks and metrics"})]}),(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsxs)("div",{className:"text-xs sm:text-sm text-gray-500",children:[(0,a.jsx)("span",{className:"font-medium",children:eb.J.length})," models •",(0,a.jsx)("span",{className:"font-medium ml-1",children:f.length})," tasks",S&&(0,a.jsxs)("span",{className:"ml-1 text-blue-600",children:["(filtered from ",ep.v.length,")"]})]})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex gap-2 sm:gap-4",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(M.KSO,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,a.jsx)(w,{placeholder:"Search tasks by name, organ, or type...",value:e,onChange:e=>t(e.target.value),className:"pl-10"})]}),(0,a.jsxs)("div",{className:"flex gap-2 flex-shrink-0",children:[(0,a.jsxs)(k.$,{variant:"outline",onClick:()=>m(!d),className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-4",children:[(0,a.jsx)(M.YsJ,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Filters"}),S&&(0,a.jsx)("span",{className:"bg-blue-500 text-white text-xs rounded-full px-1.5 py-0.5 ml-0.5 sm:ml-1 min-w-[18px] text-center",children:[s.length,n.length,l.length].filter(e=>e>0).length})]}),S&&(0,a.jsxs)(k.$,{variant:"ghost",onClick:y,className:"flex items-center gap-1 sm:gap-2 text-gray-600 hover:text-gray-900 px-2 sm:px-4",children:[(0,a.jsx)(M.QCr,{className:"w-3 h-3"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Clear"})]})]})]}),d&&(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,a.jsxs)(h.Zp,{children:[(0,a.jsx)(h.aR,{className:"pb-2 sm:pb-3",children:(0,a.jsx)(h.ZB,{className:"text-xs sm:text-sm font-medium",children:"Filter by Organ"})}),(0,a.jsx)(h.Wu,{className:"max-h-[120px] sm:max-h-[180px] overflow-y-auto",children:(0,a.jsx)("div",{className:"space-y-2 sm:space-y-3",children:p.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(u,{id:"organ-".concat(e),checked:s.includes(e),onCheckedChange:()=>N(e),className:"h-3 w-3 sm:h-4 sm:w-4"}),(0,a.jsx)(v,{htmlFor:"organ-".concat(e),className:"text-xs sm:text-sm font-normal leading-tight",children:e})]},e))})})]}),(0,a.jsxs)(h.Zp,{children:[(0,a.jsx)(h.aR,{className:"pb-2 sm:pb-3",children:(0,a.jsx)(h.ZB,{className:"text-xs sm:text-sm font-medium",children:"Filter by Task Type"})}),(0,a.jsx)(h.Wu,{className:"max-h-[120px] sm:max-h-[180px] overflow-y-auto",children:(0,a.jsx)("div",{className:"space-y-2 sm:space-y-3",children:x.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(u,{id:"tasktype-".concat(e),checked:n.includes(e),onCheckedChange:()=>j(e),className:"h-3 w-3 sm:h-4 sm:w-4"}),(0,a.jsx)(v,{htmlFor:"tasktype-".concat(e),className:"text-xs sm:text-sm font-normal leading-tight",children:e})]},e))})})]}),(0,a.jsxs)(h.Zp,{children:[(0,a.jsx)(h.aR,{className:"pb-2 sm:pb-3",children:(0,a.jsx)(h.ZB,{className:"text-xs sm:text-sm font-medium",children:"Filter by Cohort"})}),(0,a.jsx)(h.Wu,{className:"max-h-[120px] sm:max-h-[180px] overflow-y-auto",children:(0,a.jsx)("div",{className:"space-y-2 sm:space-y-3",children:g.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(u,{id:"cohort-".concat(e),checked:l.includes(e),onCheckedChange:()=>C(e),className:"h-3 w-3 sm:h-4 sm:w-4"}),(0,a.jsx)(v,{htmlFor:"cohort-".concat(e),className:"text-xs sm:text-sm font-normal leading-tight",children:e})]},e))})})]})]})]}),0===b.length?(0,a.jsx)(h.Zp,{className:"w-full shadow-sm border border-gray-200",children:(0,a.jsxs)(h.Wu,{className:"h-64 flex flex-col items-center justify-center text-center",children:[(0,a.jsx)(M.KSO,{className:"w-12 h-12 text-gray-300 mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tasks found"}),(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:S?"Try adjusting your search terms or filters to find tasks.":"No tasks are available to display."}),S&&(0,a.jsxs)(k.$,{variant:"outline",onClick:y,className:"flex items-center gap-2",children:[(0,a.jsx)(M.QCr,{className:"w-4 h-4"}),"Clear all filters"]})]})}):b.map(e=>{let{organ:t,tasks:s}=e;return(0,a.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,a.jsxs)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 border-b pb-2",children:[t,(0,a.jsxs)("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",s.length," task",1!==s.length?"s":"",")"]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 sm:gap-6",children:s.map(e=>(0,a.jsx)(eg,{height:450,rootMargin:"200px",threshold:.1,placeholder:(0,a.jsx)("div",{className:"w-full h-[450px] bg-gray-50 border border-gray-200 rounded-lg animate-pulse",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded mb-2 w-3/4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-6 w-1/2"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-full"}),(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-5/6"}),(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-4/6"}),(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-3/6"})]})]})}),children:(0,a.jsx)(eu,{taskId:e.id,taskName:e.name,organ:t})},e.id))})]},t)})]})}function ey(){let{getTaskById:e}=(0,m.w)(),t="/showcase/PathBench",s=e=>t?"".concat(t).concat(e):e,[i,n]=(0,r.useState)([]),[h,p]=(0,r.useState)(),[x,u]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=()=>{let e=window.innerWidth;u(e>=1200&&e<1600)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,a.jsxs)("div",{className:"container mx-auto py-3 sm:py-6 max-w-[1600px] w-full overflow-x-hidden",children:[(0,a.jsxs)("header",{className:"pb-4 sm:pb-6 mb-4 sm:mb-6 border-b border-gray-100",children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(T(),{href:"/",children:(0,a.jsxs)(k.$,{variant:"outline",size:"sm",className:"gap-2",children:[(0,a.jsx)(M.rQ8,{className:"h-4 w-4"}),"Back to Overview"]})})}),(0,a.jsxs)("div",{className:"flex flex-col sm:hidden gap-3",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"mb-2",children:(0,a.jsx)(C.default,{src:s("/images/pathbench.svg"),alt:"PathBench Logo",width:300,height:300,className:"h-16 object-contain mx-auto"})}),(0,a.jsx)("p",{className:"text-muted-foreground text-xs leading-tight",children:"A Multi-task, Multi-organ Benchmark for Real-world Clinical Performance Evaluation of Pathology Foundation Models"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 flex-wrap",children:[(0,a.jsxs)("a",{href:"https://github.com/birkhoffkiki/PrePATH",target:"_blank",rel:"noopener noreferrer",className:"group relative p-2 rounded-lg bg-white-50 transition-all duration-300 hover:scale-105 hover:shadow-md touch-target",title:"Submit Your Model!",children:[(0,a.jsx)("div",{className:"absolute inset-0 rounded-lg bg-white/50 opacity-0 group-hover:opacity-100 transition-opacity"}),(0,a.jsx)(M.HVe,{className:"h-10 w-10 text-blue-500 contrast-125 brightness-95 hover:contrast-100 transition-filter"}),(0,a.jsx)("div",{className:"absolute inset-0 rounded-lg pointer-events-none mix-blend-overlay opacity-30 group-hover:opacity-50 transition-opacity bg-gradient-to-br from-white/30 to-transparent"})]}),(0,a.jsxs)("a",{href:"https://arxiv.org/abs/2505.20202",target:"_blank",rel:"noopener noreferrer",className:"group relative p-2 rounded-lg bg-white-50 transition-all duration-300 hover:scale-105 hover:shadow-md touch-target",title:"View arXiv Paper",children:[(0,a.jsx)("div",{className:"absolute inset-0 rounded-lg bg-white/50 opacity-0 group-hover:opacity-100 transition-opacity"}),(0,a.jsx)(ef.dgT,{className:"h-12 w-12 text-red-600 contrast-125 brightness-95 hover:contrast-100 transition-filter"}),(0,a.jsx)("div",{className:"absolute inset-0 rounded-lg pointer-events-none mix-blend-overlay opacity-30 group-hover:opacity-50 transition-opacity bg-gradient-to-br from-white/30 to-transparent"})]}),(0,a.jsxs)("a",{href:"https://github.com/birkhoffkiki/PathBench",target:"_blank",rel:"noopener noreferrer",className:"group relative p-2 rounded-lg bg-white-50 transition-all duration-300 hover:scale-105 hover:shadow-md touch-target",title:"View GitHub Repository",children:[(0,a.jsx)("div",{className:"absolute inset-0 rounded-lg bg-white/50 opacity-0 group-hover:opacity-100 transition-opacity"}),(0,a.jsx)(M.hL4,{className:"h-12 w-12 text-gray-800 contrast-125 brightness-95 hover:contrast-100 transition-filter"}),(0,a.jsx)("div",{className:"absolute inset-0 rounded-lg pointer-events-none mix-blend-overlay opacity-30 group-hover:opacity-50 transition-opacity bg-gradient-to-br from-white/30 to-transparent"})]}),(0,a.jsxs)("a",{href:"https://smartlab.cse.ust.hk/",target:"_blank",rel:"noopener noreferrer",className:"group relative p-2 rounded-lg bg-white-50 transition-all duration-300 hover:scale-105 hover:shadow-md touch-target",title:"Visit SmartLab",children:[(0,a.jsx)("div",{className:"absolute inset-0 rounded-lg bg-white/50 opacity-0 group-hover:opacity-100 transition-opacity"}),(0,a.jsx)(C.default,{src:s("/images/smartlab.svg"),alt:"SmartLab Logo",width:250,height:250,className:"h-12 w-12 object-contain contrast-125 brightness-95 hover:contrast-100 transition-filter"}),(0,a.jsx)("div",{className:"absolute inset-0 rounded-lg pointer-events-none mix-blend-overlay opacity-30 group-hover:opacity-50 transition-opacity bg-gradient-to-br from-white/30 to-transparent"})]}),(0,a.jsxs)("a",{href:"https://hkust.edu.hk/",target:"_blank",rel:"noopener noreferrer",className:"group relative p-2 rounded-lg bg-white-50 transition-all duration-300 hover:scale-105 hover:shadow-md touch-target",title:"Visit HKUST",children:[(0,a.jsx)("div",{className:"absolute inset-0 rounded-lg bg-white/50 opacity-0 group-hover:opacity-100 transition-opacity"}),(0,a.jsx)(C.default,{src:s("/images/ust_logo.svg"),alt:"HKUST Logo",width:250,height:250,className:"h-12 object-contain contrast-125 brightness-95 hover:contrast-100 transition-filter"}),(0,a.jsx)("div",{className:"absolute inset-0 rounded-lg pointer-events-none mix-blend-overlay opacity-30 group-hover:opacity-50 transition-opacity bg-gradient-to-br from-white/30 to-transparent"})]})]})]}),(0,a.jsxs)("div",{className:"hidden sm:flex justify-between items-center gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"mb-2",children:(0,a.jsx)(C.default,{src:s("/images/pathbench.svg"),alt:"PathBench Logo",width:300,height:300,className:"h-20 object-contain"})}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm leading-tight",children:"A Multi-task, Multi-organ Benchmark for Real-world Clinical Performance Evaluation of Pathology Foundation Models"})]}),(0,a.jsxs)("div",{className:"flex items-center ".concat(x?"gap-1":"gap-2"," flex-wrap"),children:[(0,a.jsxs)("a",{href:"https://github.com/birkhoffkiki/PrePATH",target:"_blank",rel:"noopener noreferrer",className:"group relative ".concat(x?"p-1.5":"p-2.5"," rounded-lg bg-white-50 transition-all duration-300 hover:scale-105 hover:shadow-md touch-target"),title:"Submit Your Model!",children:[(0,a.jsx)("div",{className:"absolute inset-0 rounded-lg bg-white/50 opacity-0 group-hover:opacity-100 transition-opacity"}),(0,a.jsx)(M.HVe,{className:"".concat(x?"h-8 w-8":"h-11 w-11"," text-blue-500 contrast-125 brightness-95 hover:contrast-100 transition-filter")}),(0,a.jsx)("div",{className:"absolute inset-0 rounded-lg pointer-events-none mix-blend-overlay opacity-30 group-hover:opacity-50 transition-opacity bg-gradient-to-br from-white/30 to-transparent"})]}),(0,a.jsxs)("a",{href:"https://arxiv.org/abs/2505.20202",target:"_blank",rel:"noopener noreferrer",className:"group relative ".concat(x?"p-1.5":"p-2.5"," rounded-lg bg-white-50 transition-all duration-300 hover:scale-105 hover:shadow-md touch-target"),title:"View arXiv Paper",children:[(0,a.jsx)("div",{className:"absolute inset-0 rounded-lg bg-white/50 opacity-0 group-hover:opacity-100 transition-opacity"}),(0,a.jsx)(ef.dgT,{className:"".concat(x?"h-8 w-8":"h-11 w-11"," text-red-600 contrast-125 brightness-95 hover:contrast-100 transition-filter")}),(0,a.jsx)("div",{className:"absolute inset-0 rounded-lg pointer-events-none mix-blend-overlay opacity-30 group-hover:opacity-50 transition-opacity bg-gradient-to-br from-white/30 to-transparent"})]}),(0,a.jsxs)("a",{href:"https://github.com/birkhoffkiki/PathBench",target:"_blank",rel:"noopener noreferrer",className:"group relative ".concat(x?"p-1.5":"p-2.5"," rounded-lg bg-white-50 transition-all duration-300 hover:scale-105 hover:shadow-md touch-target"),title:"View GitHub Repository",children:[(0,a.jsx)("div",{className:"absolute inset-0 rounded-lg bg-white/50 opacity-0 group-hover:opacity-100 transition-opacity"}),(0,a.jsx)(M.hL4,{className:"".concat(x?"h-8 w-8":"h-11 w-11"," text-gray-800 contrast-125 brightness-95 hover:contrast-100 transition-filter")}),(0,a.jsx)("div",{className:"absolute inset-0 rounded-lg pointer-events-none mix-blend-overlay opacity-30 group-hover:opacity-50 transition-opacity bg-gradient-to-br from-white/30 to-transparent"})]}),(0,a.jsxs)("a",{href:"https://smartlab.cse.ust.hk/",target:"_blank",rel:"noopener noreferrer",className:"group relative ".concat(x?"p-1.5":"p-2.5"," rounded-lg bg-white-50 transition-all duration-300 hover:scale-105 hover:shadow-md touch-target"),title:"Visit SmartLab",children:[(0,a.jsx)("div",{className:"absolute inset-0 rounded-lg bg-white/50 opacity-0 group-hover:opacity-100 transition-opacity"}),(0,a.jsx)(C.default,{src:s("/images/smartlab.svg"),alt:"SmartLab Logo",width:250,height:250,className:"".concat(x?"h-8 w-8":"h-11 w-11"," object-contain contrast-125 brightness-95 hover:contrast-100 transition-filter")}),(0,a.jsx)("div",{className:"absolute inset-0 rounded-lg pointer-events-none mix-blend-overlay opacity-30 group-hover:opacity-50 transition-opacity bg-gradient-to-br from-white/30 to-transparent"})]}),(0,a.jsxs)("a",{href:"https://hkust.edu.hk/",target:"_blank",rel:"noopener noreferrer",className:"group relative ".concat(x?"p-1.5":"p-2.5"," rounded-lg bg-white-50 transition-all duration-300 hover:scale-105 hover:shadow-md touch-target"),title:"Visit HKUST",children:[(0,a.jsx)("div",{className:"absolute inset-0 rounded-lg bg-white/50 opacity-0 group-hover:opacity-100 transition-opacity"}),(0,a.jsx)(C.default,{src:s("/images/ust_logo.svg"),alt:"HKUST Logo",width:250,height:250,className:"".concat(x?"h-8":"h-11"," object-contain contrast-125 brightness-95 hover:contrast-100 transition-filter")}),(0,a.jsx)("div",{className:"absolute inset-0 rounded-lg pointer-events-none mix-blend-overlay opacity-30 group-hover:opacity-50 transition-opacity bg-gradient-to-br from-white/30 to-transparent"})]})]})]})]}),(0,a.jsxs)(o,{defaultValue:"overview",children:[(0,a.jsx)("div",{className:"w-full overflow-x-auto pb-2",children:(0,a.jsxs)(l,{className:"bg-gray-50 p-1 sm:p-1.5 rounded-xl border border-gray-100 w-auto space-x-0.5 sm:space-x-1 min-w-max flex",children:[(0,a.jsx)(c,{value:"overview",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm data-[state=active]:text-gray-900 px-2 sm:px-6 py-1.5 sm:py-2 rounded-lg transition-all hover:bg-gray-100/70 text-gray-600 whitespace-nowrap",children:(0,a.jsx)("span",{className:"text-xs sm:text-sm font-medium",children:"Overview"})}),(0,a.jsx)(c,{value:"leaderboard",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm data-[state=active]:text-gray-900 px-2 sm:px-6 py-1.5 sm:py-2 rounded-lg transition-all hover:bg-gray-100/70 text-gray-600 whitespace-nowrap",children:(0,a.jsx)("span",{className:"text-xs sm:text-sm font-medium",children:"Leaderboard"})}),(0,a.jsx)(c,{value:"performance",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm data-[state=active]:text-gray-900 px-2 sm:px-6 py-1.5 sm:py-2 rounded-lg transition-all hover:bg-gray-100/70 text-gray-600 whitespace-nowrap",children:(0,a.jsx)("span",{className:"text-xs sm:text-sm font-medium",children:"Performance"})}),(0,a.jsx)(c,{value:"models",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm data-[state=active]:text-gray-900 px-2 sm:px-6 py-1.5 sm:py-2 rounded-lg transition-all hover:bg-gray-100/70 text-gray-600 whitespace-nowrap",children:(0,a.jsx)("span",{className:"text-xs sm:text-sm font-medium",children:"Models"})})]})}),(0,a.jsxs)(d,{value:"overview",className:"space-y-4 sm:space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[(0,a.jsx)(L,{chartType:"taskType"}),(0,a.jsx)(L,{chartType:"organ"}),(0,a.jsx)(E,{selectedMetrics:i})]}),(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(B,{})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6 mb-4 sm:mb-6",children:[(0,a.jsx)(y,{}),(0,a.jsx)(N,{}),(0,a.jsx)(j,{}),(0,a.jsx)(Q,{value:i,onChange:n})]}),(0,a.jsx)("div",{className:"grid w-full",children:(0,a.jsx)(H,{selectedMetrics:i})}),(0,a.jsxs)("div",{className:"my-4 sm:my-6",children:[(0,a.jsx)("h2",{className:"text-xl sm:text-2xl font-bold mb-3 sm:mb-4",children:"All Tasks"}),(0,a.jsx)(el,{onSelectTask:t=>{if(p(t),!t)return;let s=e(t);s&&("DFS Prediction"===s.taskType||"OS Prediction"===s.taskType||"DSS Prediction"===s.taskType?n(["C-Index"]):"Classification"===s.taskType?n(["AUC"]):"Report Generation"===s.taskType&&n(["BLEU"]))},selectedTaskId:h})]})]}),(0,a.jsx)(d,{value:"leaderboard",children:(0,a.jsx)("div",{className:"my-4 sm:my-6",children:(0,a.jsx)(em,{})})}),(0,a.jsx)(d,{value:"performance",className:"space-y-4 sm:space-y-6",children:(0,a.jsx)(ev,{})}),(0,a.jsx)(d,{value:"models",children:(0,a.jsx)("div",{className:"my-4 sm:my-6",children:(0,a.jsx)(J,{})})})]}),(0,a.jsx)(ec.w,{})]})}},8699:(e,t,s)=>{"use strict";s.d(t,{EvaluationProvider:()=>c,w:()=>d});var a=s(5155),r=s(2115),i=s(633),n=s(8815),o=s(4126);let l=(0,r.createContext)(void 0);function c(e){let{children:t}=e,[s,c]=(0,r.useState)([]),[d,m]=(0,r.useState)([]),[h,p]=(0,r.useState)([]),x=(0,r.useCallback)(e=>{c(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},[]),u=(0,r.useCallback)(e=>{m(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},[]),g=(0,r.useCallback)(e=>{p(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},[]),f=(0,r.useMemo)(()=>{let e=new Set(n.v.map(e=>e.taskType));return["Classification","DFS Prediction","DSS Prediction","OS Prediction"].filter(t=>e.has(t))},[]),b=(0,r.useMemo)(()=>Array.from(new Set(n.v.map(e=>e.organ))).map(e=>({id:e.toLowerCase(),name:e,description:"".concat(e," related tasks")})),[]),v=(0,r.useCallback)(e=>n.v.find(t=>t.id===e),[]),y=(0,r.useCallback)(e=>i.J.find(t=>t.name===e),[]),N=(0,r.useCallback)(e=>b.find(t=>t.id===e),[b]),j=e=>e.length?[...e].sort().join(","):"",w=(e,t,s,a)=>{if(e.has(t)&&e.delete(t),e.set(t,s),e.size>a){let t=e.keys().next().value;e.delete(t)}},k=(0,r.useRef)(new Map),C=(0,r.useRef)(new Map),S=(0,r.useMemo)(()=>{if(0===s.length&&0===d.length)return n.v;let e="".concat(j(s),"||").concat(j(d)),t=k.current.get(e);if(t)return t;let a=new Set(s.map(e=>e.toLowerCase())),r=new Set(d),i=n.v.filter(e=>{let t=0===a.size||a.has(e.organ.toLowerCase()),s=0===r.size||r.has(e.taskType);return t&&s});return w(k.current,e,i,50),i},[s,d]),T=(0,r.useMemo)(()=>h.length>0?i.J.filter(e=>h.includes(e.name)):i.J,[h]),M=(0,r.useMemo)(()=>{if(0===s.length&&0===d.length&&0===h.length)return o.C;let e="".concat(j(s),"||").concat(j(d)),t=j(h),a="".concat(e,"||").concat(t),r=C.current.get(a);if(r)return r;let i=new Set(S.map(e=>e.id)),n=new Set(T.map(e=>e.name)),l=o.C.filter(e=>i.has(e.taskId)&&n.has(e.modelID));return w(C.current,a,l,50),l},[S,T,s,d,h]),R=(0,r.useCallback)(()=>S,[S]),L=(0,r.useCallback)(()=>T,[T]),P=(0,r.useCallback)(()=>M,[M]),I=(0,r.useCallback)(()=>Array.from(new Set(S.flatMap(e=>e.evaluationMetrics))),[S]),H=(0,r.useCallback)(()=>Array.from(new Set(n.v.flatMap(e=>e.evaluationMetrics))),[]),E=(0,r.useMemo)(()=>({allOrgans:b,allTasks:n.v,allModels:i.J,allPerformances:o.C,selectedOrganIds:s,selectedTaskTypes:d,selectedModelIds:h,toggleOrganSelection:x,toggleTaskTypeSelection:u,toggleModelSelection:g,allTaskTypes:f,getTaskById:v,getModelById:y,getOrganById:N,getFilteredTasks:R,getFilteredModels:L,getFilteredPerformances:P,getAvailableMetrics:I,getAllAvailableMetrics:H}),[b,s,d,h,x,u,g,f,v,y,N,R,L,P,I,H]);return(0,a.jsx)(l.Provider,{value:E,children:t})}function d(){let e=(0,r.useContext)(l);if(void 0===e)throw Error("useEvaluation must be used within an EvaluationProvider");return e}}},e=>{var t=t=>e(e.s=t);e.O(0,[362,711,339,390,383,453,441,587,358],()=>t(1033)),_N_E=e.O()}]);