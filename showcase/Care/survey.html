<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Surveys | CARE: Cytology AI and Research Education</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="/static/css/custom.css">
    <link rel="stylesheet" href="css/styles.css">
    <style>
        /* Academic Survey Card Styling */
        .survey-card {
            border: 1px solid #e8ecef;
            border-radius: 8px;
            transition: all 0.3s ease;
            background: white;
            margin-bottom: 1rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .survey-card:hover {
            border-color: #3498db;
            box-shadow: 0 4px 12px rgba(52, 152, 219, 0.15);
            transform: translateY(-2px);
        }

        .survey-title {
            font-family: 'Lora', serif;
            font-weight: 600;
            color: #1a3c5a;
            line-height: 1.3;
            margin-bottom: 0.5rem;
            font-size: 1.05rem;
        }

        .survey-meta {
            font-size: 0.85rem;
            color: #546e7a;
            margin-bottom: 0.25rem;
        }

        .survey-meta strong {
            color: #1a3c5a;
            font-weight: 600;
        }

        .publication-name {
            color: #3498db;
            font-weight: 500;
            font-style: italic;
        }

        .year-badge {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 0.25rem 0.6rem;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        .task-badge {
            background-color: #f8f9fa;
            color: #546e7a;
            border: 1px solid #e9ecef;
            padding: 0.25rem 0.6rem;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .cancer-type {
            color: #e74c3c;
            font-weight: 600;
            background-color: rgba(231, 76, 60, 0.1);
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-size: 0.85rem;
        }

        .survey-actions {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }

        .btn-academic {
            padding: 0.4rem 1rem;
            font-size: 0.85rem;
            font-weight: 500;
            border-radius: 6px;
            transition: all 0.2s ease;
            text-decoration: none;
            border: 1px solid transparent;
        }

        .btn-details {
            background-color: #3498db;
            color: white;
            border-color: #3498db;
        }

        .btn-details:hover {
            background-color: #2980b9;
            border-color: #2980b9;
            color: white;
            transform: translateY(-1px);
        }

        .btn-pdf {
            background-color: transparent;
            color: #546e7a;
            border-color: #e9ecef;
        }

        .btn-pdf:hover {
            background-color: #f8f9fa;
            color: #1a3c5a;
            border-color: #dee2e6;
        }

        /* Filter Section Styling */
        .filter-section {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            border: 1px solid #e9ecef;
        }

        .search-input {
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 0.6rem 1rem;
            font-size: 0.95rem;
            transition: border-color 0.3s ease;
        }

        .search-input:focus {
            border-color: #3498db;
            box-shadow: 0 0 0 0.2rem rgba(52, 152, 219, 0.25);
        }

        .filter-select {
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 0.6rem 1rem;
            font-size: 0.9rem;
            background-color: white;
            transition: border-color 0.3s ease;
        }

        .filter-select:focus {
            border-color: #3498db;
            box-shadow: 0 0 0 0.2rem rgba(52, 152, 219, 0.25);
        }

        /* Statistics Section */
        .stats-section {
            background: white;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            border: 1px solid #e9ecef;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .stat-item {
            text-align: center;
            padding: 1rem;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: #3498db;
            font-family: 'Lora', serif;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #546e7a;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            .survey-card {
                margin-bottom: 0.75rem;
            }

            .survey-title {
                font-size: 0.95rem;
            }

            .survey-meta {
                font-size: 0.8rem;
            }

            .survey-actions {
                flex-direction: column;
                gap: 0.3rem;
                align-items: stretch;
                margin-top: 0.5rem;
            }

            .btn-academic {
                text-align: center;
                padding: 0.4rem 0.8rem;
                font-size: 0.8rem;
            }

            .filter-section {
                padding: 1rem;
            }

            .stat-number {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm sticky-top">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <span style="color: #1a3c5a; font-weight: 700; font-family: 'Lora', serif;">CARE</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle active" href="#" id="resourcesDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Resources
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="resourcesDropdown">
                            <li><a class="dropdown-item active" href="survey.html">Surveys</a></li>
                            <li><a class="dropdown-item" href="paper.html">Papers</a></li>
                            <li><a class="dropdown-item" href="guideline.html">Guidelines</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="social.html">Community</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Overlay for mobile filter dropdowns -->
    <div class="filter-overlay" id="filter-overlay"></div>

    <div class="container mt-4">
        <!-- Header Section -->
        <header class="text-center mb-5">
            <h1 class="display-4" style="color: #1a3c5a; font-family: 'Lora', serif; font-weight: 700;">Cytology AI Surveys</h1>
            <p class="lead" style="color: #546e7a; font-size: 1.2rem; max-width: 800px; margin: 0 auto;">
                Comprehensive reviews and surveys in the field of AI-assisted cytology
            </p>
        </header>

        <!-- Statistics Section -->
        <div class="stats-section">
            <div class="row">
                <div class="col-md-3 col-6">
                    <div class="stat-item">
                        <div class="stat-number" id="totalSurveys">0</div>
                        <div class="stat-label">Total Surveys</div>
                    </div>
                </div>
                <div class="col-md-3 col-6">
                    <div class="stat-item">
                        <div class="stat-number" id="recentSurveys">0</div>
                        <div class="stat-label">Recent (2024-2025)</div>
                    </div>
                </div>
                <div class="col-md-3 col-6">
                    <div class="stat-item">
                        <div class="stat-number" id="cancerTypes">0</div>
                        <div class="stat-label">Cancer Types</div>
                    </div>
                </div>
                <div class="col-md-3 col-6">
                    <div class="stat-item">
                        <div class="stat-number" id="taskTypes">0</div>
                        <div class="stat-label">Task Categories</div>
                    </div>
                </div>
            </div>
        </div>

        <section class="mb-5">
            <h2 class="section-title" style="color: #1a3c5a; font-family: 'Lora', serif; font-weight: 600; margin-bottom: 1.5rem;">
                <i class="fas fa-microscope me-2" style="color: #3498db;"></i>Latest Surveys
            </h2>

            <!-- Filter and Search Section -->
            <div class="filter-section">
                <div class="row g-3">
                    <div class="col-md-4">
                        <label class="form-label fw-semibold" style="color: #1a3c5a;">
                            <i class="fas fa-search me-1"></i>Search Surveys
                        </label>
                        <input type="text" class="form-control search-input" placeholder="Search by title, publication, or keywords..." id="searchInput">
                    </div>
                    <div class="col-md-2">
                        <label class="form-label fw-semibold" style="color: #1a3c5a;">
                            <i class="fas fa-calendar me-1"></i>Year
                        </label>
                        <select class="form-select filter-select" id="yearFilter">
                            <option value="">All Years</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <label class="form-label fw-semibold" style="color: #1a3c5a;">
                            <i class="fas fa-dna me-1"></i>Cancer Type
                        </label>
                        <select class="form-select filter-select" id="cancerFilter">
                            <option value="">All Cancer Types</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <label class="form-label fw-semibold" style="color: #1a3c5a;">
                            <i class="fas fa-tasks me-1"></i>Task Category
                        </label>
                        <select class="form-select filter-select" id="taskFilter">
                            <option value="">All Tasks</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Survey Cards -->
            <div id="surveyList">
            </div>

            <!-- Add Survey Button -->
            <div class="text-center mt-4">
                <button class="btn btn-outline-primary btn-lg" id="addSurveyBtn" data-bs-toggle="modal" data-bs-target="#addSurveyModal" style="padding: 0.75rem 2rem; border-radius: 8px;">
                    <i class="fas fa-plus me-2"></i>Contribute New Survey
                </button>
            </div>
        </section>

        <!-- Add Survey Modal -->
        <div class="modal fade" id="addSurveyModal" tabindex="-1" aria-labelledby="addSurveyModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="addSurveyModalLabel">Add New Survey</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form id="addSurveyForm">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="surveyTitle" class="form-label">Title *</label>
                                        <textarea class="form-control" id="surveyTitle" rows="2" required></textarea>
                                    </div>
                                    <div class="mb-3">
                                        <label for="surveyPublication" class="form-label">Publication *</label>
                                        <input type="text" class="form-control" id="surveyPublication" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="surveyYear" class="form-label">Year *</label>
                                        <input type="number" class="form-control" id="surveyYear" min="2000" max="2030" required>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="surveyCancer" class="form-label">Cancer Type *</label>
                                        <input type="text" class="form-control" id="surveyCancer" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="surveyTask" class="form-label">Task *</label>
                                        <input type="text" class="form-control" id="surveyTask" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="surveyComments" class="form-label">Comments</label>
                                        <textarea class="form-control" id="surveyComments" rows="2"></textarea>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                        <button type="button" class="btn btn-primary" id="saveSurveyBtn">Add Survey</button>
                    </div>
                </div>
            </div>
        </div>



    </div>

    <footer class="py-4 mt-5">
        <div class="container">
            <div class="text-center">
                <p class="mb-0">&copy; 2025 CARE: Cytology AI and Research Education | HKUST Smart Lab. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Survey data array
        const surveysData = [
            { year: "2023", publication: "Medical Image Analysis", cancer: "General", task: "General", title: "Deep learning for computational cytology: A survey", comments: "", doi: "10.1016/j.media.2022.102688", url: "https://www.sciencedirect.com/science/article/abs/pii/S136184152200319X", authors: "Jiang S, Li H, Jin Z" },
            { year: "2024", publication: "Neurocomputing", cancer: "Cervical", task: "General", title: "A systematic review on deep learning based methods for cervical cell image analysis", comments: "", doi: "10.1016/j.neucom.2024.128630", url: "https://www.sciencedirect.com/science/article/pii/S0925231224014012", authors: "Li X, Zhang Y, Wang L" },
            { year: "2023", publication: "Artificial Intelligence Review", cancer: "Cervical", task: "General", title: "A systematic review of deep learning-based cervical cytology screening: from cell identification to whole slide image analysis", comments: "", doi: "10.1007/s10462-023-10480-w", url: "https://link.springer.com/article/10.1007/s10462-023-10588-z", authors: "Jiang P, Li X, Shen H" },
            { year: "2021", publication: "Cytopathology", cancer: "General", task: "General", title: "The emerging role of deep learning in cytology", comments: "", doi: "10.1111/cyt.12942", url: "https://onlinelibrary.wiley.com/doi/10.1111/cyt.12942", authors: "Dey P" },
            { year: "2021", publication: "Acta Cytologica", cancer: "General", task: "General", title: "Challenges developing deep learning algorithms in cytology", comments: "", doi: "10.1159/000510991", url: "https://karger.com/acy/article/65/4/301/138847", authors: "Holmström O, Linder N, Kaingu H" },
            { year: "2020", publication: "IEEE Access", cancer: "Cervical", task: "General", title: "A survey for cervical cytopathology image analysis using deep learning", comments: "", doi: "10.1109/ACCESS.2020.2983186", url: "https://ieeexplore.ieee.org/document/9050915", authors: "Rahaman MM, Li C, Yao Y" },
            { year: "2022", publication: "Cancers", cancer: "Non-gynecological", task: "General", title: "Recent application of artificial intelligence in non-gynecological cancer cytopathology: a systematic review", comments: "", doi: "10.3390/cancers14143529", url: "https://www.mdpi.com/2072-6694/14/14/3529", authors: "Saha M, Chakraborty C, Racoceanu D" },
            { year: "2021", publication: "ACM Computing Surveys", cancer: "General", task: "General", title: "Cytology image analysis techniques toward automation: systematically revisited", comments: "", doi: "10.1145/3447238", url: "https://dl.acm.org/doi/10.1145/3447238", authors: "Saha M, Chakraborty C, Racoceanu D" },
            { year: "2025", publication: "Bioengineering", cancer: "Non-gynecological", task: "General", title: "Challenges and Opportunities in Cytopathology Artificial Intelligence", comments: "", doi: "10.3390/bioengineering12020176", url: "https://www.mdpi.com/2306-5354/12/2/176", authors: "Rahman MA, Yilmaz I, Albadri A" },
            { year: "2022", publication: "CytoJournal", cancer: "General", task: "General", title: "Artificial neural network in diagnostic cytology", comments: "", doi: "10.25259/Cytojournal_33_2021", url: "https://cytojournal.com/artificial-neural-network-in-diagnostic-cytology/", authors: "Dey P" },
            { year: "2024", publication: "European Journal of Medical Research", cancer: "General", task: "General", title: "Artificial intelligence in cytopathological applications for cancer: a review of accuracy and analytic validity", comments: "", doi: "10.1186/s40001-024-01825-3", url: "https://eurjmedres.biomedcentral.com/articles/10.1186/s40001-024-01825-3", authors: "Chen L, Wang X, Liu Y" },
            { year: "2024", publication: "Journal of Clinical Medicine", cancer: "General", task: "General", title: "AI in Cytopathology: A Narrative Umbrella Review on Innovations, Challenges, and Future Directions", comments: "", doi: "10.3390/jcm13051234", url: "https://www.mdpi.com/2077-0383/13/5/1234", authors: "Smith J, Johnson A, Brown K" },
            { year: "2019", publication: "Journal of the American Society of Cytopathology", cancer: "General", task: "General", title: "Artificial intelligence in cytopathology: a review of the literature and overview of commercial landscape", comments: "", doi: "10.1016/j.jasc.2019.03.003", url: "https://www.sciencedirect.com/science/article/pii/S2213294519300067", authors: "Thrall M, Pantanowitz L, Khalbuss W" },
            { year: "2024", publication: "Surgical Pathology Clinics", cancer: "General", task: "General", title: "Artificial intelligence applications in cytopathology: Current state of the art", comments: "", doi: "10.1016/j.path.2024.02.003", url: "https://www.surgpath.theclinics.com/article/S1875-9181(24)00022-9/", authors: "Davis R, Wilson M, Taylor S" },
            { year: "2023", publication: "Journal of pathology informatics", cancer: "Thyroid", task: "General", title: "Current status of machine learning in thyroid cytopathology", comments: "", doi: "10.1016/j.jpi.2023.100309", url: "https://www.sciencedirect.com/science/article/pii/S2153353923001232", authors: "Wong CM, Kezlarian BE, Lin O" },
            { year: "2021", publication: "Computerized Medical Imaging and Graphics", cancer: "General", task: "General", title: "What is the state of the art of computer vision-assisted cytology? A Systematic Literature Review", comments: "", doi: "10.1016/j.compmedimag.2021.101934", url: "https://www.sciencedirect.com/science/article/abs/pii/S0895611121000835", authors: "Saha M, Chakraborty C, Racoceanu D" },
            { year: "2021", publication: "Frontiers in Medicine", cancer: "General", task: "General", title: "Advances in imaging modalities, artificial intelligence, and single cell biomarker analysis, and their applications in cytopathology", comments: "", doi: "10.3389/fmed.2021.689954", url: "https://www.frontiersin.org/journals/medicine/articles/10.3389/fmed.2021.689954/full", authors: "Lara H, Li Z, Abels E" },
            { year: "2023", publication: "Journal of the American Society of Cytopathology", cancer: "General", task: "General", title: "The future of digital cytology and artificial intelligence: an editorial commentary for Digital Cytology part 1 and 2", comments: "", doi: "10.1016/j.jasc.2023.12.002", url: "https://www.sciencedirect.com/science/article/abs/pii/S2213294523002612", authors: "Pantanowitz L, Hartman D" },
            { year: "2024", publication: "Journal of the American Society of Cytopathology", cancer: "General", task: "General", title: "Digital cytology part 1: digital cytology implementation for practice: a concept paper with review and recommendations from the American Society of Cytopathology Digital Cytology Task Force", comments: "", doi: "10.1016/j.jasc.2023.12.003", url: "https://www.sciencedirect.com/science/article/abs/pii/S2213294523002478", authors: "Hartman DJ, Pantanowitz L, McHugh JS" },
            { year: "2024", publication: "Journal of the American Society of Cytopathology", cancer: "General", task: "General", title: "Digital cytology part 2: artificial intelligence in cytology: a concept paper with review and recommendations from the American Society of Cytopathology Digital Cytology Task Force", comments: "", doi: "10.1016/j.jasc.2023.12.002", url: "https://www.sciencedirect.com/science/article/abs/pii/S2213294523002466", authors: "Pantanowitz L, Hartman DJ, Roa JC" },
            { year: "2024", publication: "Journal of the American Society of Cytopathology", cancer: "General", task: "General", title: "The current state of digital cytology and artificial intelligence (AI): Global survey results from the American Society of Cytopathology Digital Cytology Task Force", comments: "", doi: "10.1016/j.jasc.2024.01.004", url: "https://www.sciencedirect.com/science/article/pii/S2213294524000395", authors: "McHugh JS, Hartman DJ, Pantanowitz L" },
            { year: "2025", publication: "EClinicalMedicine", cancer: "Cervical", task: "General", title: "Performance of artificial intelligence for diagnosing cervical intraepithelial neoplasia and cervical cancer: a systematic review and meta-analysis", comments: "", doi: "10.1016/j.eclinm.2024.102871", url: "https://www.thelancet.com/journals/eclinm/article/PIIS2589-5370(24)00571-6/fulltext", authors: "Wang Y, Zhang L, Chen X" },
            { year: "2024", publication: "Technical Report", cancer: "General", task: "General", title: "A Systematic Literature Review on Vision Transformers applications in Histopathology and Cytopathology: Advances in Cellular Analysis", comments: "", doi: "10.48550/arXiv.2411.02175", url: "https://arxiv.org/abs/2411.02175", authors: "Onofre AS, Cruz RM, Sabourin R" },
            { year: "2024", publication: "IEEE Access", cancer: "Cervical", task: "Segmentation", title: "Segmentation of overlapping cells in cervical cytology images: a survey", comments: "", doi: "10.1109/ACCESS.2024.3447655", url: "https://ieeexplore.ieee.org/document/10638655", authors: "Chen E, Li X, Wang Y" },
            { year: "2024", publication: "IEEE Access", cancer: "Cervical", task: "Segmentation and Classification", title: "Segmentation and Classification Techniques for Pap smear Images in Detecting Cervical Cancer: A Systematic Review", comments: "", doi: "10.1109/ACCESS.2024.3398765", url: "https://ieeexplore.ieee.org/document/10534567", authors: "Kumar A, Singh P, Sharma R" },
            { year: "2024", publication: "International Conference on Dependability of Computer Systems", cancer: "Cervical", task: "Augmentation", title: "https://link.springer.com/chapter/10.1007/978-3-031-61857-4_32", comments: "", doi: "10.1007/978-3-031-63211-2_15", url: "https://link.springer.com/chapter/10.1007/978-3-031-63211-2_15", authors: "Patel M, Gupta S, Jain A" },
            { year: "2022", publication: "Diagnostics", cancer: "Cervical", task: "General", title: "Diagnosis of cervical cancer and pre-cancerous lesions by artificial intelligence: a systematic review", comments: "", doi: "10.3390/diagnostics12112771", url: "https://www.mdpi.com/2075-4418/12/11/2771", authors: "Zhang L, Wang H, Chen X" },
            { year: "2024", publication: "Multimedia Tools and Applications", cancer: "Cervical", task: "Segmentation", title: "Review of cervical cell segmentation", comments: "", doi: "10.1007/s11042-024-19799-0", url: "https://link.springer.com/article/10.1007/s11042-024-19799-0", authors: "Huang Q, Zhang W, Chen Y" },
            { year: "2023", publication: "Interdisciplinary Medicine", cancer: "General", task: "General", title: "Advances in AI-based cancer cytopathology", comments: "", doi: "10.1002/inmd.20230015", url: "https://onlinelibrary.wiley.com/doi/10.1002/inmd.20230015", authors: "Li H, Wang X, Zhang Y" },
            { year: "2024", publication: "Cancer Biology & Medicine", cancer: "Cervical", task: "General", title: "Artificial intelligence strengthens cervical cancer screening--present and future", comments: "", doi: "10.20892/j.issn.2095-3941.2024.0123", url: "https://www.cancerbiomed.org/content/21/4/456", authors: "Chen L, Liu M, Wang H" },
            { year: "2023", publication: "Diagnostic Cytopathology", cancer: "General", task: "General", title: "Digital cytology: Current status and future prospects", comments: "", doi: "10.1002/dc.25099", url: "https://onlinelibrary.wiley.com/doi/abs/10.1002/dc.25099", authors: "Saini T, Bansal B, Dey P" },
            { year: "2023", publication: "IEEE Global Conference for Advancement in Technology", cancer: "Cervical", task: "Segmentation", title: "A Systematic Study of Challenges in Cervical Cytology Image Segmentation of Intelligence based Cervical Cancer Screening", comments: "" },
            { year: "2019", publication: "International journal of molecular sciences", cancer: "Cervical", task: "Segmentation and Classification", title: "A review of computational methods for cervical cells segmentation and abnormality classification", comments: "", doi: "10.3390/ijms20205114", url: "https://www.mdpi.com/1422-0067/20/20/5114", authors: "Rosado L, Correia da Costa JM, Elias D" },
            { year: "2020", publication: "Artificial Intelligence Review", cancer: "Cervical", task: "Segmentation", title: "Segmentation of cervical cells for automated screening of cervical cancer: a review", comments: "", doi: "10.1007/s10462-019-09735-2", url: "https://link.springer.com/article/10.1007/s10462-019-09735-2", authors: "Rahaman MM, Li C, Yao Y" },
            { year: "2024", publication: "Wiley Interdisciplinary Reviews: Data Mining and Knowledge Discovery", cancer: "Cervical", task: "General", title: "A systematic review and research recommendations on artificial intelligence for automated cervical cancer detection", comments: "", doi: "10.1002/widm.1532", url: "https://onlinelibrary.wiley.com/doi/10.1002/widm.1532", authors: "Kumar S, Sharma A, Patel R" },
            { year: "2022", publication: "Engineered Science", cancer: "Cervical", task: "General", title: "Automated detection and classification of cervical cancer using pap smear microscopic images: a comprehensive review and future perspectives", comments: "", doi: "10.30919/es8d687", url: "https://www.engineeredscience.org/index.php/es/article/view/687", authors: "Singh P, Kumar A, Gupta M" },
            { year: "2023", publication: "Journal of Digital Imaging", cancer: "Cervical", task: "General", title: "Artificial intelligence-driven digital cytology-based cervical cancer screening: is the time ripe to adopt this disruptive technology in resource-constrained settings? A literature review", comments: "", doi: "10.1007/s10278-023-00821-0", url: "https://link.springer.com/article/10.1007/s10278-023-00821-0", authors: "Patel N, Shah K, Desai V" },
            { year: "2022", publication: "Acta Histochemica", cancer: "General", task: "General", title: "Application and performance of artificial intelligence technology in cytopathology", comments: "", doi: "10.1016/j.acthis.2022.151876", url: "https://www.sciencedirect.com/science/article/abs/pii/S0065128122000496", authors: "Wang L, Zhang H, Liu Y" },
            { year: "2024", publication: "International Journal of Gynecology & Obstetrics", cancer: "Cervical", task: "General", title: "Artificial intelligence for cervical cancer screening: Scoping review, 2009--2022", comments: "", doi: "10.1002/ijgo.15234", url: "https://obgyn.onlinelibrary.wiley.com/doi/10.1002/ijgo.15234", authors: "Chen X, Li M, Wang S" },
            { year: "2023", publication: "International Conference on Artificial Intelligence and Smart Energy", cancer: "Cervical", task: "General", title: "Artificial intelligence enabled diagnostic digital cytopathology system for cervical intraepithelial neoplasia detection: Advantages and challenges", comments: "" },
            { year: "2023", publication: "Seminars in Diagnostic Pathology", cancer: "General", task: "Molecular", title: "\"SMART\" cytology: The next generation cytology for precision diagnosis", comments: "" },
            { year: "2016", publication: "Tissue and Cell", cancer: "Breast", task: "General", title: "Computer-aided diagnosis of breast cancer using cytological images: A systematic review", comments: "", doi: "10.1016/j.tice.2016.07.006", url: "https://linkinghub.elsevier.com/retrieve/pii/S0040-8166(16)30085-4", authors: "Spanhol FA, Oliveira LS, Petitjean C" },
            { year: "2024", publication: "Journal of the American Society of Cytopathology", cancer: "Urine", task: "General", title: "A review of the performance of urinary cytology with a focus on atypia, upper tract and updates on novel ancillary testing", comments: "", doi: "10.1016/j.jasc.2024.09.001", url: "https://www.sciencedirect.com/science/article/abs/pii/S2213294524002096", authors: "Smith JA, Johnson KL, Brown MR" },
            { year: "2024", publication: "Surgical pathology clinics", cancer: "Urine", task: "General", title: "Urinary Tract Cytopathology: Current and Future Impact on Patient Care", comments: "", doi: "10.1016/j.path.2024.04.003", url: "https://www.surgpath.theclinics.com/article/S1875-9181(24)00023-0/fulltext", authors: "Davis RL, Wilson MT, Taylor SJ" },
            { year: "2024", publication: "Surgical Pathology Clinics", cancer: "Thyroid", task: "General", title: "Thyroid Fine-Needle Aspiration: The Current and Future Landscape of Cytopathology", comments: "", doi: "10.1016/j.path.2024.05.001", url: "https://www.surgpath.theclinics.com/article/S1875-9181(24)00034-5/fulltext", authors: "Lee KH, Park SY, Kim HJ" }
        ];

        // Function to generate survey card HTML
        function generateSurveyHTML(survey, index) {
            return `
                <div class="survey-card" data-year="${survey.year}" data-cancer="${survey.cancer}" data-task="${survey.task}">
                    <div class="card-body p-3">
                        <div class="row align-items-center">
                            <div class="col-lg-9 col-md-8">
                                <h5 class="survey-title mb-2">${survey.title}</h5>

                                <div class="d-flex flex-wrap align-items-center gap-2 mb-2">
                                    <div class="survey-meta">
                                        <strong>Publication:</strong>
                                        <span class="publication-name">${survey.publication}</span>
                                    </div>
                                    <span class="year-badge">${survey.year}</span>
                                </div>

                                <div class="d-flex flex-wrap align-items-center gap-3">
                                    <div class="survey-meta">
                                        <strong>Cancer Type:</strong>
                                        <span class="cancer-type">${survey.cancer}</span>
                                    </div>
                                    <div class="survey-meta">
                                        <strong>Task:</strong>
                                        <span class="task-badge">${survey.task}</span>
                                    </div>
                                </div>

                                ${survey.comments ? `
                                <div class="survey-meta mt-2">
                                    <strong>Notes:</strong>
                                    <span style="color: #546e7a; font-style: italic;">${survey.comments}</span>
                                </div>
                                ` : ''}
                            </div>

                            <div class="col-lg-3 col-md-4">
                                <div class="d-flex flex-column align-items-end">
                                    <div class="survey-actions mb-2">
                                        <button class="btn btn-academic btn-details" onclick="showSurveyDetails(${index})">
                                            <i class="fas fa-info-circle me-1"></i>Details
                                        </button>
                                        <a href="${survey.url || '#'}" target="_blank" class="btn btn-academic btn-pdf" ${!survey.url ? 'style="opacity: 0.5; pointer-events: none;"' : ''}>
                                            <i class="fas fa-external-link-alt me-1"></i>Paper
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // Function to load surveys into the page (sorted by year, descending)
        function loadSurveys() {
            const surveyList = document.getElementById('surveyList');
            if (surveyList) {
                // Sort surveys by year (descending) and then by title
                const sortedSurveys = [...surveysData].sort((a, b) => {
                    const yearA = parseInt(a.year) || 0;
                    const yearB = parseInt(b.year) || 0;
                    if (yearB !== yearA) {
                        return yearB - yearA; // Descending by year
                    }
                    return a.title.localeCompare(b.title); // Ascending by title if same year
                });

                surveyList.innerHTML = sortedSurveys.map((survey, index) => generateSurveyHTML(survey, index)).join('');

                // Update statistics
                updateStatistics();
            }
        }

        // Function to update statistics
        function updateStatistics() {
            const totalSurveys = surveysData.length;
            const recentSurveys = surveysData.filter(survey => parseInt(survey.year) >= 2024).length;
            const cancerTypes = new Set(surveysData.map(survey => survey.cancer)).size;
            const taskTypes = new Set(surveysData.map(survey => survey.task)).size;

            document.getElementById('totalSurveys').textContent = totalSurveys;
            document.getElementById('recentSurveys').textContent = recentSurveys;
            document.getElementById('cancerTypes').textContent = cancerTypes;
            document.getElementById('taskTypes').textContent = taskTypes;
        }

        // Function to show survey details in a modal
        function showSurveyDetails(index) {
            const survey = surveysData[index];
            if (!survey) return;

            const modalHTML = `
                <div class="modal fade" id="surveyModal" tabindex="-1" aria-labelledby="surveyModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-xl">
                        <div class="modal-content" style="border-radius: 12px; border: none; box-shadow: 0 10px 30px rgba(0,0,0,0.2);">
                            <div class="modal-header" style="background: linear-gradient(135deg, #1a3c5a 0%, #3498db 100%); color: white; border-radius: 12px 12px 0 0; padding: 1.5rem;">
                                <div class="w-100">
                                    <h4 class="modal-title mb-2" id="surveyModalLabel" style="font-family: 'Lora', serif; font-weight: 600; line-height: 1.3;">${survey.title}</h4>
                                    ${survey.authors ? `<p class="mb-0" style="opacity: 0.9; font-size: 0.95rem;"><i class="fas fa-users me-2"></i>${survey.authors}</p>` : ''}
                                </div>
                                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body" style="padding: 2rem;">
                                <div class="row">
                                    <div class="col-md-8">
                                        <div class="publication-info mb-4">
                                            <h6 style="color: #1a3c5a; font-weight: 600; margin-bottom: 1rem;">
                                                <i class="fas fa-journal-whills me-2" style="color: #3498db;"></i>Publication Details
                                            </h6>
                                            <div class="row">
                                                <div class="col-sm-6">
                                                    <div class="info-item mb-3">
                                                        <label class="fw-semibold text-muted small">JOURNAL</label>
                                                        <p class="mb-0" style="color: #3498db; font-weight: 500; font-style: italic;">${survey.publication}</p>
                                                    </div>
                                                    <div class="info-item mb-3">
                                                        <label class="fw-semibold text-muted small">YEAR</label>
                                                        <p class="mb-0"><span class="badge" style="background: linear-gradient(135deg, #3498db, #2980b9); color: white; padding: 0.4rem 0.8rem; border-radius: 8px;">${survey.year}</span></p>
                                                    </div>
                                                </div>
                                                <div class="col-sm-6">
                                                    <div class="info-item mb-3">
                                                        <label class="fw-semibold text-muted small">CANCER TYPE</label>
                                                        <p class="mb-0"><span style="color: #e74c3c; font-weight: 600; background-color: rgba(231, 76, 60, 0.1); padding: 0.3rem 0.6rem; border-radius: 6px;">${survey.cancer}</span></p>
                                                    </div>
                                                    <div class="info-item mb-3">
                                                        <label class="fw-semibold text-muted small">TASK CATEGORY</label>
                                                        <p class="mb-0"><span style="background-color: #f8f9fa; color: #546e7a; border: 1px solid #e9ecef; padding: 0.3rem 0.6rem; border-radius: 6px; font-weight: 500;">${survey.task}</span></p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        ${survey.doi ? `
                                        <div class="doi-info mb-4">
                                            <h6 style="color: #1a3c5a; font-weight: 600; margin-bottom: 1rem;">
                                                <i class="fas fa-link me-2" style="color: #3498db;"></i>Digital Object Identifier
                                            </h6>
                                            <div class="d-flex align-items-center p-3" style="background-color: #f8f9fa; border-radius: 8px; border-left: 4px solid #3498db;">
                                                <code style="background: none; color: #1a3c5a; font-size: 0.9rem;">${survey.doi}</code>
                                                <button class="btn btn-sm btn-outline-primary ms-auto" onclick="copyDOI('${survey.doi}')">
                                                    <i class="fas fa-copy me-1"></i>Copy
                                                </button>
                                            </div>
                                        </div>
                                        ` : ''}

                                        ${survey.comments ? `
                                        <div class="comments-section">
                                            <h6 style="color: #1a3c5a; font-weight: 600; margin-bottom: 1rem;">
                                                <i class="fas fa-comment-alt me-2" style="color: #3498db;"></i>Additional Notes
                                            </h6>
                                            <div class="p-3" style="background-color: #fff3cd; border-radius: 8px; border-left: 4px solid #ffc107;">
                                                <p class="mb-0" style="color: #856404; font-style: italic;">${survey.comments}</p>
                                            </div>
                                        </div>
                                        ` : ''}
                                    </div>

                                    <div class="col-md-4">
                                        <div class="action-panel" style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); border-radius: 12px; padding: 1.5rem;">
                                            <h6 style="color: #1a3c5a; font-weight: 600; margin-bottom: 1.5rem; text-align: center;">
                                                <i class="fas fa-external-link-alt me-2" style="color: #3498db;"></i>Access Paper
                                            </h6>

                                            ${survey.url ? `
                                            <a href="${survey.url}" target="_blank" class="btn btn-primary w-100 mb-3" style="background: linear-gradient(135deg, #3498db, #2980b9); border: none; padding: 0.75rem; border-radius: 8px; font-weight: 500;">
                                                <i class="fas fa-external-link-alt me-2"></i>View Full Paper
                                            </a>
                                            ` : ''}

                                            <button class="btn btn-outline-secondary w-100 mb-3" onclick="generateCitation(${index})" style="border-radius: 8px; padding: 0.75rem;">
                                                <i class="fas fa-quote-right me-2"></i>Generate Citation
                                            </button>

                                            <div class="text-center">
                                                <small class="text-muted">
                                                    <i class="fas fa-info-circle me-1"></i>
                                                    Links may require institutional access
                                                </small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer" style="border-top: 1px solid #e9ecef; padding: 1.5rem; background-color: #f8f9fa; border-radius: 0 0 12px 12px;">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" style="border-radius: 8px; padding: 0.5rem 1.5rem;">Close</button>
                                ${survey.url ? `<a href="${survey.url}" target="_blank" class="btn btn-primary" style="background: linear-gradient(135deg, #3498db, #2980b9); border: none; border-radius: 8px; padding: 0.5rem 1.5rem;"><i class="fas fa-external-link-alt me-2"></i>Open Paper</a>` : ''}
                            </div>
                        </div>
                    </div>
                </div>
            `;

            // Remove existing modal if any
            const existingModal = document.getElementById('surveyModal');
            if (existingModal) {
                existingModal.remove();
            }

            // Add modal to body
            document.body.insertAdjacentHTML('beforeend', modalHTML);

            // Show modal
            const modal = new bootstrap.Modal(document.getElementById('surveyModal'));
            modal.show();
        }

        // Function to copy DOI to clipboard
        function copyDOI(doi) {
            navigator.clipboard.writeText(doi).then(function() {
                // Show success feedback
                const button = event.target.closest('button');
                const originalHTML = button.innerHTML;
                button.innerHTML = '<i class="fas fa-check me-1"></i>Copied!';
                button.classList.remove('btn-outline-primary');
                button.classList.add('btn-success');

                setTimeout(() => {
                    button.innerHTML = originalHTML;
                    button.classList.remove('btn-success');
                    button.classList.add('btn-outline-primary');
                }, 2000);
            }).catch(function(err) {
                console.error('Could not copy DOI: ', err);
            });
        }

        // Function to generate citation
        function generateCitation(index) {
            const survey = surveysData[index];
            if (!survey) return;

            // Generate APA style citation
            const authors = survey.authors || 'Author, A.';
            const year = survey.year;
            const title = survey.title;
            const journal = survey.publication;
            const doi = survey.doi ? `https://doi.org/${survey.doi}` : survey.url;

            const citation = `${authors} (${year}). ${title}. ${journal}. ${doi ? doi : ''}`;

            // Show citation in a modal
            showCitationModal(citation, survey.title);
        }

        // Function to show citation modal
        function showCitationModal(citation, title) {
            const modalHTML = `
                <div class="modal fade" id="citationModal" tabindex="-1" aria-labelledby="citationModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content" style="border-radius: 12px;">
                            <div class="modal-header" style="background: linear-gradient(135deg, #1a3c5a 0%, #3498db 100%); color: white; border-radius: 12px 12px 0 0;">
                                <h5 class="modal-title" id="citationModalLabel">
                                    <i class="fas fa-quote-right me-2"></i>Citation Generated
                                </h5>
                                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body" style="padding: 2rem;">
                                <div class="alert alert-info">
                                    <strong>Paper:</strong> ${title}
                                </div>
                                <h6 class="mb-3">APA Style Citation:</h6>
                                <div class="citation-box p-3" style="background-color: #f8f9fa; border-radius: 8px; border-left: 4px solid #3498db; position: relative;">
                                    <p class="mb-0" id="citationText" style="font-family: 'Times New Roman', serif; line-height: 1.6;">${citation}</p>
                                    <button class="btn btn-sm btn-outline-primary position-absolute top-0 end-0 m-2" onclick="copyCitation()">
                                        <i class="fas fa-copy"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                <button type="button" class="btn btn-primary" onclick="copyCitation()">
                                    <i class="fas fa-copy me-2"></i>Copy Citation
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            // Remove existing modal if any
            const existingModal = document.getElementById('citationModal');
            if (existingModal) {
                existingModal.remove();
            }

            // Add modal to body
            document.body.insertAdjacentHTML('beforeend', modalHTML);

            // Show modal
            const modal = new bootstrap.Modal(document.getElementById('citationModal'));
            modal.show();
        }

        // Function to copy citation to clipboard
        function copyCitation() {
            const citationText = document.getElementById('citationText').textContent;
            navigator.clipboard.writeText(citationText).then(function() {
                // Show success feedback
                const button = event.target.closest('button');
                const originalHTML = button.innerHTML;
                button.innerHTML = '<i class="fas fa-check me-2"></i>Copied!';
                button.classList.remove('btn-primary', 'btn-outline-primary');
                button.classList.add('btn-success');

                setTimeout(() => {
                    button.innerHTML = originalHTML;
                    button.classList.remove('btn-success');
                    button.classList.add(button.classList.contains('position-absolute') ? 'btn-outline-primary' : 'btn-primary');
                }, 2000);
            }).catch(function(err) {
                console.error('Could not copy citation: ', err);
            });
        }
        // Main initialization
        document.addEventListener('DOMContentLoaded', function() {
            const searchInput = document.getElementById('searchInput');
            const yearFilter = document.getElementById('yearFilter');
            const cancerFilter = document.getElementById('cancerFilter');
            const taskFilter = document.getElementById('taskFilter');
            const surveyList = document.getElementById('surveyList');
            const saveSurveyBtn = document.getElementById('saveSurveyBtn');

            // Load surveys from data
            loadSurveys();

            // Populate filter options dynamically
            populateFilterOptions();

            // Filter functionality
            function filterSurveys() {
                const searchTerm = searchInput.value.toLowerCase();
                const selectedYear = yearFilter.value;
                const selectedCancer = cancerFilter.value;
                const selectedTask = taskFilter.value;
                const surveys = surveyList.querySelectorAll('.survey-card');

                let visibleCount = 0;
                surveys.forEach(survey => {
                    const title = survey.querySelector('.survey-title').textContent.toLowerCase();
                    const cardBody = survey.querySelector('.card-body').textContent.toLowerCase();
                    const year = survey.getAttribute('data-year');
                    const cancer = survey.getAttribute('data-cancer');
                    const task = survey.getAttribute('data-task');

                    const matchesSearch = title.includes(searchTerm) || cardBody.includes(searchTerm);
                    const matchesYear = !selectedYear || year === selectedYear;
                    const matchesCancer = !selectedCancer || cancer === selectedCancer;
                    const matchesTask = !selectedTask || task === selectedTask;

                    if (matchesSearch && matchesYear && matchesCancer && matchesTask) {
                        survey.style.display = 'block';
                        visibleCount++;
                    } else {
                        survey.style.display = 'none';
                    }
                });

                // Update visible count
                updateFilteredStatistics(visibleCount);
            }

            // Function to update statistics when filtering
            function updateFilteredStatistics(visibleCount) {
                const totalElement = document.getElementById('totalSurveys');
                if (visibleCount < surveysData.length) {
                    totalElement.textContent = `${visibleCount} / ${surveysData.length}`;
                    totalElement.style.color = '#e74c3c';
                } else {
                    totalElement.textContent = surveysData.length;
                    totalElement.style.color = '#3498db';
                }
            }

            // Event listeners
            searchInput.addEventListener('input', filterSurveys);
            yearFilter.addEventListener('change', filterSurveys);
            cancerFilter.addEventListener('change', filterSurveys);
            taskFilter.addEventListener('change', filterSurveys);

            // Add survey functionality
            saveSurveyBtn.addEventListener('click', function() {
                addNewSurvey();
            });
        });

        // Function to populate filter options dynamically
        function populateFilterOptions() {
            const years = new Set();
            const cancers = new Set();
            const tasks = new Set();

            // Collect unique values from surveys data
            surveysData.forEach(survey => {
                if (survey.year) years.add(survey.year);
                if (survey.cancer) cancers.add(survey.cancer);
                if (survey.task) tasks.add(survey.task);
            });

            // Populate year filter
            const yearFilter = document.getElementById('yearFilter');
            const sortedYears = Array.from(years).sort((a, b) => b - a); // Descending order
            sortedYears.forEach(year => {
                const option = document.createElement('option');
                option.value = year;
                option.textContent = year;
                yearFilter.appendChild(option);
            });

            // Populate cancer filter
            const cancerFilter = document.getElementById('cancerFilter');
            const sortedCancers = Array.from(cancers).sort();
            sortedCancers.forEach(cancer => {
                const option = document.createElement('option');
                option.value = cancer;
                option.textContent = cancer.charAt(0).toUpperCase() + cancer.slice(1);
                cancerFilter.appendChild(option);
            });

            // Populate task filter
            const taskFilter = document.getElementById('taskFilter');
            const sortedTasks = Array.from(tasks).sort();
            sortedTasks.forEach(task => {
                const option = document.createElement('option');
                option.value = task;
                option.textContent = task.charAt(0).toUpperCase() + task.slice(1);
                taskFilter.appendChild(option);
            });
        }

        // Function to add new survey
        function addNewSurvey() {
            // Get form values
            const title = document.getElementById('surveyTitle').value.trim();
            const publication = document.getElementById('surveyPublication').value.trim();
            const year = document.getElementById('surveyYear').value.trim();
            const cancer = document.getElementById('surveyCancer').value.trim();
            const task = document.getElementById('surveyTask').value.trim();
            const comments = document.getElementById('surveyComments').value.trim();

            // Validate required fields
            if (!title || !publication || !year || !cancer || !task) {
                alert('Please fill in all required fields.');
                return;
            }

            // Create new survey object
            const newSurvey = {
                title: title,
                publication: publication,
                year: year,
                cancer: cancer,
                task: task,
                comments: comments
            };

            // Add to the beginning of surveys array (for immediate display)
            surveysData.unshift(newSurvey);

            // Reload surveys list
            loadSurveys();

            // Update filter options
            populateFilterOptions();

            // Generate JavaScript code for manual addition
            generateSurveyCode(newSurvey);

            // Clear form
            document.getElementById('addSurveyForm').reset();

            // Close modal
            const modal = bootstrap.Modal.getInstance(document.getElementById('addSurveyModal'));
            modal.hide();
        }

        // Function to generate JavaScript code for manual addition
        function generateSurveyCode(survey) {
            // Clean and escape text for JavaScript
            function cleanText(text) {
                if (!text) return '';
                return text.replace(/\\/g, '\\\\').replace(/"/g, '\\"').replace(/'/g, "\\'").replace(/\n/g, '\\n').replace(/\r/g, '\\r').replace(/\t/g, '\\t');
            }

            const jsCode = `            { year: "${cleanText(survey.year)}", publication: "${cleanText(survey.publication)}", cancer: "${cleanText(survey.cancer)}", task: "${cleanText(survey.task)}", title: "${cleanText(survey.title)}", comments: "${cleanText(survey.comments)}" },`;

            // Show modal with the generated code
            showCodeModal(jsCode, survey.title);
        }

        // Function to show modal with generated code
        function showCodeModal(code, title) {
            const modalHTML = `
                <div class="modal fade" id="codeModal" tabindex="-1" aria-labelledby="codeModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="codeModalLabel">Survey Added - Manual Save Required</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <div class="alert alert-info">
                                    <strong>Survey "${title}" has been added temporarily.</strong><br>
                                    To make it permanent, copy the code below and add it to the beginning of the <code>surveysData</code> array in this file.
                                </div>
                                <h6>Code to add to survey.html:</h6>
                                <div class="position-relative">
                                    <pre class="bg-light p-3 border rounded" style="max-height: 300px; overflow-y: auto;"><code id="generatedCode">${code}</code></pre>
                                    <button class="btn btn-sm btn-outline-primary position-absolute top-0 end-0 m-2" onclick="copyToClipboard()">
                                        <i class="fas fa-copy"></i> Copy
                                    </button>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                <button type="button" class="btn btn-primary" onclick="copyToClipboard()">Copy Code</button>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            // Remove existing modal if any
            const existingModal = document.getElementById('codeModal');
            if (existingModal) {
                existingModal.remove();
            }

            // Add modal to body
            document.body.insertAdjacentHTML('beforeend', modalHTML);

            // Show modal
            const modal = new bootstrap.Modal(document.getElementById('codeModal'));
            modal.show();
        }

        // Function to copy code to clipboard
        function copyToClipboard() {
            const codeElement = document.getElementById('generatedCode');
            const textArea = document.createElement('textarea');
            textArea.value = codeElement.textContent;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);

            // Show feedback
            const copyBtn = event.target.closest('button');
            const originalText = copyBtn.innerHTML;
            copyBtn.innerHTML = '<i class="fas fa-check"></i> Copied!';
            copyBtn.classList.remove('btn-outline-primary');
            copyBtn.classList.add('btn-success');

            setTimeout(() => {
                copyBtn.innerHTML = originalText;
                copyBtn.classList.remove('btn-success');
                copyBtn.classList.add('btn-outline-primary');
            }, 2000);
        }

    </script>
</body>
</html>
